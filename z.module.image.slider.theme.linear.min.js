zjs.require("image.slider, image.loader, transition",function(g){g.regSliderTheme("linear",function(B,d,a){a=g.extend({width:0,height:0,transition:0,transitionTime:500,transitionTimingfunction:2,border:!1,preload:!1,lazyloadImage:!1,lazyloadDelay:0,autoplay:!0,autoplayTime:1500,playButton:!1,navButton:!0,navButtonParentIsRoot:!1,navButtonAutoDisable:!1,navThumb:!0,navDot:!0,showInfo:!0,linkTitle:!1,linkCover:!1,sequent:!0,usePercentWidth:!1,navThumbSlider:!1,navThumbSliderTransition:"horizontal-page",
navThumbSliderTransitionTime:1600,navThumbSliderTransitionTimingfunction:2,navThumbSliderNavButton:!0,navThumbSliderUsePercentWidth:!1,navThumbSliderAutoHeight:!1,autoHeight:!1,fullHeight:!1,fullWidth:!0,fullscreenWidth:!1,scaleHeightWhenWidthLessThan:0,autoDisableWhenWidthLessThan:0,autoDisableWhenWidthLargerThan:0,autoDisableWhenWindowWidthLessThan:0,autoDisableWhenWindowWidthLargerThan:0,hoverToSlide:!1,navButtonTemplate:'<a class="nav-button"></a>',navThumbTemplate:'<a class="nav-image"></a>',
navDotTemplate:'<a class="nav-dot">.</a>',customElementsClass:"elements",customTransitionClass:"transition",usecss:!0,contentSlide:!1,navImagesElMargin:0,startIndex:0,dragSlide:!1,popup:!1,popupOnly:!1,popupShowOnClick:!0,popupHideOnClickOut:!1,popupCloseButton:!0,popupAllowKeyboard:!0,popupAnimate:!1,popupAnimateTime:1E3,popupAnimateName:"fadeInDown fadeOutUp",popupTransition:!1,popupTransitionTime:!1,popupTransitionTimingfunction:!1,popupAutoplay:!0,popupAutoplayTime:6E3,popupPlayButton:!1,popupNavButton:!0,
popupNavButtonParentIsRoot:!1,popupNavThumb:!0,popupNavDot:!0,popupLinkTitle:!1,popupLinkCover:!1,popupSequent:!0,popupFullscreenWidth:!1,popupPageCoverClass:"",popupContainerClass:"",cleanHtml:!1,onChange:function(a){},allowChange:function(a){return!0},debug:!1},a);var Da=[];g.foreach(d,function(b){""==b.src&&""==b.srclazy||Da.push(b);b.srclazy&&(a.lazyloadImage=!0)});a.contentSlide||(d=Da);for(var D=0;D<d.length;D++)d[D].index=D,d[D].lazyloaded=!1,d[D].lazyEl=!1;a.width=parseInt(a.width);a.height=
parseInt(a.height);"none"==a.transition&&(a.transition=0);if("fade"==a.transition||"fadein"==a.transition)a.transition=1;if("horizontal"==a.transition||"slide-horizontal"==a.transition||"horizontal-slide"==a.transition)a.transition=2;"horizontal-stack"==a.transition&&(a.transition=201);"horizontal-page"==a.transition&&(a.transition=202);"horizontal-center"==a.transition&&(a.transition=203);"horizontal-stack-center"==a.transition&&(a.transition=204);"horizontal-page-center"==a.transition&&(a.transition=
205);if("vertical"==a.transition||"slide-vertical"==a.transition||"vertical-slide"==a.transition)a.transition=3;2>d.length&&(a.autoplay=!1);if(200<a.transition){a.fullWidth=!1;a.fullscreenWidth=!1;if(201==a.transition||202==a.transition||204==a.transition||205==a.transition)a.navButtonParentIsRoot=!0;if(202==a.transition||205==a.transition)a.sequent=!0}a.usePercentWidth=!!a.usePercentWidth;a.autoHeight=!!a.autoHeight;a.navButtonAutoDisable=!!a.navButtonAutoDisable;a.fullscreenWidth&&(a.fullWidth=
!1);a.contentSlide&&(a.preload=!1,a.navThumb=!1,a.hoverToSlide=!1,a.showInfo=!1);a.startIndex=parseInt(a.startIndex);0>a.startIndex&&(a.startIndex=0);a.startIndex>=d.length&&(a.startIndex=d.length-1);a.navThumbSlider&&(a.navButtonParentIsRoot=!0,a.navThumb=!1);a.popupOnly&&(a.popup=!0);a.popupAnimate&&(a.popupAnimateTime=parseInt(a.popupAnimateTime),g.require("ui.popup"));a.scaleHeightWhenWidthLessThan=parseInt(a.scaleHeightWhenWidthLessThan);0>a.scaleHeightWhenWidthLessThan&&(a.scaleHeightWhenWidthLessThan=
0);a.autoDisableWhenWidthLessThan=parseInt(a.autoDisableWhenWidthLessThan);0>a.autoDisableWhenWidthLessThan&&(a.autoDisableWhenWidthLessThan=0);a.autoDisableWhenWidthLargerThan=parseInt(a.autoDisableWhenWidthLargerThan);0>a.autoDisableWhenWidthLargerThan&&(a.autoDisableWhenWidthLargerThan=0);a.autoDisableWhenWindowWidthLessThan=parseInt(a.autoDisableWhenWindowWidthLessThan);0>a.autoDisableWhenWindowWidthLessThan&&a.autoDisableWhenWindowWidthLessThan;var f=g(B),R=g(document.body),N=g(window),O=f.parent(),
La=!!f.getData("zmodulesliderlinearispopup",!1),na=f.html();f.removeAttr("data-option");a.dragSlide&&f.addClass("drag");f.addClass(a.usePercentWidth?"use-percent":"use-pixel");f.find(a.slideitem).each(function(b,c){if(!(c>=d.length)){var e=g(b).getAttr("data-option","");g.isString(e)&&""!=e.trim()&&(e=e.jsonDecode());g.isObject(e)||(e=!1);d[c].option=e;e=g(b).find("."+a.customElementsClass);0>=e.count()&&a.contentSlide&&(e=g(b));d[c].customEl=e.clone(!0);a.lazyloadImage&&d[c].customEl.addClass("imageloading")}});
var x=!0,oa=!1,pa=!1,S=!1,w=!1;if(a.popupOnly)a.popupShowOnClick&&f.find(a.slideitem).each(function(a,c){g(a).setAttr("data-index",c).click(function(a){a.preventDefault();a=this.getAttr("data-index");Z(a);f.trigger("slider.click",{index:a})})});else{D=g("<div></div>").html('<div class="image-view"><div class="image-view-wrap"></div><div class="image-view-border"></div></div><div class="image-info-wrap"><div class="image-info-container"><div class="image-title"><h4></h4></div><div class="image-description"></div></div></div><div class="image-linkcover-wrap"><a href="#"></a></div><div class="play-wrap"><a class="play-process-bar"></a><div class="playpause-button"></div></div><div class="nav-wrap"><div class="nav-container"><div class="nav-dots-wrap"><div class="nav-dots"></div></div><a class="nav-button nav-back"></a><div class="nav-images-wrap"><div class="nav-images"></div></div><a class="nav-button nav-next"></a></div></div>');
w=g("<div></div>").addClass("imageslider-wrap");a.cleanHtml&&f.html("");var qa=f.find("ul,ol,table,div").item(0);qa.count()?w.insertAfter(qa):w.appendTo(f);D.child().each(function(a){g(a).appendTo(w)});f.find(a.slideitem).remove();qa.remove();D.remove();f.addClass("imageslider-linear");f.addClass("total-image-"+d.length);201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||f.addClass("horizontal-stack");203==a.transition&&f.addClass("horizontal-center");204==
a.transition&&f.addClass("horizontal-stack-center");205==a.transition&&f.addClass("horizontal-page horizontal-page-center")}var T=f.find(".nav-images-wrap"),D=f.find(".nav-dots-wrap"),Ea=f.find(".nav-dots"),E=f.find(".nav-images"),H=0,U=f.find(".image-view");f.find(".image-view-border");var h=f.find(".image-view-wrap"),ra=f.find(".image-title h4"),Ma=f.find(".image-description"),aa=f.find(".image-linkcover-wrap"),k=-1,p=-1,Fa="",ba="",sa="",J="",m=1,u=-1,y=-1,l=a.width,n=a.height,ca=n,Na=1;if(a.fullscreenWidth||
a.fullWidth||a.usePercentWidth)l=a.fullscreenWidth?R.width():O.width();a.fullHeight&&(n=O.height());0>=l&&(l=h.width());0>=l&&(l=O.width());0>=l&&(l=R.width());0>=n&&(n=h.height());0>=n&&(n=parseInt(O.height()));if(0>=n)try{var C=h.getCss();if(C){var Ga=C.match(/(^|[^a-z-])height:\s*(\d+)\s*px/);g.isArray(Ga)&&(n=parseInt(Ga[2]))}}catch(b){}0>=n&&(n=376);ca=n;a.fullHeight||U.height(n);a.fullscreenWidth||a.fullWidth||a.usePercentWidth||U.width(l);h.setStyle("position","absolute");var Ha=h.item(0,!0),
z=0,q=-1,K="cubic-bezier(0, 0, 1, 1)",F=!1,V=function(){F&&h.setStyle("transition","transform "+a.transitionTime+"ms "+K)},da=function(){F&&h.setStyle("transition","")};if(g.supportTransform&&a.usecss){F=!0;h.setStyle("transform","translate3d(0, 0, 0)");switch(a.transitionTimingfunction){case 1:case "sinoidal":K="cubic-bezier(0,0,.58,1)";break;case 2:case "quadratic":K="cubic-bezier(0.18, 0.17, 0.37, 0.99)";break;case 3:case "cubic":K="cubic-bezier(.34,.95,.84,1.39)";break;case 4:case "elastic":K=
"cubic-bezier(.71,1.61,.5,.82)"}"string"==typeof a.transitionTimingfunction&&0<=a.transitionTimingfunction.indexOf("cubic-bezier")&&(K=a.transitionTimingfunction);V()}d.each(function(b,c){if(!a.popupOnly&&(""!=b.src||a.contentSlide)){if(a.navThumb){var e=a.navThumbTemplate;g.isFunction(e)&&(e=e(c));e=e.format({index:c,src:b.src,title:b.title,description:b.description});e=g(e).addClass("nav-image").setStyle("background-image","url("+b.src+")").setAttr("data-index",c).appendTo(E).on(a.hoverToSlide?
"hover":"click",function(a,b){var c=g(b).getAttr("data-index").toInt();t(c)});b.title&&e.find(".title").html(b.title);H=e.getStyle("margin-right",!0);if(isNaN(H)||!H)H=a.navImagesElMargin}a.navDot&&(e=a.navDotTemplate,g.isFunction(e)&&(e=e(c)),e=e.format({index:c,src:b.src,title:b.title,description:b.description}),g(e).addClass("nav-dot").setAttr("data-index",c).appendTo(Ea).click(function(a,b){var c=g(b).getAttr("data-index").toInt();t(c)}));var e=g('<div class="image-hold"></div>').addClass("image"+
c).setData("image-index",c).appendTo(h).append(b.customEl),f=e.width();a.contentSlide||(f=La?b.srcpopup||b.srclarge||b.src:250>f?b.src:b.srclarge||b.src,e.setStyle({top:0,left:0}),a.lazyloadImage?(b.srclazy?e.setStyle("background-image","url("+f+")"):b.srclazy=f,e.addClass("imageloading"),b.lazyEl=e):e.setStyle("background-image","url("+f+")"));0!=a.transition&&1!=a.transition||e.setStyle({opacity:0,"z-index":0}).hide();1==a.transition&&F&&e.show().setStyle("transition","opacity "+a.transitionTime+
"ms "+K);2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||e.left(l*c);3==a.transition&&e.top(n*c);d[c].el=e}});if(a.navThumb){C=parseInt(f.find(".nav-image").width());E.width((C+H)*d.length);var Oa=function(){var a=E.find(".nav-image.active").left();E.left();var c=E.width(),e=T.width(),a=2*(T.find(".nav-image").width()+H)-a;0<a&&(a=0);a<e-c+H&&(a=e-c+H);E.width()<T.width()&&(a=T.width()/2-E.width()/2);g.supportTransition?E.left(a):g.timer({from:E.left(),
to:a,onProcess:function(a){E.left(a)},onFinish:function(a,b){E.left(b)}}).run()}}else T.remove();a.navDot||D.remove();var Ia=function(a){};a.navButton?(a.navButtonParentIsRoot&&f.find(".nav-next, .nav-back").appendTo(f),Ia=function(b){var c=a.navButtonTemplate;g.isFunction(c)&&(c=c(y,d[y]));c=c.format(d[y])+"";b=g(c).addClass("nav-back").setAttr("data-index",y);c=f.find(".nav-back").item(0);b.insertBefore(c).click(function(a){a.preventDefault();this.hasClass("disabled")||Ja()});c.remove();c=a.navButtonTemplate;
g.isFunction(c)&&(c=c(u,d[u]));var c=c.format(d[u])+"",c=g(c).addClass("nav-next").setAttr("data-index",u),e=f.find(".nav-next").item(0);c.insertBefore(e).click(function(a){a.preventDefault();this.hasClass("disabled")||ta()});e.remove();a.sequent&&(a.navButtonAutoDisable&&(k==d.length-1&&c.addClass("disabled"),0==k&&b.addClass("disabled")),!a.navButtonAutoDisable||0!=u||201!=a.transition&&202!=a.transition&&204!=a.transition&&205!=a.transition||c.addClass("disabled"))}):f.find(".nav-back, .nav-next").remove();
if(a.navThumbSlider){var C=g("<div></div>").appendTo(f).addClass("nav-slider-wrap"),P=g("<div></div>").html(na).appendTo(C);P.addClass("imageslider-linear-navigation").makeSlider({slideitem:a.slideitem,theme:"linear",border:!1,preload:!1,autoplay:!1,navButton:a.navThumbSliderNavButton,navThumb:!1,navDot:!1,showInfo:!1,linkTitle:!1,linkCover:!1,contentSlide:a.contentSlide,usePercentWidth:a.navThumbSliderUsePercentWidth,transition:a.navThumbSliderTransition,transitionTime:a.navThumbSliderTransitionTime,
transitionTimingfunction:a.navThumbSliderTransitionTimingfunction,autoHeight:a.navThumbSliderAutoHeight}).on("slider.click",function(a){t(a.data.index)});f.on("slider.change",function(a){P.find(".image-hold").removeClass("main-slider-active");var b=P.find(".image-hold.image"+a.data.index).addClass("main-slider-active"),e=parseInt(P.find(".image-view-wrap").getData("real-pos")),d=P.width(),f=b.left(),b=b.width();(0>e+f||e+f+b>d)&&P.slideTo(a.data.index)})}a.linkTitle&&ra.hover(function(){f.addClass("linktitlehover")},
function(){f.removeClass("linktitlehover")});a.linkCover?aa.hover(function(){f.addClass("linkcoverhover")},function(){f.removeClass("linkcoverhover")}):aa.remove();f.setStyle("overflow","visible");f.removeClass("slider-not-ready");var ua=0,t=function(b,c,e,ea,r){e=e||!1;ea=ea||!1;r=r||!1;if(x)if(b=parseInt(b),L.isRunning()&&L.stop(),b>=d.length&&(b=d.length-1),0>b&&(b=0),2!=G&&"function"==typeof a.allowChange&&a.allowChange(b)){if(p=k,k=b,r||e||k!=p){d[b]&&(Fa=d[b].srclarge||d[b].src,ba=d[b].title,
J=d[b].link,sa=d[b].description,J=d[b].link);g.moduleTransition&&f.find(".image"+p+" ."+a.customTransitionClass).stopTransition().unsetTransition();c=c||{};c=g.extend({index:k,oldindex:p,image:Fa,title:ba,description:sa,link:J},c);h.find(".image"+k).setStyle("z-index",Na++);e=e||!1;switch(a.transition){case 1:F?(h.find(".image"+k).setStyle("opacity",1),1<d.length&&h.find(".image"+p).setStyle("opacity",0)):Pa.stop().run();break;case 2:case 203:if(a.sequent||0>p)q=-l*b;else{m=p<k?1:-1;"direction"in
c&&(m="next"==c.direction?1:-1);h.find(".image"+k).left(h.find(".image"+p).left()+l*m);q-=l*m;r=h.find(".image"+p).left();for(var W=[0,[1,2],[-1,-0],[2,3],[-2,-1],[3,4],[-3,-2],[4,5],[-4,-3],[5,6],[-5,-4],[6,7],[-6,-5],[7,8],[-7,-6],[8,9],[-8,-7],[9,10],[-9,-8],[10,11],[-10,-9]],A=1;A<W.length;A++)d.length>A&&h.find(".image"+Q(k+W[A][0]*m)).left(r+W[A][1]*l*m)}0>p&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).left(-l);e?(da(),v(q,!0),V.delay(100)):F?v(q,!0):va.stop().set({from:z,to:q}).run();
break;case 3:a.sequent||0>p?q=-n*b:(m=p<k?1:-1,"direction"in c&&(m="next"==c.direction?1:-1),h.find(".image"+k).top(h.find(".image"+p).top()+n*m),q-=n*m,r=h.find(".image"+p).top(),1<d.length&&h.find(".image"+Q(k+1*m)).top(r+2*l*m),2<d.length&&h.find(".image"+Q(k-1*m)).top(r-0*l*m),3<d.length&&h.find(".image"+Q(k+2*m)).top(r+3*l*m),4<d.length&&h.find(".image"+Q(k-2*m)).top(r-1*l*m));0>p&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).top(-n);e&&(da(),v(q,!0),V.delay(100));F?v(q,!0):va.stop().set({from:z,
to:q}).run();break;case 201:case 202:case 204:case 205:if(a.sequent||0>p){if(W=q,q=-l*b,A=w.width()-l*d.length,0>=ua&&5>Math.abs(A)&&(l=w.width()/d.length,A=0),A-=ua,q<A&&(q=A),W==q&&!r&&0>A)return t("direction"in c&&"prev"==c.direction?b-1:0,c,e,ea,!0)}else m=p<k?1:-1,"direction"in c&&(m="next"==c.direction?1:-1),h.find(".image"+k).left(h.find(".image"+p).left()+l*m),q-=l*m,r=k+m,0>r&&(r=d.length-1),r>=d.length&&(r=0),1<d.length&&h.find(".image"+r).left(h.find(".image"+p).left()+2*l*m),5<=d.length&&
(r+=m,0>r&&(r=d.length-1),r>=d.length&&(r=0),2<d.length&&h.find(".image"+r).left(h.find(".image"+k).left()+2*l*m));0>p&&!a.sequent&&1<d.length&&h.find(".image"+(d.length-1)).left(-l);e?(da(),v(q,!0),V.delay(100)):F?v(q,!0):va.stop().set({from:z,to:q}).run();break;default:h.find(".image"+k).setStyle("opacity",1).show(),1<d.length&&h.find(".image"+p).setStyle("opacity",0).hide()}a.linkTitle&&""!=J?ra.html('<a href="'+J+'">'+ba+"</a>"):ra.html(ba);a.linkCover&&""!=J&&aa.find("a").setAttr("href",J);Ma.html(sa);
h.find(".image-hold").removeClass("active active-next active-back active-next2 active-back2 out-of-range");M(b,"active");1<d.length&&M(b+1,"active-next");2<d.length&&M(b-1,"active-back");3<d.length&&M(b+2,"active-next2");4<d.length&&M(b-2,"active-back2");f.find(".nav-image, .nav-dot").removeClass("active");f.find(".nav-image[data-index="+b+"], .nav-dot[data-index="+b+"]").addClass("active");a.navThumb&&Oa();g.moduleTransition&&h.find(".image"+k+" ."+a.customTransitionClass).playTransition({autoplay:!1});
y=k-1;u=k+1;if(202==a.transition||205==a.transition)e=parseInt(w.width()/l+.1),y=k-e,u=k+e,0>=y+e?y=d.length-e:0>y&&(y=0),u>=d.length?u=0:u+e>d.length&&(u=d.length-e);if(204==a.transition||205==a.transition)e=parseInt(w.width()/l+.1),M(b-1,"out-of-range"),M(b+e,"out-of-range");if(201==a.transition||204==a.transition)e=parseInt(w.width()/l+.1),u+e>d.length&&(u=0);a.autoHeight&&2==a.transition&&fa();0>y&&(y=d.length-1);u>=d.length&&(u=0);Ia(c);ea||(a.onChange(c),f.trigger("slider.change",c));a.autoplay&&
(b=a,g.isObject(d[k].option)&&(b=g.extend(b,d[k].option)),L.set({time:b.autoplayTime}).run());a.lazyloadImage&&!d[k].lazyloaded&&(d[k].lazyloaded=!0,(b=d[k].lazyEl||d[k].customEl)&&b.each(function(b){b=g(b);g.loadImage({image:d[k].srclazy,onError:function(a){},onLoaded:function(c){(function(){b.removeClass("imageloading");b.is("img")?b.setAttr("src",c.src):b.setStyle("background-image","url("+c.src+")")}).delay(a.lazyloadDelay)}})}))}}else a.autoplay&&L.run();else a.autoplay&&L.run()},Q=function(a){a>=
d.length&&(a-=d.length);0>a&&(a=d.length+a);return a},M=function(a,c){a=Q(a);h.find(".image-hold.image"+a).addClass(c)},Pa=g.timer({from:0,to:1,time:a.transitionTime,onStart:function(a,c){h.find(".image"+k).setStyle("opacity",0).show();h.find(".image"+p).setStyle("opacity",1).show()},onProcess:function(a,c,e){h.find(".image"+k).setStyle("opacity",a);h.find(".image"+p).setStyle("opacity",1-a)},onStop:function(a,c){h.find(".image"+k).setStyle("opacity",1);h.find(".image"+p).setStyle("opacity",0).hide()},
onFinish:function(a,c){h.find(".image"+k).setStyle("opacity",1);h.find(".image"+p).setStyle("opacity",0).hide()}}),va=g.timer({from:0,to:1,time:a.transitionTime,transition:a.transitionTimingfunction,onStart:function(a,c){},onProcess:function(a,c,e){v(a)},onStop:function(a,c){},onFinish:function(a,c){v(c,!0)}}),v;2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||!F?3==a.transition&&F?v=function(a,c){z=a;h.setStyle("transform","translate3d(0, "+
a+"px, 0)");h.setData("real-pos",z)}:2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition?v=function(a,c){z=a;Ha.style.left=a+"px";c&&h.setData("real-pos",z)}:3==a.transition&&(v=function(a,c){z=a;Ha.style.top=a+"px";c&&h.setData("real-pos",z)}):v=function(a,c){z=a;h.setStyle("transform","translate3d("+a+"px, 0, 0)");h.setData("real-pos",z)};var ta=function(){t(u,{direction:"next"})},Ja=function(){t(y,{direction:"prev"})},G=0,wa=0,I=0,ga=0,
xa=d.length,ya=!1;!F||2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition&&3!=a.transition||!g.isTouchDevice()&&!a.dragSlide||f.drag({direction:2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition?"horizontal":"vertical",onStart:function(b,c){if(0==G){G=1;if(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)I=b.touchX();3==
a.transition&&(I=b.touchY())}},onDrag:function(b,c,e,d){if(0!=G){ya=!0;c=b.touchX();b=b.touchY();if(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)ga=c-I;3==a.transition&&(ga=b-I);1==G&&0!=ga&&(G=2,wa=z,da());if(2==G){e=1;if((2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&0==k&&c>I||(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||
205==a.transition)&&k==xa-1&&c<I||3==a.transition&&0==k&&b>I||3==a.transition&&k==xa-1&&b<I)e=3;v(wa+ga/e)}}},onDrop:function(a,c,e,d){2==G&&(G=0,a=z<wa?k+1:k-1,a=Math.min(Math.max(a,0),xa-1),V(),a!=k?t(a):v(-l*a))}});var Ka=!1,za=function(){Ka?(t(k,{},!0,!0,!0),N.trigger("resize")):Ka=!0},X=function(a){!(a=a||!1)&&pa||!w||(S=g("<div></div>").addClass("imageslider-raw"),S.insertAfter(w),S.html(na),f.addClass("slider-disabled"),x=!1,a&&(oa=!0),a&&(pa=!1),f.trigger("slider.disable"))},Y=function(a){if((a=
a||!1)||!oa)S&&S.remove(),f.removeClass("slider-disabled"),x=!0,a&&(oa=!1),a&&(pa=!0),f.trigger("slider.enable")};if(a.fullscreenWidth||a.fullWidth||a.fullHeight){(a.fullscreenWidth||a.fullWidth)&&f.addClass("fullwidth");a.fullHeight&&f.addClass("fullheight");var ha=function(){var b=a.fullscreenWidth?R.width():O.width(),c=N.width();0<a.autoDisableWhenWidthLessThan&&(b<=a.autoDisableWhenWidthLessThan&&!0===x?X():b>a.autoDisableWhenWidthLessThan&&!1===x&&Y());0<a.autoDisableWhenWidthLargerThan&&(b>=
a.autoDisableWhenWidthLargerThan&&!0===x?X():b<a.autoDisableWhenWidthLargerThan&&!1===x&&Y());0<a.autoDisableWhenWindowWidthLessThan&&(c<=a.autoDisableWhenWindowWidthLessThan&&!0===x?X():c>a.autoDisableWhenWindowWidthLessThan&&!1===x&&Y());0<a.autoDisableWhenWindowWidthLargerThan&&(c>=a.autoDisableWhenWindowWidthLargerThan&&!0===x?X():c<a.autoDisableWhenWindowWidthLargerThan&&!1===x&&Y());if(x){if(2==a.transition||203==a.transition)a.sequent||(q=q*b/l),h.find(".image-hold").each(function(c,e){var d=
g(c);a.sequent?d.left(b*e):d.left(d.left()*b/l)}),v(q);l=b;var e=n;0<a.scaleHeightWhenWidthLessThan&&(l<=a.scaleHeightWhenWidthLessThan?(a.fullHeight&&f.removeClass("fullheight"),n=ca*l/a.scaleHeightWhenWidthLessThan):a.fullHeight?(f.addClass("fullheight"),n="",ca=O.height()):n=ca,h.height(n),U.height(n));3==a.transition&&(a.sequent||(q=q*n/e),h.find(".image-hold").each(function(b,c){var d=g(b);a.sequent?d.top(n*c):d.top(d.top()*n/e)}),v(q));2!=a.transition&&203!=a.transition&&3!=a.transition||t(k,
{},!0,!0,!0)}};N.on("resize",function(){ha.delay(500)}).trigger("resize");0<parseInt(g(document.body).getData("zmodulescrollbarid",0))&&ha.delay(500)}a.usePercentWidth&&(C=function(){l=U.width();for(var a=0,c=0;c<d.length;c++){var e=g(d[c].el);e.left(a);a+=e.width()}(function(){t(k,{},!0,!0,!0)}).delay(1)},N.on("resize",C),C.delay(500));var fa=function(){};a.autoHeight&&(fa=function(){if(x){var b=0;if((0==a.transition||1==a.transition||2==a.transition)&&"customEl"in d[k]){var c=d[k].customEl.height();
c>b&&(b=c)}(201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&a.contentSlide&&d.each(function(a){"undefined"!=typeof a.customEl&&(a=a.customEl.height(),a>b&&(b=a))});b&&(w.height(b),U.height(b),h.height(b))}},N.on("resize",fa),fa.delay(500));var ia=a.playButton?f.find(".play-wrap"):!1,ja=a.playButton?f.find(".play-process-bar"):!1,L=g.timer({time:a.autoplayTime,transition:"linear",onProcess:function(a){ja&&ja.height(a+"%")},onStop:function(){ja&&ja.height("0%")},
onFinish:function(){ta()}}),ka=function(){a.autoplay=!0;L.stop().run();ia&&ia.addClass("pause")},Aa=function(){a.autoplay=!1;L.stop();ia&&ia.removeClass("pause")};a.playButton&&f.find(".play-wrap").click(function(b){b.preventDefault();a.autoplay?Aa():ka()});a.navDot||a.navThumb||a.navButton&&!a.navButtonParentIsRoot||f.find(".nav-wrap").remove();a.playButton||f.find(".play-wrap").remove();a.border||f.find(".image-view-border").remove();!a.contentSlide&&a.showInfo||f.find(".image-info-wrap").remove();
(202==a.transition&&a.navDot||204==a.transition||205==a.transition)&&N.on("resize",function(){var b=parseInt(w.width()/l);202!=a.transition&&205!=a.transition||!a.navDot||Ea.find(".nav-dot").each(function(a,c){0==c%b?g(a).show():g(a).hide()});if(204==a.transition||205==a.transition){var c=(w.width()-b*l)/2;ua=2*c;w.setStyle({paddingLeft:c,paddingRight:c})}}).trigger("resize");var la=!1,ma=!1,Z=function(b){if(a.popup){try{if(b=0!==b?b||-1:0,0>b||b>=d.length)b=k}catch(A){b=k}var c=g('<div class="imageslider-popup-page-cover"></div>').appendTo(document.body);
c.addClass(a.popupPageCoverClass);var e=g('<div class="imageslider-popup-container"><a class="imageslider-popup-close-button">&times;<i class="icon"></i></a><div class="imageslider-popup-wrap"><div class="inpopup-imageslider"></div></div></div>').appendTo(document.body),h=e.find(".imageslider-popup-close-button"),l=e.find(".inpopup-imageslider");e.addClass(a.popupContainerClass);R.addClass("imageslider-popup-show");a.popupAllowKeyboard&&l.addClass("allow-keyboard");f.setData("popupsliderels_popupPageCoverEl",
c);f.setData("popupsliderels_popupContainerEl",e);f.setData("popupsliderels_inpopupSliderEl",l);l.setData("parent_SliderEl",f);c.fadeIn({time:a.popupAnimateTime});a.popupAnimate&&e.addClass("zui-popup hide-before-animate "+a.popupAnimateName).setStyle("animation-duration",a.animateTime+"ms");l.on("slider.ready",function(){Aa();a.popupAnimate?(e.removeClass("hide-before-animate"),window.clearTimeout(la),window.clearTimeout(ma),e.addClass("showing animate animate-start"),la=function(){e.addClass("animate-end")}.delay(a.popupAnimateTime),
ma=function(){e.removeClass("showing animate animate-start animate-end")}.delay(a.popupAnimateTime+100)):e.fadeIn();f.trigger("slider.popup.show",{index:b,info:d[b]})});var m=g.extend(g.clone(a),{popup:!1,popupOnly:!1,popupShowOnClick:!1,popupHideOnClickOut:!1,popupCloseButton:!1,startIndex:b,autoplay:a.popupAutoplay,autoplayTime:a.popupAutoplayTime,playButton:a.popupPlayButton,navButton:a.popupNavButton,navButtonParentIsRoot:a.popupNavButtonParentIsRoot,navThumb:a.popupNavThumb,navDot:a.popupNavDot,
linkTitle:a.popupLinkTitle,linkCover:a.popupLinkCover,sequent:a.popupSequent,fullWidth:a.popupFullWidth,fullscreenWidth:a.popupFullscreenWidth});!1!==m.popupTransition&&(m.transition=m.popupTransition);!1!==m.popupTransitionTime&&(m.transitionTime=m.popupTransitionTime);!1!==m.popupTransitionTimingfunction&&(m.transitionTimingfunction=m.popupTransitionTimingfunction);(function(){l.html(na);l.setData("zmodulesliderlinearispopup",!0).makeSlider(m)}).delay(100);a.popupHideOnClickOut&&c.click(function(a){a.preventDefault();
Ba()});a.popupCloseButton?h.click(function(a){a.preventDefault();Ba()}):h.remove()}},C=function(b){var c=!1;if(ya)ya=!1;else{!g(b.target()).is("a[href]")&&0>=g(b.target()).findUp("a[href]").count()&&!g(b.target()).is("input,textarea,label")&&!g(b.target()).is("textarea")&&(b.preventDefault(),c=!0);var d=-1;(b=b.target())&&(b=g(b));b.hasClass("image-hold")||(b=b.findUp(".image-hold"));b.hasClass("image-hold")||(b=!1);b&&(d=parseInt(b.getData("image-index",-1)));0<=d?(a.popup&&a.popupShowOnClick&&Z(d),
f.trigger("slider.click",{index:d},function(b){203==a.transition&&c&&!b.isDefaultPrevented&&t(d)})):a.popup&&a.popupShowOnClick&&Z()}};h.click(C);aa.click(C);var Ba=function(){if(a.popup){var b=f.getData("popupsliderels_popupPageCoverEl"),c=f.getData("popupsliderels_popupContainerEl"),d=f.getData("popupsliderels_inpopupSliderEl");d&&d.slidePause();c&&(a.popupAnimate?(window.clearTimeout(la),window.clearTimeout(ma),c.addClass("hiding animate animate-start"),la=function(){c.addClass("animate-end")}.delay(a.popupAnimateTime),
ma=function(){c.removeClass("hiding animate animate-start animate-end");c.remove()}.delay(a.popupAnimateTime+100)):c.removeSlow());b&&b.fadeOut({time:a.popupAnimateTime,callback:function(){b.remove();R.removeClass("imageslider-popup-show")}});f.trigger("slider.popup.hide")}};f.trigger("slider.ready");var Ca=!1;"function"==typeof g.loadImages&&(a.preload&&(Ca=g('<div class="slider-loading-wrap"><div class="text-wrap"><span class="percent"></span>%</div></div>').appendTo(B)),g.loadImages({images:function(){for(var a=
[],c=0;c<d.length;c++)"undefined"!=typeof d[c].src&&""!=d[c].src&&a.push(d[c].src),"undefined"!=typeof d[c].srclarge&&""!=d[c].srclarge&&a.push(d[c].srclarge),"undefined"!=typeof d[c].srcpopup&&""!=d[c].srcpopup&&a.push(d[c].srcpopup);return a}(),onLoading:function(b){a.preload&&Ca.find(".percent").html(b.toString())},onFinish:function(){if(a.preload&&(!a.debug||"loading"!=a.debug)){Ca.removeSlow();t(0,{},!0,!0);1<d.length&&(t(1,{direction:"next"},!0,!0),t(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(var b=
0;b<a.startIndex;)t(++b,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&ha();a.autoplay&&ka();f.trigger("slider.load");za()}}}));if(!a.preload){t(0,{},!0,!0);1<d.length&&(t(1,{direction:"next"},!0,!0),t(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(B=0;B<a.startIndex;)t(++B,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&ha();a.autoplay&&ka();f.trigger("slider.load");za()}return{slideTo:t,slideNext:ta,slidePrev:Ja,slidePlay:ka,slidePause:Aa,slidePopupShow:Z,slidePopupHide:Ba,
slideRefresh:za,slideDisable:function(){X(!0)},slideEnable:function(){Y(!0)}}});g(document).on("keydown",function(B){if(37==B.keyCode()||39==B.keyCode()||27==B.keyCode()){var d=g(".inpopup-imageslider.allow-keyboard");0>=d.count()||(37==B.keyCode()&&d.slidePrev(),39==B.keyCode()&&d.slideNext(),27==B.keyCode()&&d.getData("parent_SliderEl").slidePopupHide())}});"required"in g&&g.required("image.slider.theme.linear")});