zjs.require("image.slider, image.loader, transition",function(f){f.regSliderTheme("linear",function(F,d,a){a=f.extend({width:0,height:0,transition:0,transitionTime:500,transitionTimingfunction:2,border:!1,preload:!1,lazyloadImage:!1,lazyloadDelay:0,autoplay:!0,autoplayTime:1500,playButton:!1,navButton:!0,navButtonParent:!1,navButtonParentIsRoot:!1,navButtonAutoDisable:!1,navThumb:!0,navDot:!0,showInfo:!0,linkTitle:!1,linkCover:!1,sequent:!0,usePercentWidth:!0,navThumbSlider:!1,navThumbSliderTransition:"horizontal-page",
navThumbSliderTransitionTime:1600,navThumbSliderTransitionTimingfunction:2,navThumbSliderNavButton:!0,navThumbSliderUsePercentWidth:!0,navThumbSliderAutoHeight:!1,wrapClass:"",imageViewClass:"",imageHoldClass:"",autoHeight:!1,fullHeight:!1,fullWidth:!0,fullscreenWidth:!1,scaleHeightWhenWidthLessThan:0,autoDisableWhenWidthLessThan:0,autoDisableWhenWidthLargerThan:0,autoDisableWhenWindowWidthLessThan:0,autoDisableWhenWindowWidthLargerThan:0,hoverToSlide:!1,navButtonTemplate:'<a class="nav-button"></a>',
navThumbTemplate:'<a class="nav-image"></a>',navDotTemplate:'<a class="nav-dot">.</a>',customElementsClass:"elements",customTransitionClass:"transition",usecss:!0,contentSlide:!1,navImagesElMargin:0,startIndex:0,dragSlide:!1,popup:!1,popupOnly:!1,popupShowOnClick:!0,popupHideOnClickOut:!1,popupCloseButton:!0,popupAllowKeyboard:!0,popupScrollPopup:!1,popupAnimate:!1,popupAnimateTime:1E3,popupAnimateName:"fadeInDown fadeOutUp",popupTransition:!1,popupTransitionTime:!1,popupTransitionTimingfunction:!1,
popupLazyloadImage:!1,popupLazyloadDelay:!1,popupAutoplay:!0,popupAutoplayTime:6E3,popupPlayButton:!1,popupNavButton:!0,popupNavButtonParent:!1,popupNavButtonParentIsRoot:!1,popupNavThumb:!0,popupNavDot:!0,popupShowInfo:!0,popupLinkTitle:!1,popupLinkCover:!1,popupSequent:!0,popupFullscreenWidth:!1,popupContentSlide:!1,popupPageCoverClass:"",popupContainerClass:"",popupImagesliderPopupWrapClass:"",cleanHtml:!1,onChange:function(a){},allowChange:function(a){return!0},debug:!1},a);var La=[];f.foreach(d,
function(b){""==b.src&&""==b.srclazy||La.push(b);b.srclazy&&(a.lazyloadImage=!0)});a.contentSlide||(d=La);for(var J=0;J<d.length;J++)d[J].index=J,d[J].lazyloaded=!1,d[J].lazyEl=!1,d[J].isShown=!0;var y,Ma=function(){y=[];for(var a=0;a<d.length;a++)d[a].isShown&&y.push(a)};Ma();a.width=parseInt(a.width);a.height=parseInt(a.height);"none"==a.transition&&(a.transition=0);if("fade"==a.transition||"fadein"==a.transition)a.transition=1;if("horizontal"==a.transition||"slide-horizontal"==a.transition||"horizontal-slide"==
a.transition)a.transition=2;"horizontal-stack"==a.transition&&(a.transition=201);"horizontal-page"==a.transition&&(a.transition=202);"horizontal-center"==a.transition&&(a.transition=203);"horizontal-stack-center"==a.transition&&(a.transition=204);"horizontal-page-center"==a.transition&&(a.transition=205);if("vertical"==a.transition||"slide-vertical"==a.transition||"vertical-slide"==a.transition)a.transition=3;2>d.length&&(a.autoplay=!1);if(200<a.transition){a.fullWidth=!1;a.fullscreenWidth=!1;if(201==
a.transition||202==a.transition||204==a.transition||205==a.transition)a.navButtonParentIsRoot=!0;if(202==a.transition||205==a.transition)a.sequent=!0}a.usePercentWidth=!!a.usePercentWidth;a.autoHeight=!!a.autoHeight;a.navButtonAutoDisable=!!a.navButtonAutoDisable;a.navButtonParentIsRoot&&(a.navButtonParent=!1);a.fullscreenWidth&&(a.fullWidth=!1);a.contentSlide&&(a.preload=!1,a.navThumb=!1,a.hoverToSlide=!1);a.startIndex=parseInt(a.startIndex);0>a.startIndex&&(a.startIndex=0);a.startIndex>=d.length&&
(a.startIndex=d.length-1);a.navThumbSlider&&(a.navButtonParentIsRoot=!0,a.navButtonParent=!1,a.navThumb=!1);a.popupOnly&&(a.popup=!0);a.popupAnimate&&(a.popupAnimateTime=parseInt(a.popupAnimateTime),f.require("ui.popup"));a.scaleHeightWhenWidthLessThan=parseInt(a.scaleHeightWhenWidthLessThan);0>a.scaleHeightWhenWidthLessThan&&(a.scaleHeightWhenWidthLessThan=0);a.autoDisableWhenWidthLessThan=parseInt(a.autoDisableWhenWidthLessThan);0>a.autoDisableWhenWidthLessThan&&(a.autoDisableWhenWidthLessThan=
0);a.autoDisableWhenWidthLargerThan=parseInt(a.autoDisableWhenWidthLargerThan);0>a.autoDisableWhenWidthLargerThan&&(a.autoDisableWhenWidthLargerThan=0);a.autoDisableWhenWindowWidthLessThan=parseInt(a.autoDisableWhenWindowWidthLessThan);0>a.autoDisableWhenWindowWidthLessThan&&a.autoDisableWhenWindowWidthLessThan;var e=f(F),P=f(document.body),Q=f(window),R=e.parent(),Va=!!e.getData("zmodulesliderlinearispopup",!1),va=e.getInnerHTML();e.removeAttr("data-option");a.dragSlide&&e.addClass("drag");e.addClass(a.usePercentWidth?
"use-percent":"use-pixel");e.find(a.slideitem).eachElement(function(b,c){if(!(c>=d.length)){var k=f(b),e=k.getAttr("data-option","");f.isString(e)&&""!=e.trim()&&(e=e.jsonDecode());f.isObject(e)||(e=!1);d[c].option=e;e=k.find("."+a.customElementsClass);0>=e.count()&&k.hasClass(a.customElementsClass)&&k.is("img")&&(e=k);0>=e.count()&&a.contentSlide&&(e=k);d[c].customEl=e.clone(!0);a.lazyloadImage&&d[c].customEl.addClass("imageloading")}});var B=!0,wa=!1,xa=!1,U=!1;var w=!1;if(a.popupOnly)a.popupShowOnClick&&
e.find(a.slideitem).eachElement(function(a,c){f(a).setAttr("data-index",c).click(function(a){a.preventDefault();a=f(this).getAttr("data-index");ha(a);e.trigger("slider:click",{index:a})})});else{var J=f("<div></div>").setInnerHTML('<div class="image-view"><div class="image-view-wrap"></div><div class="image-view-border"></div></div><div class="image-info-wrap"><div class="image-info-container"><div class="image-title"><h4></h4></div><div class="image-description"></div></div></div><div class="image-linkcover-wrap"><a href="#"></a></div><div class="play-wrap"><a class="play-process-bar"></a><div class="playpause-button"></div></div><div class="nav-wrap"><div class="nav-container"><div class="nav-dots-wrap"><div class="nav-dots"></div></div><a class="nav-button nav-back"></a><div class="nav-images-wrap"><div class="nav-images"></div></div><a class="nav-button nav-next"></a></div></div>'),
V=f("<div></div>").addClass("imageslider-container");w=f("<div></div>").addClass("imageslider-wrap");a.cleanHtml&&e.setInnerHTML("");if(e.find("> "+a.slideitem).count())w.appendTo(e);else{var W=e.find("ul,ol,table,div").item(0);W.count()?w.insertAfter(W):w.appendTo(e)}V.insertAfter(w);w.appendTo(V);""!==a.wrapClass&&w.addClass(a.wrapClass);J.child().eachElement(function(a){f(a).appendTo(w)});V.find(".image-info-wrap").insertAfter(V);V.find(".nav-wrap").insertAfter(V);e.find(a.slideitem).remove();
W&&W.remove();J.remove();e.addClass("imageslider-linear");e.addClass("total-image-"+d.length);201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||e.addClass("horizontal-stack");203==a.transition&&e.addClass("horizontal-center");204==a.transition&&e.addClass("horizontal-stack-center");205==a.transition&&e.addClass("horizontal-page horizontal-page-center")}var ba=e.find(".nav-images-wrap");W=e.find(".nav-dots-wrap");var ya=e.find(".nav-dots"),G=e.find(".nav-images"),
L=0,X=e.find(".image-view");e.find(".image-view-border");var g=e.find(".image-view-wrap"),za=e.find(".image-title h4"),Wa=e.find(".image-description"),ia=e.find(".image-linkcover-wrap"),h=-1,q=-1,Na=-1,Aa="",ca="",ja="",M="",m=1,A=-1,C=-1,l=a.width,p=a.height,ka=p,Xa=1;if(a.fullscreenWidth||a.fullWidth||a.usePercentWidth)l=a.fullscreenWidth?P.width():R.width();a.fullHeight&&(p=R.height());0>=l&&(l=g.width());0>=l&&(l=R.width());0>=l&&(l=P.width());0>=p&&(p=g.height());0>=p&&(p=parseInt(R.height()));
if(0>=p)try{var u=g.getCss();if(u){var Oa=u.match(/(^|[^a-z-])height:\s*(\d+)\s*px/);f.isArray(Oa)&&(p=parseInt(Oa[2]))}}catch(b){}0>=p&&(p=376);ka=p;a.fullHeight||X.height(p);a.fullscreenWidth||a.fullWidth||a.usePercentWidth||3>=a.transition&&X.width(l);g.setStyle("position","absolute");""!==a.imageViewClass&&X.addClass(a.imageViewClass);var Pa=g.item(0,!0),D=0,r=-1,S="cubic-bezier(0, 0, 1, 1)",H=!1,la=function(){H&&g.setStyle("transition-duration",a.transitionTime+"ms")},ma=function(){H&&g.setStyle("transition-duration",
"0ms")};if(f.supportTransform&&a.usecss){H=!0;g.setStyle("transform","translate3d(0, 0, 0)");switch(a.transitionTimingfunction){case 1:case "sinoidal":S="cubic-bezier(0,0,.58,1)";break;case 2:case "quadratic":S="cubic-bezier(0.18, 0.17, 0.37, 0.99)";break;case 3:case "cubic":S="cubic-bezier(.34,.95,.84,1.39)";break;case 4:case "elastic":S="cubic-bezier(.71,1.61,.5,.82)"}"string"==typeof a.transitionTimingfunction&&0<=a.transitionTimingfunction.indexOf("cubic-bezier")&&(S=a.transitionTimingfunction);
g.setStyle("transition","transform "+a.transitionTime+"ms "+S)}f.foreach(d,function(b,c){if(!a.popupOnly&&(""!=b.src||a.contentSlide)){if(a.navThumb){var k=a.navThumbTemplate;f.isFunction(k)&&(k=k(c));k=k.format({index:c,src:b.src,title:b.title,description:b.description});k=f(k).addClass("nav-image").setStyle("background-image","url("+b.src+")").setAttr("data-index",c).appendTo(G).on(a.hoverToSlide?"hover":"click",function(a,b){var c=f(b).getAttr("data-index").toInt();v(c)});b.title&&k.find(".title").setInnerHTML(b.title);
L=k.getStyle("margin-right",!0);if(isNaN(L)||!L)L=a.navImagesElMargin}a.navDot&&(k=a.navDotTemplate,f.isFunction(k)&&(k=k(c)),k=k.format({index:c,src:b.src,title:b.title,description:b.description}),f(k).addClass("nav-dot").setAttr("data-index",c).appendTo(ya).click(function(a,b){var c=f(b).getAttr("data-index").toInt();v(c)}));k=f('<div class="image-hold"></div>');k.appendTo(g);k.addClass("image"+c);k.setData("image-index",c);""!==a.imageHoldClass&&k.addClass(a.imageHoldClass);var e=f('<div class="image-item"></div>');
k.append(e);b.customEl&&e.append(b.customEl);var h=k.width(),h=Va?b.srcpopup||b.srclarge||b.src:250>h?b.src:b.srclarge||b.src;if(a.contentSlide){var n=e.find("[data-lazy-src], [data-lazysrc], [data-srclazy], [srclazy]");n.count()&&(b.lazyEl=n);a.lazyloadImage&&!b.lazyEl&&(n=e.find("[popupsrc], [srcpopup], [data-popupsrc], [data-srcpopup]"),n.count()&&(b.lazyEl=n))}else a.lazyloadImage?(b.srclazy&&e.setStyle("background-image","url("+h+")"),b.lazyEl=e):e.setStyle("background-image","url("+h+")");a.lazyloadImage&&
(e.addClass("imageloading"),b.srclazy||(b.srclazy=h));k.setStyle({top:0,left:0});0!=a.transition&&1!=a.transition||k.setStyle({opacity:0,"z-index":0}).hide();1==a.transition&&H&&k.show().setStyle("transition","opacity "+a.transitionTime+"ms "+S);2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||k.left(l*c);3==a.transition&&k.top(p*c);d[c].el=k}});if(a.navThumb){u=parseInt(e.find(".nav-image").width());G.width((u+L)*d.length);var Ya=function(){var a=
G.find(".nav-image.active").left();G.left();var c=G.width(),d=ba.width(),a=2*(ba.find(".nav-image").width()+L)-a;0<a&&(a=0);a<d-c+L&&(a=d-c+L);G.width()<ba.width()&&(a=ba.width()/2-G.width()/2);f.supportTransition?G.left(a):f.timer({from:G.left(),to:a,onProcess:function(a){G.left(a)},onFinish:function(a,b){G.left(b)}}).run()}}else ba.remove();a.navDot||W.remove();var Qa=function(a){};a.navButton?(a.navButtonParentIsRoot&&e.find(".nav-next, .nav-back").appendTo(e),a.navButtonParent&&f.isString(a.navButtonParent)&&
(u=e.find(a.navButtonParent),u.count()?a.navButtonParent=u:a.navButtonParent=!1),a.navButtonParent&&e.find(".nav-next, .nav-back").appendTo(a.navButtonParent),Qa=function(b){var c=a.navButtonTemplate;f.isFunction(c)&&(c=c(C,d[C]));c=c.format(d[C])+"";b=f(c).addClass("nav-back").setAttr("data-index",C);c=e.find(".nav-back").item(0);b.insertBefore(c).click(function(a){a.preventDefault();f(this).hasClass("disabled")||Ra()});c.remove();c=a.navButtonTemplate;f.isFunction(c)&&(c=c(A,d[A]));var c=c.format(d[A])+
"",c=f(c).addClass("nav-next").setAttr("data-index",A),k=e.find(".nav-next").item(0);c.insertBefore(k).click(function(a){a.preventDefault();f(this).hasClass("disabled")||Ba()});k.remove();a.sequent&&(a.navButtonAutoDisable&&(h==d.length-1&&c.addClass("disabled"),0==h&&b.addClass("disabled")),!a.navButtonAutoDisable||0!=A||201!=a.transition&&202!=a.transition&&204!=a.transition&&205!=a.transition||c.addClass("disabled"))}):e.find(".nav-back, .nav-next").remove();if(a.navThumbSlider){var u=f("<div></div>").appendTo(e).addClass("nav-slider-wrap"),
Y=f("<div></div>").setInnerHTML(va).appendTo(u);Y.addClass("imageslider-linear-navigation").makeSlider({slideitem:a.slideitem,theme:"linear",border:!1,preload:!1,autoplay:!1,navButton:a.navThumbSliderNavButton,navThumb:!1,navDot:!1,showInfo:!1,linkTitle:!1,linkCover:!1,contentSlide:a.contentSlide,usePercentWidth:a.navThumbSliderUsePercentWidth,transition:a.navThumbSliderTransition,transitionTime:a.navThumbSliderTransitionTime,transitionTimingfunction:a.navThumbSliderTransitionTimingfunction,autoHeight:a.navThumbSliderAutoHeight}).on("slider:click",
function(a){v(a.getData().index)});e.on("slider:change",function(a){Y.find(".image-hold").removeClass("main-slider-active");var b=Y.find(".image-hold.image"+a.getData().index).addClass("main-slider-active"),d=parseInt(Y.find(".image-view-wrap").getData("real-pos")),e=Y.width(),f=b.left(),b=b.width();(0>d+f||d+f+b>e)&&Y.slideTo(a.getData().index)})}a.linkTitle&&za.hover(function(){e.addClass("linktitlehover")},function(){e.removeClass("linktitlehover")});a.linkCover?ia.hover(function(){e.addClass("linkcoverhover")},
function(){e.removeClass("linkcoverhover")}):ia.remove();e.setStyle("overflow","visible");e.removeClass("slider-not-ready");var Ca=0,v=function(b,c,k,ga,t){k=k||!1;ga=ga||!1;t=t||!1;if(B){b=parseInt(b);var n=1;200<=a.transition&&(n=parseInt(w.width()/l+.1));isNaN(n)&&(n=1);201===a.transition&&1<n&&b+n>=d.length&&(b=d.length-n);T.isRunning()&&T.stop();var N=1;c&&"undefined"!=typeof c.direction&&"prev"==c.direction&&(N=-1);b=Da(b,N);if(2!=K&&"function"==typeof a.allowChange&&a.allowChange(b)){if(q=
h,h=b,Na=y.indexOf(b),t||k||h!=q){d[b]&&(Aa=d[b].srclarge||d[b].src,ca=d[b].title,M=d[b].link,ja=d[b].description,M=d[b].link);f.moduleTransition&&e.find(".image"+q+" ."+a.customTransitionClass).stopTransition().unsetTransition();c=c||{};c=f.extend({index:h,oldindex:q,image:Aa,title:ca,description:ja,link:M},c);g.find(".image"+h).setStyle("z-index",Xa++);k=k||!1;switch(a.transition){case 1:H?(g.find(".image"+h).setStyle("opacity",1),1<d.length&&g.find(".image"+q).setStyle("opacity",0)):Za.stop().run();
break;case 2:case 203:if(a.sequent||0>q)r=-l*Na;else{m=q<h?1:-1;"direction"in c&&(m="next"==c.direction?1:-1);g.find(".image"+h).left(g.find(".image"+q).left()+l*m);r-=l*m;t=g.find(".image"+q).left();for(var N=[0,[1,2],[-1,-0],[2,3],[-2,-1],[3,4],[-3,-2],[4,5],[-4,-3],[5,6],[-5,-4],[6,7],[-6,-5],[7,8],[-7,-6],[8,9],[-8,-7],[9,10],[-9,-8],[10,11],[-10,-9]],E=1;E<N.length;E++)d.length>E&&g.find(".image"+Z(h+N[E][0]*m)).left(t+N[E][1]*l*m)}0>q&&!a.sequent&&1<d.length&&g.find(".image"+(d.length-1)).left(-l);
k?(ma(),x(r,!0),la.delay(100)):H?x(r,!0):Ea.stop().set({from:D,to:r}).run();break;case 3:a.sequent||0>q?r=-p*b:(m=q<h?1:-1,"direction"in c&&(m="next"==c.direction?1:-1),g.find(".image"+h).top(g.find(".image"+q).top()+p*m),r-=p*m,t=g.find(".image"+q).top(),1<d.length&&g.find(".image"+Z(h+1*m)).top(t+2*l*m),2<d.length&&g.find(".image"+Z(h-1*m)).top(t-0*l*m),3<d.length&&g.find(".image"+Z(h+2*m)).top(t+3*l*m),4<d.length&&g.find(".image"+Z(h-2*m)).top(t-1*l*m));0>q&&!a.sequent&&1<d.length&&g.find(".image"+
(d.length-1)).top(-p);k&&(ma(),x(r,!0),la.delay(100));H?x(r,!0):Ea.stop().set({from:D,to:r}).run();break;case 201:case 202:case 204:case 205:if(a.sequent||0>q){if(N=r,r=-l*b,E=w.width()-l*d.length,0>=Ca&&5>Math.abs(E)&&(l=w.width()/d.length,E=0),E-=Ca,r<E&&(r=E),N==r&&!t&&0>E)return v("direction"in c&&"prev"==c.direction?b-1:0,c,k,ga,!0)}else m=q<h?1:-1,"direction"in c&&(m="next"==c.direction?1:-1),g.find(".image"+h).left(g.find(".image"+q).left()+l*m),r-=l*m,t=h+m,0>t&&(t=d.length-1),t>=d.length&&
(t=0),1<d.length&&g.find(".image"+t).left(g.find(".image"+q).left()+2*l*m),5<=d.length&&(t+=m,0>t&&(t=d.length-1),t>=d.length&&(t=0),2<d.length&&g.find(".image"+t).left(g.find(".image"+h).left()+2*l*m));0>q&&!a.sequent&&1<d.length&&g.find(".image"+(d.length-1)).left(-l);k?(ma(),x(r,!0),la.delay(100)):H?x(r,!0):Ea.stop().set({from:D,to:r}).run();break;default:g.find(".image"+h).setStyle("opacity",1).show(),1<d.length&&g.find(".image"+q).setStyle("opacity",0).hide()}a.linkTitle&&""!=M?za.setInnerHTML('<a href="'+
M+'">'+ca+"</a>"):za.setInnerHTML(ca);a.linkCover&&""!=M&&ia.find("a").setAttr("href",M);Wa.setInnerHTML(ja);g.find(".image-hold").removeClass("active active-next active-back active-next2 active-back2 active-next3 active-back3 active-next4 active-back4 out-of-range");I(b,"active");1<d.length&&I(b+1,"active-next");2<d.length&&I(b-1,"active-back");3<d.length&&I(b+2,"active-next2");4<d.length&&I(b-2,"active-back2");5<d.length&&I(b+3,"active-next3");6<d.length&&I(b-3,"active-back3");7<d.length&&I(b+4,
"active-next4");8<d.length&&I(b-4,"active-back4");e.find(".nav-image, .nav-dot").removeClass("active");e.find(".nav-image[data-index="+b+"], .nav-dot[data-index="+b+"]").addClass("active");a.navThumb&&Ya();f.moduleTransition&&g.find(".image"+h+" ."+a.customTransitionClass).playTransition({autoplay:!1});C=h-1;A=h+1;if(204==a.transition||205==a.transition)I(b-1,"out-of-range"),I(b+n,"out-of-range");(201==a.transition||204==a.transition)&&A+n>d.length&&(A=0);if(202==a.transition||205==a.transition)C=
b-n,A=b+n,0>=C+n?C=d.length-n:0>C&&(C=0),A+n>d.length&&(A=0);0>C&&(C=d.length-1);A>=d.length&&(A=0);Qa(c);ga||(a.onChange(c),e.trigger("slider:change",c));a.autoplay&&(b=a,d[h]&&f.isObject(d[h].option)&&(b=f.extend(b,d[h].option)),T.set({time:b.autoplayTime}).run());if(a.lazyloadImage){var u;for(u=0;u<n;u++)(function(){var b=h+u;if(d[b]&&!d[b].lazyloaded){d[b].lazyloaded=!0;var c=d[b].lazyEl||d[b].customEl;c&&c.eachElement(function(c){c=f(c);f.loadImage({image:d[b].srclazy,onError:function(a){},onLoaded:function(k){(function(){c.removeClass("imageloading");
d[b].el.find(".image-item").removeClass("imageloading");d[b].customEl&&d[b].customEl.removeClass("imageloading");c.is("img")?c.setAttr("src",k.src):c.setStyle("background-image","url("+k.src+")");a.autoHeight&&Sa()}).delay(a.lazyloadDelay)}})})}})()}else a.autoHeight&&Sa()}}else a.autoplay&&T.run()}else a.autoplay&&T.run()},Sa=function(){1!==a.transition&&2!==a.transition||aa(h);203===a.transition&&function(){var b=h;(function(){aa(b)}).delay(a.transitionTime+100)}()},Z=function(a){a>=d.length&&(a-=
d.length);0>a&&(a=d.length+a);return a},I=function(a,c){a=Z(a);0===a&&(2===d.length&&"active-next"===c&&(c="active-back"),3===d.length&&"active-next"===c&&(c="active-back2"));2===a&&3===d.length&&"active-back"===c&&(c="active-next2");g.find(".image-hold.image"+a).addClass(c)},Za=f.timer({from:0,to:1,time:a.transitionTime,onStart:function(a,c){g.find(".image"+h).setStyle("opacity",0).show();g.find(".image"+q).setStyle("opacity",1).show()},onProcess:function(a,c,d){g.find(".image"+h).setStyle("opacity",
a);g.find(".image"+q).setStyle("opacity",1-a)},onStop:function(a,c){g.find(".image"+h).setStyle("opacity",1);g.find(".image"+q).setStyle("opacity",0).hide()},onFinish:function(a,c){g.find(".image"+h).setStyle("opacity",1);g.find(".image"+q).setStyle("opacity",0).hide()}}),Ea=f.timer({from:0,to:1,time:a.transitionTime,transition:a.transitionTimingfunction,onStart:function(a,c){},onProcess:function(a,c,d){x(a)},onStop:function(a,c){},onFinish:function(a,c){x(c,!0)}}),x;2!=a.transition&&201!=a.transition&&
202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition||!H?3==a.transition&&H?x=function(a,c){D=a;g.setStyle("transform","translate3d(0, "+a+"px, 0)");g.setData("real-pos",D)}:2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition?x=function(a,c){D=a;Pa.style.left=a+"px";c&&g.setData("real-pos",D)}:3==a.transition&&(x=function(a,c){D=a;Pa.style.top=a+"px";c&&g.setData("real-pos",D)}):x=function(a,c){D=a;g.setStyle("transform",
"translate3d("+a+"px, 0, 0)");g.setData("real-pos",D)};var Ba=function(){v(A,{direction:"next"})},Ra=function(){v(C,{direction:"prev"})},K=0,Fa=0,O=0,na=0,Ga=d.length,Ha=!1;!H||2!=a.transition&&201!=a.transition&&202!=a.transition&&203!=a.transition&&204!=a.transition&&205!=a.transition&&3!=a.transition||!f.isTouchDevice()&&!a.dragSlide||e.drag({willPreventDefault:!0,direction:2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition?"horizontal":
"vertical",onStart:function(b,c){if(0==K){K=1;if(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)O=b.touchX();3==a.transition&&(O=b.touchY())}},onDrag:function(b,c,d,e){if(0!=K){Ha=!0;c=b.touchX();b=b.touchY();if(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)na=c-O;3==a.transition&&(na=b-O);1==K&&0!=na&&(K=2,Fa=D,ma());if(2==K){d=1;if((2==a.transition||201==a.transition||
202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&0==h&&c>O||(2==a.transition||201==a.transition||202==a.transition||203==a.transition||204==a.transition||205==a.transition)&&h==Ga-1&&c<O||3==a.transition&&0==h&&b>O||3==a.transition&&h==Ga-1&&b<O)d=3;x(Fa+na/d)}}},onDrop:function(a,c,d,e){2==K&&(K=0,a=D<Fa?h+1:h-1,a=Math.min(Math.max(a,0),Ga-1),la(),a!=h?v(a,{direction:a>h?"next":"prev"}):x(-l*a))}});var Ta=!1,oa=function(){Ta?(v(h,{},!0,!0,!0),Q.trigger("resize")):Ta=!0},
Da=function(a,c){c=c||1;if(y.length==d.length||-1<y.indexOf(a))return a;var b;if(0<c){a>=d.length&&(a=0);for(b=0;b<y.length;b++)if(y[b]>a)return y[b];return Da(0,c)}if(0>c){0>a&&(a=d.length-1);for(b=y.length-1;0<=b;b--)if(y[b]<a)return y[b];return Da(d.length-1,c)}},da=function(a){!(a=a||!1)&&xa||!w||(U=f("<div></div>").addClass("imageslider-raw"),U.insertAfter(w),U.setInnerHTML(va),e.addClass("slider-disabled"),B=!1,a&&(wa=!0),a&&(xa=!1),e.trigger("slider:disable"),U.find("[data-lazy-src], [data-lazysrc], [data-srclazy], [srclazy]").eachElement(function(a){a=
z(a);var b=a.getAttr("data-lazy-src","");""==b&&(b=a.getAttr("data-lazysrc",""));""==b&&(b=a.getAttr("data-srclazy",""));""==b&&(b=a.getAttr("srclazy",""));""==b&&(b=a.getAttr("srclazy",""));""==b&&(b=a.getAttr("data-lazy-src",""));""!=b&&a.setAttr("src",b)}))},ea=function(a){if((a=a||!1)||!wa)U&&U.remove(),e.removeClass("slider-disabled"),B=!0,a&&(wa=!1),a&&(xa=!0),e.trigger("slider:enable")};if(0<a.autoDisableWhenWidthLessThan||0<a.autoDisableWhenWidthLargerThan||0<a.autoDisableWhenWindowWidthLessThan||
0<a.autoDisableWhenWindowWidthLargerThan){var $a=function(){var b=a.fullscreenWidth?P.width():R.width(),c=Q.width();0<a.autoDisableWhenWidthLessThan&&(b<=a.autoDisableWhenWidthLessThan&&!0===B?da():b>a.autoDisableWhenWidthLessThan&&!1===B&&ea());0<a.autoDisableWhenWidthLargerThan&&(b>=a.autoDisableWhenWidthLargerThan&&!0===B?da():b<a.autoDisableWhenWidthLargerThan&&!1===B&&ea());0<a.autoDisableWhenWindowWidthLessThan&&(c<=a.autoDisableWhenWindowWidthLessThan&&!0===B?da():c>a.autoDisableWhenWindowWidthLessThan&&
!1===B&&ea());0<a.autoDisableWhenWindowWidthLargerThan&&(c>=a.autoDisableWhenWindowWidthLargerThan&&!0===B?da():c<a.autoDisableWhenWindowWidthLargerThan&&!1===B&&ea())};Q.on("resize",function(){$a.delay(500)}).trigger("resize")}if(a.fullscreenWidth||a.fullWidth||a.fullHeight){(a.fullscreenWidth||a.fullWidth)&&e.addClass("fullwidth");a.fullHeight&&e.addClass("fullheight");var pa=function(){var b=a.fullscreenWidth?P.width():R.width();if(B){if(2===a.transition||203===a.transition)a.sequent||(r=r*b/l),
a.usePercentWidth||g.find(".image-hold").eachElement(function(c,d){var e=y.indexOf(d);if(!(0>e)){var k=f(c);a.sequent?k.left(b*e):k.left(k.left()*b/l)}}),x(r);l=b;var c=p;0<a.scaleHeightWhenWidthLessThan&&(l<=a.scaleHeightWhenWidthLessThan?(a.fullHeight&&e.removeClass("fullheight"),p=ka*l/a.scaleHeightWhenWidthLessThan):a.fullHeight?(e.addClass("fullheight"),p="",ka=R.height()):p=ka,g.height(p),X.height(p));3===a.transition&&(a.sequent||(r=r*p/c),g.find(".image-hold").eachElement(function(b,d){var e=
f(b);a.sequent?e.top(p*d):e.top(e.top()*p/c)}),x(r));2!=a.transition&&203!=a.transition&&3!=a.transition||v(h,{},!0,!0,!0)}};Q.on("resize",function(){pa.delay(500)}).trigger("resize");0<parseInt(f(document.body).getData("zmodulescrollbarid",0))&&pa.delay(500)}a.usePercentWidth&&(u=function(){if(!(1>=a.transition)){l=X.width();for(var b=0,c=0;c<y.length;c++){var e=f(d[y[c]].el);e.left(b);b+=e.width()}(function(){v(h,{},!0,!0,!0)}).delay(1)}},Q.on("resize",u),u.delay(500));var aa=function(){};if(a.autoHeight){var Ua=
-1,aa=function(b){if(B&&b==h){var c=0;(0==a.transition||1==a.transition||2==a.transition||203==a.transition)&&d[h]&&"customEl"in d[h]&&(b=d[h].customEl.height(),b>c&&(c=b));(201==a.transition||202==a.transition||204==a.transition||205==a.transition)&&a.contentSlide&&f.foreach(d,function(a){"undefined"!=typeof a.customEl&&(a=a.customEl.height(),a>c&&(c=a))});c&&c!=Ua&&(Ua=c,w.height(c),X.height(c),g.height(c),e.trigger("slider:fixheight"))}};Q.on("resize",function(){aa(h)});aa(h);(function(){aa(h)}).delay(500)}var qa=
a.playButton?e.find(".play-wrap"):!1,ra=a.playButton?e.find(".play-process-bar"):!1,T=f.timer({time:a.autoplayTime,transition:"linear",onProcess:function(a){ra&&ra.height(a+"%")},onStop:function(){ra&&ra.height("0%")},onFinish:function(){Ba()}}),sa=function(){a.autoplay=!0;T.stop().run();qa&&qa.addClass("pause")},Ia=function(){a.autoplay=!1;T.stop();qa&&qa.removeClass("pause")};a.playButton&&e.find(".play-wrap").click(function(b){b.preventDefault();a.autoplay?Ia():sa()});a.navDot||a.navThumb||a.navButton&&
!a.navButtonParentIsRoot||e.find(".nav-wrap").remove();a.playButton||e.find(".play-wrap").remove();a.border||e.find(".image-view-border").remove();a.showInfo||e.find(".image-info-wrap").remove();(202==a.transition&&a.navDot||204==a.transition||205==a.transition)&&Q.on("resize",function(){var b=parseInt(w.width()/l);202!=a.transition&&205!=a.transition||!a.navDot||ya.find(".nav-dot").eachElement(function(a,c){0==c%b?f(a).show():f(a).hide()});if(204==a.transition||205==a.transition){var c=(w.width()-
b*l)/2;Ca=2*c;w.setStyle({paddingLeft:c,paddingRight:c})}}).trigger("resize");var ta=!1,ua=!1,fa=!1,ha=function(b){if(a.popup&&!fa){fa=!0;try{if(b=0!==b?b||-1:0,0>b||b>=d.length)b=h}catch(E){b=h}var c=f.isObject(f.moduleUiPopupOption);if(!c){var k=f('<div class="imageslider-popup-page-cover"></div>').appendTo(document.body);k.addClass(a.popupPageCoverClass)}var g=f('<div class="imageslider-popup-container"><div class="imageslider-popup-close-button">&times;<i class="icon"></i></div><div class="imageslider-popup-wrap"><div class="inpopup-imageslider"></div></div></div>').appendTo(document.body),
l=g.find(".imageslider-popup-close-button"),n=g.find(".inpopup-imageslider");g.addClass(a.popupContainerClass);a.popupImagesliderPopupWrapClass&&g.find(".imageslider-popup-wrap").addClass(a.popupImagesliderPopupWrapClass);P.addClass("imageslider-popup-show");a.popupAllowKeyboard&&n.addClass("allow-keyboard");e.setData("popupsliderels_popupPageCoverEl",k);e.setData("popupsliderels_popupContainerEl",g);e.setData("popupsliderels_inpopupSliderEl",n);n.setData("parent_SliderEl",e);if(c)g.makePopup({closebutton:!1,
closethenremove:!0,pagecover:!0,clickout:a.popupHideOnClickOut,pressEsc:a.popupAllowKeyboard,fade:!0,fadeTime:a.popupAnimateTime,animate:a.popupAnimate,animateTime:a.popupAnimateTime,animateName:a.popupAnimateName,scrollPopup:a.popupScrollPopup}).on("ui:popup:hide",function(){fa=!1});else k.fadeIn({time:a.popupAnimateTime}),a.popupAnimate&&g.addClass("zui-popup hide-before-animate "+a.popupAnimateName).setStyle("animation-duration",a.animateTime+"ms");n.on("slider:ready",function(){Ia();c?g.popupShow():
a.popupAnimate?(g.removeClass("hide-before-animate"),window.clearTimeout(ta),window.clearTimeout(ua),g.addClass("showing zanimate zanimate-start"),ta=function(){g.addClass("zanimate-end")}.delay(a.popupAnimateTime),ua=function(){g.removeClass("showing zanimate zanimate-start zanimate-end")}.delay(a.popupAnimateTime+100)):g.fadeIn();e.trigger("slider:popup:show",{index:b,info:d[b]})}).on("slider:fixheight",function(){c&&g.popupRefresh()});var m=f.extend(f.clone(a),{popup:!1,popupOnly:!1,popupShowOnClick:!1,
popupHideOnClickOut:!1,popupCloseButton:!1,startIndex:b,lazyloadImage:a.popupLazyloadImage,lazyloadDelay:a.popupLazyloadDelay,autoplay:a.popupAutoplay,autoplayTime:a.popupAutoplayTime,playButton:a.popupPlayButton,navButton:a.popupNavButton,navButtonParent:a.popupNavButtonParent,navButtonParentIsRoot:a.popupNavButtonParentIsRoot,navThumb:a.popupNavThumb,navDot:a.popupNavDot,showInfo:a.popupShowInfo,linkTitle:a.popupLinkTitle,linkCover:a.popupLinkCover,sequent:a.popupSequent,fullWidth:a.popupFullWidth,
fullscreenWidth:a.popupFullscreenWidth,contentSlide:a.popupContentSlide});!1!==m.popupTransition&&(m.transition=m.popupTransition);!1!==m.popupTransitionTime&&(m.transitionTime=m.popupTransitionTime);!1!==m.popupTransitionTimingfunction&&(m.transitionTimingfunction=m.popupTransitionTimingfunction);(function(){n.setInnerHTML(va);n.setData("zmodulesliderlinearispopup",!0).makeSlider(m)}).delay(100);a.popupHideOnClickOut&&!c&&k.click(function(a){a.preventDefault();Ja()});a.popupCloseButton?l.click(function(a){a.preventDefault();
Ja()}):l.remove()}},u=function(b){var c=!1;if(Ha)Ha=!1;else{!f(b.target()).is("a[href]")&&0>=f(b.target()).findUp("a[href]").count()&&!f(b.target()).is("input,textarea,label")&&!f(b.target()).is("textarea")&&(b.preventDefault(),c=!0);var d=-1;(b=b.target())&&(b=f(b));b.hasClass("image-hold")||(b=b.findUp(".image-hold"));b.hasClass("image-hold")||(b=!1);b&&(d=parseInt(b.getData("image-index",-1)));0<=d?(a.popup&&a.popupShowOnClick&&ha(d),e.trigger("slider:click",{index:d},function(b){203==a.transition&&
c&&!b.isDefaultPrevented&&v(d)})):a.popup&&a.popupShowOnClick&&ha()}};g.click(u);ia.click(u);var Ja=function(){if(a.popup&&fa){fa=!1;var b=e.getData("popupsliderels_popupPageCoverEl"),c=e.getData("popupsliderels_popupContainerEl"),d=e.getData("popupsliderels_inpopupSliderEl"),g=f.isObject(f.moduleUiPopupOption);d&&d.slidePause();g?c.on("ui:popup:hide",function(){P.removeClass("imageslider-popup-show")}).popupHide():(c&&(a.popupAnimate?(window.clearTimeout(ta),window.clearTimeout(ua),c.addClass("hiding animate animate-start"),
ta=function(){c.addClass("animate-end")}.delay(a.popupAnimateTime),ua=function(){c.removeClass("hiding animate animate-start animate-end");c.remove()}.delay(a.popupAnimateTime+100)):c.removeSlow()),b&&b.fadeOut({time:a.popupAnimateTime,callback:function(){b.remove();P.removeClass("imageslider-popup-show")}}));e.trigger("slider:popup:hide")}};e.trigger("slider:ready");(function(){e.trigger("slider:ready:fixheight")}).delay(500);var Ka=!1;"function"==typeof f.loadImages&&(a.preload&&(Ka=f('<div class="slider-loading-wrap"><div class="text-wrap"><span class="percent"></span>%</div></div>').appendTo(F)),
f.loadImages({images:function(){for(var a=[],c=0;c<d.length;c++)"undefined"!=typeof d[c].src&&""!=d[c].src&&a.push(d[c].src),"undefined"!=typeof d[c].srclarge&&""!=d[c].srclarge&&a.push(d[c].srclarge),"undefined"!=typeof d[c].srcpopup&&""!=d[c].srcpopup&&a.push(d[c].srcpopup);return a}(),onLoading:function(b){a.preload&&Ka.find(".percent").setInnerHTML(b.toString())},onFinish:function(){if(a.preload&&(!a.debug||"loading"!=a.debug)){Ka.removeSlow();v(0,{},!0,!0);1<d.length&&(v(1,{direction:"next"},
!0,!0),v(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(var b=0;b<a.startIndex;)v(++b,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&pa();a.autoplay&&sa();e.trigger("slider:load");oa()}}}));if(!a.preload){v(0,{},!0,!0);1<d.length&&(v(1,{direction:"next"},!0,!0),v(0,{direction:"prev"},!0,!0));if(0<a.startIndex)for(F=0;F<a.startIndex;)v(++F,{direction:"next"},!0,!0);(a.fullscreenWidth||a.fullWidth)&&pa();a.autoplay&&sa();e.trigger("slider:load");oa()}return{slideTo:v,slideNext:Ba,slidePrev:Ra,
slidePlay:sa,slidePause:Ia,slidePopupShow:ha,slidePopupHide:Ja,slideRefresh:oa,slideDisable:function(){da(!0)},slideEnable:function(){ea(!0)},slideFilter:function(b){var c;for(c=0;c<d.length;c++){var e=!0;if(f.isFunction(b)){var g=b(d[c]);"undefined"!==typeof g&&(e=g)}d[c].isShown=e}Ma();b=!1;a.navDot&&(b=ya.find(".nav-dot"),b.count()||(b=!1));for(c=0;c<d.length;c++)d[c].isShown?(d[c].el.removeClass("slide-hide"),b.item(c).show()):(d[c].el.addClass("slide-hide"),b.item(c).hide());oa()},getSliderInfo:function(){return{images:d,
current:{index:h,image:Aa,title:ca,description:ja,link:M}}}}});f(document).on("keydown",function(F){if(37==F.keyCode()||39==F.keyCode()||27==F.keyCode()){var d=f(".inpopup-imageslider.allow-keyboard");0>=d.count()||(37==F.keyCode()&&d.slidePrev(),39==F.keyCode()&&d.slideNext(),27==F.keyCode()&&d.getData("parent_SliderEl").slidePopupHide())}});"required"in f&&f.required("image.slider.theme.linear")});