zjs.require("image.loader",function(){var c=zjs(window.document.body),e=c.getAttr("data-preload-domready-method","ready"),f=c.getAttr("data-preload-custom-loading-container",""),d=parseInt(c.getAttr("data-preload-cache-second",0)),b=c.getAttr("data-preload-cache-baseurl","");""==b&&(b=window.document.location.href);var g="zmplt"+b.hashCode(),b=!0;if(0<d){var n=parseInt(zjs.cookie.get(g,0));(new Date).getTime()-n<1E3*d&&(b=!1)}var h=[];zjs("#zpagepreloadimages li").each(function(a){h.push(zjs(a).getAttr("data-src"))});
zjs("#zpagepreloadimages").remove();d=function(){c.removeClass("zpagepreload");zjs.loadImages({images:h});var a=function(){c.trigger("pagepreload.cached",{percent:100});c.trigger("pagepreload.done",{percent:100});var a=(new Date).getTime();zjs.cookie.set(g,a);zjs(f).removeSlow()};if("ready"==e)zjs.onready(a);else if("load"==e)zjs.onload(a);else"scrollbar.ready"==e&&a()};b?function(){var a=window.document.createElement("div"),b=!1;try{window.document.body.appendChild(a),b=!0}catch(p){}if(b){a=zjs(a);
a.setAttr("id","zui-pagepreload-overlay");a.html('<div class="loading-container"><div><span class="loading-text-percent"></span><span class="loading-percent"></span></div></div>');""!=f&&(b=zjs(f),0<b.count()&&(a.find(".loading-container").remove(),a.append(b)));(function(){c.removeClass("zpagepreload")}).delay(200);a.on("mousewheel",function(a){a.preventDefault();a.stopPropagation()});var d=!1,l=!1,m=function(){a.removeSlow(1E3);c.trigger("pagepreload.done",{percent:100});var b=(new Date).getTime();
zjs.cookie.set(g,b)};c.trigger("pagepreload.start",{percent:0});zjs.loadImages({images:h,delay:1400,onLoading:function(b){a.find(".loading-text-percent").html(b.toString());a.find(".loading-percent").html("%");c.trigger("pagepreload.load",{percent:b})},onFinish:function(){d=!0;l&&m()}});var k=function(){l=!0;d&&m()};if("ready"==e)zjs.onready(k);else if("load"==e)zjs.onload(k);else if("scrollbar.ready"==e)c.on("scrollbar.ready",function(){c.append(a);k()})}else(function(){zjs(window.document.body).removeClass("zpagepreload");
zjs(window.document.body).trigger("pagepreload.done",{percent:100})}).delay(200)}():d.delay(100);"required"in zjs&&zjs.required("pagepreload")});