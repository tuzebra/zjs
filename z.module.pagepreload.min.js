zjs.require("image.loader",function(){var b=zjs(window.document.body),f=b.getAttr("data-preload-domready-method","ready"),k=b.getAttr("data-preload-custom-loading-container",""),d=parseInt(b.getAttr("data-preload-cache-second",0)),a=b.getAttr("data-preload-cache-baseurl",""),e=b.getAttr("data-preload-autorun",!0);if("true"!==e||!0!==e)e=!1;""==a&&(a=window.document.location.href);var l="zmplt"+a.hashCode(),a=!0;if(0<d){var m=parseInt(zjs.cookie.get(l,0));(new Date).getTime()-m<1E3*d&&(a=!1)}var h=
[];zjs("#zpagepreloadimages li").eachElement(function(b){h.push(zjs(b).getAttr("data-src"))});zjs("#zpagepreloadimages").remove();var g=function(n){var c=window.document.createElement("div"),a=!1;try{window.document.body.appendChild(c),a=!0}catch(r){}if(a){c=zjs(c);c.setAttr("id","zui-pagepreload-overlay");c.html('<div class="loading-container"><div><span class="loading-text-percent"></span><span class="loading-percent"></span></div></div>');""!=k&&(a=zjs(k),0<a.count()&&(c.find(".loading-container").remove(),
c.append(a)));(function(){b.removeClass("zpagepreload")}).delay(200);c.on("mousewheel",function(b){b.preventDefault();b.stopPropagation()});var d=!1,e=!1,g=function(){c.removeSlow(1E3);b.trigger("pagepreload:done",{percent:100});var a=(new Date).getTime();zjs.cookie.set(l,a)};b.trigger("pagepreload:start",{percent:0});var m=c.find(".loading-text-percent"),q=c.find(".loading-percent");n=zjs.extend({images:h,delay:1400,localCache:"undefined"!=typeof cordova&&"undefined"!=typeof device&&"browser"!=device.platform,
onLoading:function(a){m.html(a.toString());q.html("%");b.trigger("pagepreload:load",{percent:a})},onFinish:function(){d=!0;e&&g()}},n);zjs.loadImages(n);var p=function(){e=!0;d&&g()};if("ready"==f)zjs.onready(p);else if("load"==f)zjs.onload(p);else if("scrollbar.ready"==f)b.on("scrollbar.ready",function(){b.append(c);p()})}else(function(){zjs(window.document.body).removeClass("zpagepreload");zjs(window.document.body).trigger("pagepreload:done",{percent:100})}).delay(200)},d=function(){b.removeClass("zpagepreload");
zjs.loadImages({images:h});var a=function(){b.trigger("pagepreload:cached",{percent:100});b.trigger("pagepreload:done",{percent:100});var a=(new Date).getTime();zjs.cookie.set(l,a);zjs(k).removeSlow()};if("ready"==f)zjs.onready(a);else if("load"==f)zjs.onload(a);else"scrollbar.ready"==f&&a()};e&&(a?g():d.delay(100));zjs.extendCore({pagepreloadAddImage:function(a){h.push(a)},pagepreloadRun:function(){g()}});"required"in zjs&&zjs.required("pagepreload")});