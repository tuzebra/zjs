zjs.require("image.loader",function(){var b=zjs(window.document.body),f=b.getAttr("data-preload-domready-method","ready"),l=b.getAttr("data-preload-custom-loading-container",""),d=parseInt(b.getAttr("data-preload-cache-second",0)),c=b.getAttr("data-preload-cache-baseurl",""),e=b.getAttr("data-preload-autorun",!0);if("true"!==e||!0!==e)e=!1;""==c&&(c=window.document.location.href);var m="zmplt"+c.hashCode(),c=!0;if(0<d){var n=parseInt(zjs.cookie.get(m,0));(new Date).getTime()-n<1E3*d&&(c=!1)}var h=
[];zjs("#zpagepreloadimages li").eachElement(function(a){h.push(zjs(a).getAttr("data-src"))});zjs("#zpagepreloadimages").remove();var k=function(){var a=window.document.createElement("div"),g=!1;try{window.document.body.appendChild(a),g=!0}catch(q){}if(g){a=zjs(a);a.setAttr("id","zui-pagepreload-overlay");a.html('<div class="loading-container"><div><span class="loading-text-percent"></span><span class="loading-percent"></span></div></div>');""!=l&&(g=zjs(l),0<g.count()&&(a.find(".loading-container").remove(),
a.append(g)));(function(){b.removeClass("zpagepreload")}).delay(200);a.on("mousewheel",function(a){a.preventDefault();a.stopPropagation()});var c=!1,d=!1,e=function(){a.removeSlow(1E3);b.trigger("pagepreload:done",{percent:100});var c=(new Date).getTime();zjs.cookie.set(m,c)};b.trigger("pagepreload:start",{percent:0});var k=a.find(".loading-text-percent"),n=a.find(".loading-percent");zjs.loadImages({images:h,delay:1400,localCache:"undefined"!=typeof cordova&&"undefined"!=typeof device&&"browser"!=
device.platform,onLoading:function(a){k.html(a.toString());n.html("%");b.trigger("pagepreload:load",{percent:a})},onFinish:function(){c=!0;d&&e()}});var p=function(){d=!0;c&&e()};if("ready"==f)zjs.onready(p);else if("load"==f)zjs.onload(p);else if("scrollbar.ready"==f)b.on("scrollbar.ready",function(){b.append(a);p()})}else(function(){zjs(window.document.body).removeClass("zpagepreload");zjs(window.document.body).trigger("pagepreload:done",{percent:100})}).delay(200)},d=function(){b.removeClass("zpagepreload");
zjs.loadImages({images:h});var a=function(){b.trigger("pagepreload:cached",{percent:100});b.trigger("pagepreload:done",{percent:100});var a=(new Date).getTime();zjs.cookie.set(m,a);zjs(l).removeSlow()};if("ready"==f)zjs.onready(a);else if("load"==f)zjs.onload(a);else"scrollbar.ready"==f&&a()};e&&(c?k():d.delay(100));zjs.extendCore({pagepreloadAddImage:function(a){h.push(a)},pagepreloadRun:function(){k()}});"required"in zjs&&zjs.required("pagepreload")});