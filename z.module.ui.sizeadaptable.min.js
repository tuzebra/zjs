(function(){zjs.extendCore({moduleUiSizeAdaptableOption:{aspectRatio:!1,parent:!1,handlerResizeMethod:"cover"}});var k=function(b,d){var c=zjs(b),a=c.getData("zmoduleuisizeadaptableoption");if(a)c.setData("zmoduleuisizeadaptableoption",zjs.extend(a,d));else{var a=zjs.clone(zjs.moduleUiSizeAdaptableOption),e=c.getAttr("data-option","");zjs.isString(e)&&""!=e.trim()&&(a=zjs.extend(a,e.jsonDecode()));c.removeAttr("data-option");"undefined"!=typeof d&&(a=zjs.extend(a,d));a.aspectRatio&&(a.aspectRatio=
parseFloat(a.aspectRatio,10),isNaN(a.aspectRatio)&&(a.aspectRatio=!1));a.handlerResizeMethod in g||(a.handlerResizeMethod="cover");c.setData("zmoduleuisizeadaptableoption",a);c.addClass("zui-size-adaptable");var f=!1;zjs.isString(a.parent)?f=c.findUp(a.parent):zjs.isElement(a.parent)?f=zjs(a.parent):zjs.isZjs(a.parent)&&(f=a.parent);f&&f.count()||(f=c.parent());if(f.count()){var h=function(){var b=c.width()/c.height();if(!isNaN(b)){c.setData("zmoduleuisizeadaptableoriginalratio",b);var d=g[a.handlerResizeMethod];
d("init",c,f,b,a);d("resize",c,f,b,a);zjs(window).on("resize",function(){d("resize",c,f,b,a)})}};c.is("img")&&!c.item(0,!0).complete?c.item(0,!0).onload=function(){h()}:h()}}},g={cover:function(b,d,c,a,e){if(!d.getData("donthandle"))if("init"===b)d.is("img")&&"objectFit"in d.item(0,1).style&&d.setStyle({width:"100%",height:"100%","object-fit":"cover"}).setData("donthandle",!0);else{e=c.width();var f=c.height();a>e/f?(c=f,b=f*a,a=0,e=(e-b)/2):(b=e,c=e/a,a=(f-c)/2,e=0);d.setStyle({width:b,height:c,
top:a,left:e})}},slai:function(b,d,c,a,e){"init"!==b&&(a=c.width(),e=d.width(),b=d.height(),a/=e,c.height(b*a),d.setStyle({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%) scale("+a+")"}))}};zjs.extendMethod({makeSizeAdaptable:function(b){return this.eachElement(function(d){k(d,b)})},sizeAdaptableRefresh:function(){return this.eachElement(function(b){zjs(b).getData("zmoduleuisizeadaptableoption")})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zsizeadaptable").makeSizeAdaptable()},
after_insertDOM:function(b){zjs(b).hasClass("zsizeadaptable")&&zjs(b).makeSizeAdaptable();zjs(b).find(".zsizeadaptable").makeSizeAdaptable()}});zjs.onready(function(){zjs(".zsizeadaptable").makeSizeAdaptable()});"required"in zjs&&zjs.required("ui.sizeadaptable")})();