zjs.onready(function(){zjs.extendCore({moduleUiSizeAdaptableOption:{aspectRatio:!1,parent:!1,handlerResizeMethod:"cover"}});var k=function(d,c){var b=zjs(d),a=b.getData("zmoduleuisizeadaptableoption");if(a)b.setData("zmoduleuisizeadaptableoption",zjs.extend(a,c));else{var a=zjs.clone(zjs.moduleUiSizeAdaptableOption),f=b.getAttr("data-option","");zjs.isString(f)&&""!=f.trim()&&(a=zjs.extend(a,f.jsonDecode()));b.removeAttr("data-option");"undefined"!=typeof c&&(a=zjs.extend(a,c));a.aspectRatio&&(a.aspectRatio=
parseInt(a.aspectRatio,10),isNaN(a.aspectRatio)&&(a.aspectRatio=!1));a.handlerResizeMethod in g||(a.handlerResizeMethod="cover");b.setData("zmoduleuisizeadaptableoption",a);b.addClass("zui-size-adaptable");var e=!1;zjs.isString(a.parent)?e=b.findUp(a.parent):zjs.isElement(a.parent)?e=zjs(a.parent):zjs.isZjs(a.parent)&&(e=a.parent);e&&e.count()||(e=b.parent());if(e.count()){var h=function(){var c=b.width()/b.height();if(!isNaN(c)){b.setData("zmoduleuisizeadaptableoriginalratio",c);var d=g[a.handlerResizeMethod];
d(b,e,c,a);zjs(window).on("resize",function(){d(b,e,c,a)})}};b.is("img")&&!b.item(0,!0).complete?b.item(0,!0).onload=function(){h()}:h()}}},g={cover:function(d,c,b,a){a=c.width();var f=c.height();if(b>a/f){c=f;var e=f*b;b=0;a=(a-e)/2}else e=a,c=a/b,b=(f-c)/2,a=0;d.setStyle({width:e,height:c,top:b,left:a})}};zjs.extendMethod({makeSizeAdaptable:function(d){return this.eachElement(function(c){k(c,d)})}});zjs.hook({after_setInnerHTML:function(d){zjs(d).find(".zsizeadaptable").makeSizeAdaptable()},after_insertDOM:function(d){zjs(d).hasClass("zsizeadaptable")&&
zjs(d).makeSizeAdaptable();zjs(d).find(".zsizeadaptable").makeSizeAdaptable()}});zjs.onready(function(){zjs(".zsizeadaptable").makeSizeAdaptable()});"required"in zjs&&zjs.required("ui.sizeadaptable")});