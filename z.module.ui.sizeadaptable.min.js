(function(){zjs.extendCore({moduleUiSizeAdaptableOption:{aspectRatio:!1,parent:!1,handlerResizeMethod:"cover"}});var k=function(b,d){var c=zjs(b),a=c.getData("zmoduleuisizeadaptableoption");if(a)c.setData("zmoduleuisizeadaptableoption",zjs.extend(a,d));else{a=zjs.clone(zjs.moduleUiSizeAdaptableOption);var f=c.getAttr("data-option","");zjs.isString(f)&&""!=f.trim()&&(a=zjs.extend(a,f.jsonDecode()));c.removeAttr("data-option");"undefined"!=typeof d&&(a=zjs.extend(a,d));a.aspectRatio&&(a.aspectRatio=
parseFloat(a.aspectRatio,10),isNaN(a.aspectRatio)&&(a.aspectRatio=!1));a.handlerResizeMethod in g||(a.handlerResizeMethod="cover");c.setData("zmoduleuisizeadaptableoption",a);c.addClass("zui-size-adaptable");var e=!1;zjs.isString(a.parent)?e=c.findUp(a.parent):zjs.isElement(a.parent)?e=zjs(a.parent):zjs.isZjs(a.parent)&&(e=a.parent);e&&e.count()||(e=c.parent());if(e.count()){var h=function(){var b=c.width()/c.height();if(!isNaN(b)){c.setData("zmoduleuisizeadaptableoriginalratio",b);var d=g[a.handlerResizeMethod];
d("init",c,e,b,a);d("resize",c,e,b,a);zjs(window).on("resize",function(){d("resize",c,e,b,a)})}};c.is("img")&&!c.item(0,!0).complete?c.item(0,!0).onload=function(){h()}:h()}}},g={cover:function(b,d,c,a,f){if(!d.getData("donthandle"))if("init"===b)d.is("img")&&"objectFit"in d.item(0,1).style?d.setStyle({width:"100%",height:"100%","object-fit":"cover"}).setData("donthandle",!0):d.addClass("zui-size-adaptable-use-js");else{b=c.width();var e=c.height();a>b/e?(c=e,f=e*a,a=0,b=(b-f)/2):(f=b,c=b/a,a=(e-
c)/2,b=0);d.setStyle({width:f,height:c,top:a,left:b})}},slai:function(b,d,c,a,f){"init"!==b&&(a=c.width(),f=d.width(),b=d.height(),a/=f,c.height(b*a),d.setStyle({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%) scale("+a+")"}))}};zjs.extendMethod({makeSizeAdaptable:function(b){return this.eachElement(function(d){k(d,b)})},sizeAdaptableRefresh:function(){return this.eachElement(function(b){zjs(b).getData("zmoduleuisizeadaptableoption")})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zsizeadaptable").makeSizeAdaptable()},
after_insertDOM:function(b){zjs(b).hasClass("zsizeadaptable")&&zjs(b).makeSizeAdaptable();zjs(b).find(".zsizeadaptable").makeSizeAdaptable()}});zjs.onready(function(){zjs(".zsizeadaptable").makeSizeAdaptable()});"required"in zjs&&zjs.required("ui.sizeadaptable")})();