(function(a){a.extendCore({moduleImageCropOption:{}});a.extendMethod({makeImageCrop:function(b){return this.each(function(d){d=a(d);var c=d.getData("zmoduleimagecropoption");if(c)d.setData("zmoduleimagecropoption",a.extend(c,b));else{var c=a.clone(a.moduleImageCropOption),e=d.getAttr("data-option","");a.isString(e)&&""!=e.trim()&&(c=a.extend(c,e.jsonDecode()));"undefined"!=typeof b&&(c=a.extend(c,b));d.setData("zmoduleimagecropoption",c);d.addClass("zui-image-crop")}})}});a.hook({after_setInnerHTML:function(b){a(b).find("img.zimagecrop").makeImageCrop()},
after_insertDOM:function(b){a(b).hasClass("img.zimagecrop")&&a(b).makeImageCrop();a(b).find("img.zimagecrop").makeImageCrop()}});a.onready(function(){a("img.zimagecrop").makeImageCrop()});"required"in a&&a.required("image.crop")})(zjs);
