(function(g){var q=g("html").getAttr("lang","en").split("-");q=q[0];var v={en:{required:"Field is required",email:"Not a valid email",url:"Not a valid url",date:"Not a valid date",number:"Not a number",phonenumber:"Not a phone number",digits:"Not a digits",minlength:"Value as least minlength",repassword:"The specified passwords do not match"},es:{required:"Campo obligatorio",email:"No es un correo electr\u00f3nico v\u00e1lido",url:"No es una URL v\u00e1lida",date:"No es una fecha v\u00e1lida",number:"No un n\u00famero",
phonenumber:"No es un n\u00famero de tel\u00e9fono",digits:"No un d\u00edgito",minlength:"Valor como m\u00ednimo minlength",repassword:"Las contrase\u00f1as especificadas no coinciden"},de:{required:"Feld ist erforderlich",email:"Keine g\u00fcltige E-Mail",url:"Nicht eine g\u00fcltige URL",date:"Nicht g\u00fcltiges Datum",number:"Nicht eine Nummer",phonenumber:"Nicht eine Telefonnummer",digits:"Nicht eine Ziffern",minlength:"Wert so wenig minderlth",repassword:"Die eingegebenen Passw\u00f6rter stimmen nicht \u00fcberein"},
it:{required:"Campo obbligatorio",email:"Non \u00e8 un'e-mail valida",url:"Non un URL valido",date:"Non \u00e8 una data valida",number:"non un numero",phonenumber:"Non un numero di telefono",digits:"Non una cifra",minlength:"Valore minima di lunghezza minima",repassword:"Le password specificate non corrispondono"},vi:{required:"C\u00f2n thi\u1ebfu th\u00f4ng tin n\u00e0y",email:"Sai \u0111\u1ecbnh d\u1ea1ng email",url:"Sai \u0111\u1ecbnh d\u1ea1ng url",date:"Sai \u0111\u1ecbnh d\u1ea1ng ng\u00e0y",
number:"Kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ed1",phonenumber:"Kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",digits:"Kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ed1",minlength:"Kh\u00f4ng \u0111\u1ee7 chi\u1ec1u d\u00e0i quy \u0111\u1ecbnh",repassword:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\u00f4ng ch\u00ednh x\u00e1c"}};g.extendCore({moduleFormValidationOption:{errorClass:"error",successClass:"success",language:q,tips:{},preventClass:"prevent",checkboxClass:"checkbox",radiogroupClass:"radiogroup",
dategroupClass:"dategroup",customInputClass:"zvalidation-custom-input",preventPressEnterToSubmit:!1,autoCheckWhenBlur:!0,autoCheckWhenInput:!1,onlyone:!1}});var t="",w=function(b,c){return"TEXTAREA"===b.tagName()&&"CKEDITOR"in window&&""!==b.getAttr("id","")&&b.getAttr("id")in window.CKEDITOR.instances&&window.CKEDITOR.instances[b.getAttr("id")].element.$===c},y=function(b,c){var d=g(b),a=d.getData("zjsmoduleformvalidationoption");if(a)d.setData("zjsmoduleformvalidationoption",g.extend(a,c));else{a=
g.clone(g.moduleFormValidationOption);var f=d.getAttr("data-option","");g.isString(f)&&""!=f.trim()&&(a=g.extend(a,f.jsonDecode()));d.removeAttr("data-option");"undefined"!=typeof c&&(a=g.extend(a,c));!a.language in v&&(a.language="en");a.tips=g.extend(v[a.language],a.tips);a.preventPressEnterToSubmit=!!a.preventPressEnterToSubmit;a.onlyone=!!a.onlyone;a.onlyone&&(a.autoCheckWhenBlur=!1);d.setData("zjsmoduleformvalidationoption",a);t="input[type=text], input[type=email], input[type=password], input.zimagepicker, textarea, select, ."+
a.checkboxClass+", ."+a.radiogroupClass+", ."+a.dategroupClass;d.addClass("z-form-validation");var p=function(){var b=g.enablehook();g.enablehook(!1);d.find(t+", ."+a.customInputClass).eachElement(function(b){var e=g(b);if(!e.hasClass("zui-autosuggestion-input")&&!e.hasClass("zui-datepicker-input")&&!e.hasClass("js-dategroup-item"))if(e.findUp("."+a.dategroupClass).count())e.addClass("js-dategroup-item");else if(!e.getData("zjsmoduleformvalidationinputel",!1)){e.setData("zjsmoduleformvalidationinputel",
!0);var c=g('<div class="checktip"><div class="text"></div></div>').hide(),f=e.getAttr("name");e.hasClass(a.checkboxClass)&&!e.is("input")&&(f=e.find("> input[type=checkbox]").getAttr("name"));c.addClass("checktip-"+f);c.insertAfter(e);(f=e.getData("zmoduleautosuggestionwrapel"))&&c.insertAfter(f);(f=e.getData("zmoduleuidatepickerwrapel"))&&c.insertAfter(f);f=!1;w(e,b)&&(f=window.CKEDITOR.instances[e.getAttr("id")],e.setData("ckeditorinstance",f));e.setData("zjsmoduleformvalidationtipel",c);if(a.autoCheckWhenBlur)e.on("blur, ui:autosuggestion:blur, ui:datepicker:blur",
function(b){l(e,m(e,a,d),a)});if(a.autoCheckWhenInput)e.on("input, ui:autosuggestion:input",function(){l(e,m(e,a,d),a)});if(e.is("select"))e.on("change, ui:selectbox:change, ui:selectbox:blur, ui:autosuggestion:choice, ui:autosuggestion:blur",function(){l(e,m(e,a,d),a)});if(e.hasClass(a.radiogroupClass))e.on("click","input[type=radio]",function(){l(e,m(e,a,d),a)});if(e.hasClass(a.checkboxClass))if(e.is("input"))e.on("click",function(){l(e,m(e,a,d),a)});else e.on("click","input[type=checkbox]",function(){l(e,
m(e,a,d),a)});if(e.hasClass(a.dategroupClass)){if(a.autoCheckWhenBlur)e.find("input").on("blur",function(){l(e,m(e,a,d),a)});if(a.autoCheckWhenInput)e.find("input").on("input",function(){l(e,m(e,a,d),a)})}e.parent().addClass("z-form-field")}});g.enablehook(b)};p();g.hook({after_insertDOM:function(a){p()}});var k=!1;d.on("submit",function(a){x(b,a)?(this.removeClass("zvalidation-invalid"),k?(k=!1,a.preventDefault(),a.stopPropagation()):this.trigger("form:validation:success",{},function(b){b.isDefaultPrevented&&
a.preventDefault()})):this.addClass("zvalidation-invalid").trigger("form:validation:failed",{status:d.getData("zjsmoduleformvalidationpassStatus")})});g(window).on("keydown",function(a){13==a.getKeyCode()&&(a=g(a.target()).findUp("form"),0<a.count()&&(a=a.getData("zjsmoduleformvalidationoption",!1))&&a.preventPressEnterToSubmit&&(k=!0))});(function(){d.find(".autofocus").focus()}).delay(100)}},x=function(b,c,d){d=d||!1;var a=g(b),f=a.getData("zjsmoduleformvalidationoption");if(f){"moduleEditorOption"in
g&&a.find("textarea").editorSave();var p=!0,k,h={};a.find("input,textarea,select,."+f.checkboxClass+",."+f.radiogroupClass+",."+f.dategroupClass+",."+f.customInputClass).eachElement(function(b){var e=g(b);if((e.is(t+", ."+f.customInputClass)||e.getData("zmoduleautosuggestionwrapel",!1))&&!e.hasClass("js-dategroup-item"))if(e.findUp("."+f.dategroupClass).count())e.addClass("js-dategroup-item");else if(!e.hasClass("zui-autosuggestion-input")&&!e.hasClass("zui-datepicker-input")){if(!e.getData("ckeditorinstance",
!1)&&w(e,b)){var c=window.CKEDITOR.instances[e.getAttr("id")];e.setData("ckeditorinstance",c);if(f.autoCheckWhenInput)c.on("change",function(b){b.editor.updateElement();l(e,m(e,f,a),f)});if(f.autoCheckWhenBlur)c.on("blur",function(b){b.editor.updateElement();l(e,m(e,f,a),f)})}e.getData("ckeditorinstance",!1)&&e.getData("ckeditorinstance").updateElement();l(b,k=m(b,f,a),f,d);b=e.getAttr("name","");""!==b&&(h[b]=k);if(!k.pass&&(p=!1,f.onlyone))return!1}});a.setData("zjsmoduleformvalidationpassStatus",
h);if(!p){try{"undefined"!=typeof c&&c&&c.preventDefault()}catch(B){}if(d)return!1;b=a.find("."+f.errorClass).item(0);b.getData("ckeditorinstance",!1)?b.getData("ckeditorinstance").focus():"isAutosuggestion"in b&&b.isAutosuggestion()?b.autosuggestionFocus():b.is("input")||b.is("textarea")||b.is("select")?b.focus():b.hasClass("radiogroup")&&"moduleTransition"in g&&g(document.body).playTransition("scrollTop",b.getAbsoluteTop()-100,{time:800});return!1}return!0}},A=function(b){b=g(b);var c=b.getData("zjsmoduleformvalidationoption",
!1);c&&b.find("input,textarea,select,."+c.checkboxClass).eachElement(function(b){b=g(b);var a=b.getData("zjsmoduleformvalidationtipel",!1);a&&(a.hide(),b.removeClass(c.errorClass),(a=b.getData("zmoduleuidatepickerwrapel",!1))&&a.removeClass(c.errorClass),(a=b.getData("zjsmoduleimagepickerwrapel",!1))&&a.removeClass(c.errorClass),(a=b.getData("zmoduleautosuggestionwrapel",!1))&&a.removeClass(c.errorClass),(b=b.getData("ckeditorinstance",!1))&&g(b.container.$).removeClass(c.errorClass))})},l=function(b,
c,d,a){b=g(b);if(c.pass)c=a?"":d.successClass,b.removeClass(d.errorClass),b.hasClass("required")&&b.addClass(c),(a=b.getData("zjsmoduleformvalidationtipel"))&&a.hide(),(a=b.getData("zmoduleuidatepickerwrapel",!1))&&a.removeClass(d.errorClass).addClass(c),(a=b.getData("zjsmoduleimagepickerwrapel",!1))&&a.removeClass(d.errorClass).addClass(c),(a=b.getData("zmoduleautosuggestionwrapel",!1))&&a.removeClass(d.errorClass).addClass(c),(a=b.getData("ckeditorinstance",!1))&&g(a.container.$).removeClass(d.errorClass).addClass(d.successClass);
else if(!a){b.addClass(d.errorClass).removeClass(d.successClass);if(a=b.getData("zjsmoduleformvalidationtipel")){var f="";""!=b.getAttr("data-tip-"+c.type,"")?f=b.getAttr("data-tip-"+c.type,""):"undefined"!=typeof d.tips[c.type]&&(f=d.tips[c.type]);a.show().find(".text").setInnerHTML(f).setAttr("data-type",c.type)}(a=b.getData("zmoduleuidatepickerwrapel",!1))&&a.addClass(d.errorClass).removeClass(d.successClass);(a=b.getData("zjsmoduleimagepickerwrapel",!1))&&a.addClass(d.errorClass).removeClass(d.successClass);
(a=b.getData("zmoduleautosuggestionwrapel",!1))&&a.addClass(d.errorClass).removeClass(d.successClass);if(a=b.getData("ckeditorinstance",!1))g(a.container.$).addClass(d.errorClass).removeClass(d.successClass),"required"===c.type&&a.document.getBody().setHtml("");b.trigger("form:validation:error",{type:c.type})}},m=function(b,c,d){var a=g(b);if(a.hasClass(c.preventClass))return{pass:!0};a.getAttr("id","").trim().toLowerCase();var f=a.getAttr("name","").trim().toLowerCase(),p=a.getAttr("type","").trim().toLowerCase(),
k=a.getAttr("class","").trim().toLowerCase(),h=a.getValue("").trim();a.getData("ckeditorinstance",!1)&&(h=a.getData("ckeditorinstance").document.getBody().getText().trim());a.hasClass(c.radiogroupClass)&&(h=a.find("input[type=radio]:checked").getValue("").trim());a.hasClass(c.checkboxClass)&&(a.is("input")?a.is(":checked")||(h=""):h=a.find("input[type=checkbox]:checked").getValue("").trim());if(a.hasClass(c.dategroupClass)){var l=null,e=null,m=null;a.find("input").eachElement(function(a){var b=z(a).getAttr("name",
"").trim().toLowerCase();0<=b.indexOf("year")?m=z(a):0<=b.indexOf("month")?e=z(a):0<=b.indexOf("day")&&(l=z(a))});h=[];m&&m.getValue()&&h.push(m.getValue());e&&e.getValue()&&h.push(e.getValue());l&&l.getValue()&&h.push(l.getValue());h=2<h.length?h.join("-"):""}a.hasClass(c.customInputClass)&&(h=a.getAttr("data-value",""));a.getData("zmoduleuidatepickerwrapel",!1)&&(h=a.getValue());a.getData("zjsmoduleimagepickerwrapel",!1)&&(h=(h=a.getValue())?parseInt(h):0,0>=h&&(h=""));if(""==h&&(0<=k.indexOf("required")||
""!=a.getAttr("data-tip-required","")))return{pass:!1,type:"required"};if(""!=h){if(a.hasClass(c.dategroupClass)&&!r.yearmonthday(h,b))return{pass:!1,type:"date"};var n="";if(0<=f.indexOf("email")||0<=k.indexOf("email")||""!=a.getAttr("data-tip-email","")||"email"==p)n="email";else if(0<=f.indexOf("url")||0<=k.indexOf("url")||""!=a.getAttr("data-tip-url",""))n="url";else if(0<=f.indexOf("phonenumber")||0<=k.indexOf("phonenumber")||""!=a.getAttr("data-tip-phonenumber",""))n="phonenumber";else if(0<=
f.indexOf("number")||0<=k.indexOf("number")||""!=a.getAttr("data-tip-number","")||"number"==p)n="number";else if(0<=f.indexOf("digits")||0<=k.indexOf("digits")||""!=a.getAttr("data-tip-digits",""))n="digits";else if(0<=f.indexOf("date")||0<=k.indexOf("zdatepicker")||""!=a.getAttr("data-tip-date","")||"date"==p)n="date";"number"==n&&a.hasClass("allow-alphabet")&&(n="");if(""!=n&&!r[n](h,b))return{pass:!1,type:n}}if(""!=h){if(0<=f.indexOf("minlength")||0<=k.indexOf("minlength")||""!=a.getAttr("data-tip-minlength",
"")||null!==a.getAttr("minlength",null)||null!==a.getAttr("data-minlength",null))n="minlength";if(""!=n&&!r[n](h,b))return{pass:!1,type:n}}if("password"==p&&(0<=f.indexOf("repassword")||0<=f.indexOf("pass[pass2]")||0<=k.indexOf("repassword")||""!=a.getAttr("data-tip-repassword",""))&&(f=d.find('input[type="password"]'),1<f.count())){var q=-1;f.eachElement(function(b,c){a.isTheSame(b)&&(q=c)});if(1<=q&&a.getValue("")!=f.item(q-1).getValue())return{pass:!1,type:"repassword"}}if(""!=h)for(f=0;f<u.length;f++)if(p=
u[f],a.is("[data-"+p+"]")&&(k=a.getAttr("data-"+p,""),!r[p](h,b,k)))return{pass:!1,type:p};d.trigger("form:validation:checking",{element:b,option:c},function(a){});return{pass:!0}},r={email:function(b,c){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},
url:function(b,c){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},
date:function(b,c){return!/Invalid|NaN/.test((new Date(b)).toString())},yearmonthday:function(b,c){if(!r.dateISO(b))return!1;var d=b.split("-");d=[parseInt(d[0]),parseInt(d[1]).toPaddedString(2),parseInt(d[2]).toPaddedString(2)].join("-");var a=new Date(d+"T00:00:00Z");return isNaN(a.getDate())?!1:d===a.toISOString().slice(0,10)},dateISO:function(b,c){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(b)},number:function(b,c){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},phonenumber:function(b,
c){return 3>(b+" ").trim().length?!1:/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\. \\\/]?)?((?:\(?\d{1,}\)?[\-\. \\\/]?){0,})(?:[\-\. \\\/]?(?:#|ext\.?|extension|x)[\-\. \\\/]?(\d+))?$/.test(b)},digits:function(b,c){return/^\d+$/.test(b)},creditcard:function(b,c){if(/[^0-9 \-]+/.test(b))return!1;var d=0,a=!1;b=b.replace(/\D/g,"");for(var f=b.length-1;0<=f;f--){var g=b.charAt(f);g=parseInt(g,10);a&&9<(g*=2)&&(g-=9);d+=g;a=!a}return 0===d%10},minlength:function(b,c){var d=g(c).getAttr("data-minlength",
null);null===d&&(d=g(c).getAttr("minlength",null));null===d&&(d=0);d=parseInt(d);return isNaN(d)?!1:(b+" ").trim().length>=d},maxlength:function(b,c,d){return!1},rangelength:function(b,c,d){return!1},min:function(b,c,d){return!1},max:function(b,c,d){return!1},range:function(b,c,d){return!1},equalTo:function(b,c,d){return!1}},u=[];g.extendMethod({formValidation:function(b){return this.eachElement(function(c){y(c,b)})},formValidationReset:function(){return this.eachElement(function(b){A(b)})},formValidationCheck:function(b){var c=
!1;this.eachElement(function(d){c=x(d,!1,b)});return c},formValidationCheckInSilent:function(){return this.formValidationCheck(!0)},formValidationAddTestType:function(b,c,d){return this.eachElement(function(a){r[b]=c;u.push(b)})}});g.hook({after_setInnerHTML:function(b){g(b).find(".zvalidation").formValidation()},after_insertDOM:function(b){g(b).hasClass("zvalidation")&&g(b).formValidation();g(b).find(".zvalidation").formValidation()}});g.onready(function(){g(".zvalidation").formValidation()});"required"in
g&&g.required("form.validation")})(zjs);