(function(e){var p=e("html").getAttr("lang","en").split("-");p=p[0];var r={en:{required:"Field is required",email:"Not a valid email",url:"Not a valid url",date:"Not a valid date",number:"Not a number",phonenumber:"Not a phone number",digits:"Not a digits",minlength:"Value as least minlength",repassword:"The specified passwords do not match"},es:{required:"Se requiere campo",email:"No es un correo electr\u00f3nico v\u00e1lido",url:"No es una URL v\u00e1lida",date:"No es una fecha v\u00e1lida",number:"No un n\u00famero",
phonenumber:"No es un n\u00famero de tel\u00e9fono",digits:"No un d\u00edgito",minlength:"Valor como m\u00ednimo minlength",repassword:"Las contrase\u00f1as especificadas no coinciden"},de:{required:"Feld ist erforderlich",email:"Keine g\u00fcltige E-Mail",url:"Nicht eine g\u00fcltige URL",date:"Nicht g\u00fcltiges Datum",number:"Nicht eine Nummer",phonenumber:"Nicht eine Telefonnummer",digits:"Nicht eine Ziffern",minlength:"Wert so wenig minderlth",repassword:"Die eingegebenen Passw\u00f6rter stimmen nicht \u00fcberein"},
it:{required:"Campo \u00e8 richiesto",email:"Non \u00e8 un'e-mail valida",url:"Non un URL valido",date:"Non \u00e8 una data valida",number:"non un numero",phonenumber:"Non un numero di telefono",digits:"Non una cifra",minlength:"Valore minima di lunghezza minima",repassword:"Le password specificate non corrispondono"},vi:{required:"C\u00f2n thi\u1ebfu th\u00f4ng tin n\u00e0y",email:"Sai \u0111\u1ecbnh d\u1ea1ng email",url:"Sai \u0111\u1ecbnh d\u1ea1ng url",date:"Sai \u0111\u1ecbnh d\u1ea1ng ng\u00e0y",
number:"Kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ed1",phonenumber:"Kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",digits:"Kh\u00f4ng ph\u1ea3i l\u00e0 s\u1ed1",minlength:"Kh\u00f4ng \u0111\u1ee7 chi\u1ec1u d\u00e0i quy \u0111\u1ecbnh",repassword:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\u00f4ng ch\u00ednh x\u00e1c"}};e.extendCore({moduleFormValidationOption:{errorClass:"error",language:p,tips:{},preventClass:"prevent",radiogroupClass:"radiogroup",checkboxClass:"checkbox",customInputClass:"zvalidation-custom-input",
preventPressEnterToSubmit:!1,autoCheckWhenBlur:!0,autoCheckWhenInput:!1,onlyone:!1}});var q="",v=function(b,c){var d=e(b),a=d.getData("zjsmoduleformvalidationoption");if(a)d.setData("zjsmoduleformvalidationoption",e.extend(a,c));else{a=e.clone(e.moduleFormValidationOption);var g=d.getAttr("data-option","");e.isString(g)&&""!=g.trim()&&(a=e.extend(a,g.jsonDecode()));d.removeAttr("data-option");"undefined"!=typeof c&&(a=e.extend(a,c));!a.language in r&&(a.language="en");a.tips=e.extend(r[a.language],
a.tips);a.preventPressEnterToSubmit=!!a.preventPressEnterToSubmit;a.onlyone=!!a.onlyone;a.onlyone&&(a.autoCheckWhenBlur=!1);d.setData("zjsmoduleformvalidationoption",a);q="input[type=text], input[type=email], input[type=password], input.zimagepicker, textarea, select, ."+a.radiogroupClass+", ."+a.checkboxClass;d.addClass("z-form-validation");var h=function(){var b=e.enablehook();e.enablehook(!1);d.find(q+", ."+a.customInputClass).eachElement(function(b){var c=e(b);if(!c.hasClass("zui-autosuggestion-input")&&
!c.hasClass("zui-datepicker-input")&&!c.getData("zjsmoduleformvalidationinputel",!1)){c.setData("zjsmoduleformvalidationinputel",!0);b=e('<div class="checktip"><div class="text"></div></div>').hide();var f=c.getAttr("name");c.hasClass(a.checkboxClass)&&!c.is("input")&&(f=c.find("> input[type=checkbox]").getAttr("name"));b.addClass("checktip-"+f);(f=c.getData("zmoduleautosuggestionwrapel"))?b.insertAfter(f):b.insertAfter(c);c.setData("zjsmoduleformvalidationtipel",b);if(a.autoCheckWhenBlur)c.on("blur, ui:autosuggestion:blur, ui:datepicker:blur",
function(){m(this,n(this,a,d),a)});if(a.autoCheckWhenInput)c.on("input, ui:autosuggestion:input",function(){m(this,n(this,a,d),a)});if(c.hasClass(a.radiogroupClass))c.on("click","input[type=radio]",function(){m(c,n(c,a,d),a)});if(c.hasClass(a.checkboxClass))if(c.is("input"))c.on("click",function(){m(c,n(c,a,d),a)});else c.on("click","input[type=checkbox]",function(){m(c,n(c,a,d),a)});c.parent().addClass("z-form-field")}});e.enablehook(b)};h();e.hook({after_insertDOM:function(a){h()}});var l=!1;d.on("submit",
function(a){t(b,a)?(this.removeClass("zvalidation-invalid"),l?(l=!1,a.preventDefault()):this.trigger("form:validation:success",{},function(b){b.isDefaultPrevented&&a.preventDefault()})):this.addClass("zvalidation-invalid").trigger("form:validation:failed",{status:d.getData("zjsmoduleformvalidationpassStatus")})});e(window).on("keydown",function(a){13==a.getKeyCode()&&(a=e(a.target()).findUp("form"),0<a.count()&&(a=a.getData("zjsmoduleformvalidationoption",!1))&&a.preventPressEnterToSubmit&&(l=!0))});
(function(){d.find(".autofocus").focus()}).delay(100)}},t=function(b,c){var d=e(b),a=d.getData("zjsmoduleformvalidationoption");if(a){"moduleEditorOption"in e&&d.find("textarea").editorSave();var g=!0,h,l={};d.find("input,textarea,select,."+a.radiogroupClass+",."+a.checkboxClass+",."+a.customInputClass).eachElement(function(b){var c=e(b);if((c.is(q+", ."+a.customInputClass)||c.getData("zmoduleautosuggestionwrapel",!1))&&!c.hasClass("zui-autosuggestion-input")&&!c.hasClass("zui-datepicker-input")&&
(m(b,h=n(b,a,d),a),b=c.getAttr("name",""),""!=b&&(l[b]=h),!h.pass&&(g=!1,a.onlyone)))return!1});d.setData("zjsmoduleformvalidationpassStatus",l);if(!g){try{"undefined"!=typeof c&&c&&c.preventDefault()}catch(k){}var f=d.find("."+a.errorClass).item(0);f.is("input")||f.is("textarea")||f.is("select")?f.focus():"isAutosuggestion"in f&&f.isAutosuggestion()?f.autosuggestionFocus():f.hasClass("radiogroup")&&"moduleTransition"in e&&e(document.body).playTransition("scrollTop",f.getAbsoluteTop()-100,{time:800});
return!1}return!0}},w=function(b){b=e(b);var c=b.getData("zjsmoduleformvalidationoption",!1);c&&b.find("input,textarea,select,."+c.checkboxClass).eachElement(function(b){b=e(b);var a=b.getData("zjsmoduleformvalidationtipel",!1);a&&(a.hide(),b.removeClass(c.errorClass),(a=b.getData("zmoduleuidatepickerwrapel",!1))&&a.removeClass(c.errorClass),(a=b.getData("zjsmoduleimagepickerwrapel",!1))&&a.removeClass(c.errorClass),(b=b.getData("zmoduleautosuggestionwrapel",!1))&&b.removeClass(c.errorClass))})},
m=function(b,c,d){b=e(b);if(c.pass){b.removeClass(d.errorClass);var a=b.getData("zjsmoduleformvalidationtipel");a&&a.hide();(c=b.getData("zmoduleuidatepickerwrapel",!1))&&c.removeClass(d.errorClass);(c=b.getData("zjsmoduleimagepickerwrapel",!1))&&c.removeClass(d.errorClass);(b=b.getData("zmoduleautosuggestionwrapel",!1))&&b.removeClass(d.errorClass)}else{b.addClass(d.errorClass);if(a=b.getData("zjsmoduleformvalidationtipel")){var g=d.tips[c.type];""!=b.getAttr("data-tip-"+c.type,"")&&(g=b.getAttr("data-tip-"+
c.type,""));a.show().find(".text").setInnerHTML(g)}(c=b.getData("zmoduleuidatepickerwrapel",!1))&&c.addClass(d.errorClass);(c=b.getData("zjsmoduleimagepickerwrapel",!1))&&c.addClass(d.errorClass);(b=b.getData("zmoduleautosuggestionwrapel",!1))&&b.addClass(d.errorClass)}},n=function(b,c,d){var a=e(b);if(a.hasClass(c.preventClass))return{pass:!0};a.getAttr("id","").trim().toLowerCase();var g=a.getAttr("name","").trim().toLowerCase(),h=a.getAttr("type","").trim().toLowerCase(),l=a.getAttr("class","").trim().toLowerCase(),
f=a.getValue("").trim();a.hasClass(c.radiogroupClass)&&(f=a.find("input[type=radio]:checked").getValue("").trim());a.hasClass(c.checkboxClass)&&(a.is("input")?a.is(":checked")||(f=""):f=a.find("input[type=checkbox]:checked").getValue("").trim());a.hasClass(c.customInputClass)&&(f=a.getAttr("data-value",""));a.getData("zmoduleuidatepickerwrapel",!1)&&(f=a.getValue());a.getData("zjsmoduleimagepickerwrapel",!1)&&(f=(f=a.getValue())?parseInt(f):0,0>=f&&(f=""));if(""==f&&(0<=l.indexOf("required")||""!=
a.getAttr("data-tip-required","")))return{pass:!1,type:"required"};if(""!=f){var k="";if(0<=g.indexOf("email")||0<=l.indexOf("email")||""!=a.getAttr("data-tip-email","")||"email"==h)k="email";else if(0<=g.indexOf("url")||0<=l.indexOf("url")||""!=a.getAttr("data-tip-url",""))k="url";else if(0<=g.indexOf("phonenumber")||0<=l.indexOf("phonenumber")||""!=a.getAttr("data-tip-phonenumber",""))k="phonenumber";else if(0<=g.indexOf("number")||0<=l.indexOf("number")||""!=a.getAttr("data-tip-number","")||"number"==
h)k="number";else if(0<=g.indexOf("digits")||0<=l.indexOf("digits")||""!=a.getAttr("data-tip-digits",""))k="digits";else if(0<=g.indexOf("date")||""!=a.getAttr("data-tip-date","")||"date"==h)k="date";"number"==k&&a.hasClass("allow-alphabet")&&(k="");if(""!=k&&!u[k](f,b))return{pass:!1,type:k}}if(""!=f){if(0<=g.indexOf("minlength")||0<=l.indexOf("minlength")||""!=a.getAttr("data-tip-minlength",""))k="minlength";if(""!=k&&!u[k](f,b))return{pass:!1,type:k}}if("password"==h&&(0<=g.indexOf("repassword")||
0<=g.indexOf("pass[pass2]")||0<=l.indexOf("repassword")||""!=a.getAttr("data-tip-repassword",""))&&(g=d.find('input[type="password"]'),1<g.count())){var m=-1;g.eachElement(function(b,c){a.isTheSame(b)&&(m=c)});if(1<=m&&a.getValue("")!=g.item(m-1).getValue())return{pass:!1,type:"repassword"}}d.trigger("form:validation:checking",{element:b,option:c},function(a){});return{pass:!0}},u={email:function(b,c){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},
url:function(b,c){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},
date:function(b,c){return!/Invalid|NaN/.test((new Date(b)).toString())},dateISO:function(b,c){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(b)},number:function(b,c){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},phonenumber:function(b,c){return/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\. \\\/]?)?((?:\(?\d{1,}\)?[\-\. \\\/]?){0,})(?:[\-\. \\\/]?(?:#|ext\.?|extension|x)[\-\. \\\/]?(\d+))?$/.test(b)},digits:function(b,c){return/^\d+$/.test(b)},creditcard:function(b,c){if(/[^0-9 \-]+/.test(b))return!1;
var d=0,a=!1;b=b.replace(/\D/g,"");for(var e=b.length-1;0<=e;e--){var h=b.charAt(e);h=parseInt(h,10);a&&9<(h*=2)&&(h-=9);d+=h;a=!a}return 0===d%10},minlength:function(b,c){var d=e(c).getAttr("data-minlength",0).toInt();return(b+" ").trim().length>=d},maxlength:function(b,c,d){return!1},rangelength:function(b,c,d){return!1},min:function(b,c,d){return!1},max:function(b,c,d){return!1},range:function(b,c,d){return!1},equalTo:function(b,c,d){return!1}};e.extendMethod({formValidation:function(b){return this.eachElement(function(c){v(c,
b)})},formValidationReset:function(){return this.eachElement(function(b){w(b)})},formValidationCheck:function(){var b=!1;this.eachElement(function(c){b=t(c,!1)});return b}});e.hook({after_setInnerHTML:function(b){e(b).find(".zvalidation").formValidation()},after_insertDOM:function(b){e(b).hasClass("zvalidation")&&e(b).formValidation();e(b).find(".zvalidation").formValidation()}});e.onready(function(){e(".zvalidation").formValidation()});"required"in e&&e.required("form.validation")})(zjs);