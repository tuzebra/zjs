zjs.require("ui",function(){var h=!1;zjs(window).on("mousewheel",function(b){h&&h.stop()});zjs.extendCore({moduleUiAccordionOption:{transition:"vertical",titleclass:"h3",activesession:0,allowclose:!1,useurlhash:!1,autoscroll:!1,separate:!1,scrollmargintop:0}});var t=function(b,d){var c=zjs(b),a=c.getData("zmoduleuiaccordionoption");if(a)c.setData("zmoduleuiaccordionoption",zjs.extend(a,d));else{a=zjs.clone(zjs.moduleUiAccordionOption);var g=c.getAttr("data-option","");zjs.isString(g)&&""!=g.trim()&&
(a=zjs.extend(a,g.jsonDecode()));c.removeAttr("data-option");"undefined"!=typeof d&&(a=zjs.extend(a,d));"none"==a.transition&&(a.transition=0);if("fade"==a.transition||"fadein"==a.transition)a.transition=1;"horizontal"==a.transition&&(a.transition=2);"vertical"==a.transition&&(a.transition=3);3<a.transition.toInt()&&(a.transition=0);zjs.isNumeric(a.activesession)||(a.activesession=0);a.useurlhash=!!a.useurlhash;a.autoscroll=!!a.autoscroll;a.scrollmargintop=parseInt(a.scrollmargintop);zjs.isNumeric(a.scrollmargintop)||
(a.scrollmargintop=0);c.setData("zmoduleuiaccordionoption",a);c.addClass("zui-accordion");var e=!1,h=0;c.child().each(function(b){b=zjs(b);b.is(a.titleclass)?(b.addClass("zui-accordion-title").setData("zmoduleuiaccordiontitleindex",h++).click(function(){f(c,this.getData("zmoduleuiaccordiontitleindex").toInt())}),b.on("ui:toc:out:trigger",function(a){this.hasClass("active")||(f(c,this.getData("zmoduleuiaccordiontitleindex").toInt(),!1,!0),a.preventDefault())}),zjs("<div></div>").addClass("zui-accordion-wrap").insertAfter(b).append(b),
b=zjs("<div></div>").addClass("zui-accordion-session").insertAfter(b),e=zjs("<div></div>").addClass("zui-accordion-content").appendTo(b)):e&&e.append(b)});a.separate&&c.find(">.zui-accordion-wrap>.zui-accordion-session").hide();g=!1;a.useurlhash&&(g=l(b),zjs(window).on("hashchange",function(a){zjs(b).getData("zmoduleuiaccordionpreventhashevent")?zjs(b).setData("zmoduleuiaccordionpreventhashevent",!1):l(b)}));g||f(b,a.activesession);c.trigger("ui.accordion.load")}},l=function(b){if(""!=document.location.hash){var d=
zjs(b),c=d.getData("zmoduleuiaccordionoption");if(c&&c.useurlhash){c=!1;var a=d.find('[data-name="'+document.location.hash.substr(1)+'"]');0>=a.count()&&(a=d.find("#"+document.location.hash.substr(1)));0<a.count()&&(d=parseInt(a.getData("zmoduleuiaccordiontitleindex",-1)),0<=d&&(f(b,d,!0),c=!0));return c}}},f=function(b,d,c,a){a=a||!1;var g=zjs(b),e=g.getData("zmoduleuiaccordionoption");if(e){var f=g.find(">.zui-accordion-wrap").item(d);if(f.hasClass("active")){if(e.allowclose){var l=f.find(">.zui-accordion-title"),
k=f.find(">.zui-accordion-session");k.hasClass("active")&&(k.hideScale({time:500}),k.removeClass("active"));l.removeClass("active");f.removeClass("active")}}else g.find(">.zui-accordion-wrap").each(function(f,l){var p=zjs(f),m=p.find(">.zui-accordion-session"),k=p.find(">.zui-accordion-title");if(l==d){p.addClass("active");k.addClass("active");m.showScale({time:500}).addClass("active");var q=!1,n="";(e.useurlhash||e.autoscroll||a)&&g.find(e.titleclass).each(function(a){a=zjs(a);if(a.getData("zmoduleuiaccordiontitleindex")==
d)return n=a.getAttr("data-name",""),""==n&&(n=a.getAttr("id","")),q=a,!1});e.useurlhash&&""!=n&&(c||zjs(b).setData("zmoduleuiaccordionpreventhashevent",!0),document.location.hash=n);if((a||e.autoscroll)&&q){h&&h.stop();var r=q.getAbsoluteTop()-e.scrollmargintop;h=zjs.timer({from:0,to:1,time:1E3,onProcess:function(a,b,c){a=q.getAbsoluteTop()-e.scrollmargintop;window.scrollTo(zjs(window).scrollLeft(),parseInt((r+a)/2));r=a}});h.run()}}else e.separate||(m.hasClass("active")?m.hideScale({time:500}):
m.hide(),p.removeClass("active"),k.removeClass("active"),m.removeClass("active"))}),function(){zjs(".zsidenav").trigger("ui.sidenav.refresh")}.delay(1E3)}};zjs.extendMethod({makeAccordion:function(b){return this.each(function(d){t(d,b)})},accordionSelectSession:function(b){return this.each(function(d){f(d,b)})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zaccordion").makeAccordion()},after_insertDOM:function(b){zjs(b).hasClass("zaccordion")&&zjs(b).makeAccordion();zjs(b).find(".zaccordion").makeAccordion()}});
zjs.onready(function(){zjs(".zaccordion").makeAccordion()});"required"in zjs&&zjs.required("ui.accordion")});