zjs.require("ui",function(){var t="zmoduleuiaccordionoption",a="zmoduleuiaccordiontitleindex",i="zmoduleuiaccordionpreventhashevent",s=!1;zjs(window).on("mousewheel{passive}",function(t){s&&s.stop()}),zjs.extendCore({moduleUiAccordionOption:{transition:"vertical",titleclass:"h3",activesession:0,allowclose:!1,useurlhash:!1,autoscroll:!1,separate:!1,scrollmargintop:0}});var e="zui-accordion",o="zui-accordion-wrap",n="zui-accordion-title",r="zui-accordion-session",c="zui-accordion-content",d=function(s,d){var v=zjs(s),h=v.getData(t);if(h)v.setData(t,zjs.extend(h,d));else{h=zjs.clone(zjs.moduleUiAccordionOption);var f=v.getAttr("data-option","");zjs.isString(f)&&""!=f.trim()&&(h=zjs.extend(h,f.jsonDecode())),v.removeAttr("data-option"),void 0!==d&&(h=zjs.extend(h,d)),"none"==h.transition&&(h.transition=0),"fade"!=h.transition&&"fadein"!=h.transition||(h.transition=1),"horizontal"==h.transition&&(h.transition=2),"vertical"==h.transition&&(h.transition=3),h.transition.toInt()>3&&(h.transition=0),zjs.isNumeric(h.activesession)||(h.activesession=0),h.useurlhash=!!h.useurlhash,h.autoscroll=!!h.autoscroll,h.scrollmargintop=parseInt(h.scrollmargintop),zjs.isNumeric(h.scrollmargintop)||(h.scrollmargintop=0),v.setData(t,h),v.addClass(e);var z=!1,m=0;v.child().each(function(t){var i=zjs(t);if(i.is(h.titleclass)){i.addClass(n).setData(a,m++).click(function(){u(v,this.getData(a).toInt())}),i.on("ui:toc:out:trigger",function(t){this.hasClass("active")||(u(v,this.getData(a).toInt(),!1,!0),t.preventDefault())}),zjs("<div></div>").addClass(o).insertAfter(i).append(i);var s=zjs("<div></div>").addClass(r).insertAfter(i);z=zjs("<div></div>").addClass(c).appendTo(s)}else z&&z.append(i)}),h.separate&&v.find(">."+o+">."+r).hide();var j=!1;h.useurlhash&&(j=l(s),zjs(window).on("hashchange",function(t){zjs(s).getData(i)?zjs(s).setData(i,!1):l(s)})),j||u(s,h.activesession),v.trigger("ui.accordion.load")}},l=function(i){if(""!=document.location.hash){var s=zjs(i),e=s.getData(t);if(e&&e.useurlhash){var o=!1,n=s.find('[data-name="'+document.location.hash.substr(1)+'"]');if(n.count()<=0&&(n=s.find("#"+document.location.hash.substr(1))),n.count()>0){var r=parseInt(n.getData(a,-1));r>=0&&(u(i,r,!0),o=!0)}return o}}},u=function(e,c,d,l){l=l||!1;var u=zjs(e),v=u.getData(t);if(v){var h=u.find(">."+o).item(c);if(h.hasClass("active")){if(v.allowclose){var f=h.find(">."+n),z=h.find(">."+r);z.hasClass("active")&&(z.hideScale({time:500}),z.removeClass("active")),f.removeClass("active"),h.removeClass("active")}}else u.find(">."+o).each(function(t,o){var h=zjs(t),f=h.find(">."+r),z=h.find(">."+n);if(o==c){h.addClass("active"),z.addClass("active"),f.showScale({time:500}).addClass("active");var m=!1,j="";if((v.useurlhash||v.autoscroll||l)&&u.find(v.titleclass).each(function(t){var i=zjs(t);if(i.getData(a)==c)return j=i.getAttr("data-name",""),""==j&&(j=i.getAttr("id","")),m=i,!1}),v.useurlhash&&""!=j&&(d||zjs(e).setData(i,!0),document.location.hash=j),(l||v.autoscroll)&&m){s&&s.stop();var p=m.getAbsoluteTop()-v.scrollmargintop;s=zjs.timer({from:0,to:1,time:1e3,onProcess:function(t,a,i){var s=m.getAbsoluteTop()-v.scrollmargintop;window.scrollTo(zjs(window).scrollLeft(),parseInt((p+s)/2)),p=s}}),s.run()}}else v.separate||(f.hasClass("active")?f.hideScale({time:500}):f.hide(),h.removeClass("active"),z.removeClass("active"),f.removeClass("active"))}),function(){zjs(".zsidenav").trigger("ui.sidenav.refresh")}.delay(1e3)}};zjs.extendMethod({makeAccordion:function(t){return this.each(function(a){d(a,t)})},accordionSelectSession:function(t){return this.each(function(a){u(a,t)})}}),zjs.hook({after_setInnerHTML:function(t){zjs(t).find(".zaccordion").makeAccordion()},after_insertDOM:function(t){zjs(t).hasClass("zaccordion")&&zjs(t).makeAccordion(),zjs(t).find(".zaccordion").makeAccordion()}}),zjs.onready(function(){zjs(".zaccordion").makeAccordion()}),"required"in zjs&&zjs.required("ui.accordion")});