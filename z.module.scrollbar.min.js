(function(t){var e="zmodulescrollbarid",o="zmodulescrollbaroption",n="zmodulescrollbarcontentel",r="zmodulescrollbarthisiscontentel",i="zmodulescrollbarcontainerel",l="zmodulescrollbarfunctions",a="zmodulescrollbarsnappositions",s=1,u="zmodulescrollbarnonuipos",c="zmodulescrollbarusedefault";t.extendCore({moduleScrollbar:!0,moduleScrollbarOption:{width:0,height:0,innerWidth:0,innerHeight:0,horizontal:!1,scrollline:300,scrolllinetouchpad:40,scrolltime:800,usecss:!0,smooth:!0,bounce:!0,usekey:!0,usemouse:!0,usetouch:!0,shadow:!0,autohide:!0,alwayshide:!1,transition:2,snapElements:"",snapPositions:[],skipSnapWhenUseTouchpad:!1,looseSnap:!1,snapScrollUp:!0,snapScrollDown:!0,useinteger:!1,autorefresh:!1,autorefreshtime:1e3,customCssClass:"",customUsedefaultCssClass:"",customStyleContainer:"",autoUseDefaultWhenWidthLessThan:0,autoUseDefaultWithMobile:!1,useDefault:!1,onResize:function(t,e,o){},onScroll:function(t,e,o){},nonui:!1,nonuiMaxScroll:400,debug:!1}});var h='<div class="zui-scrollbar-wrap"><div class="zui-scrollbar"></div></div>',f='<div class="zui-scrollbar-shadow"></div>',d="zui-scrollbar-usedefault",p=function(p,m){function w(){if(N)return _.height(x=M.height()).width(U=M.width()),void(D.horizontal?b.height(x):b.width(U));D.horizontal?_.height(x=b.height()):_.width(U=b.width())}function v(){D.nonui||(N||(U=_.width(),x=_.height()),k=b.width(),P=b.height(),L=U*U/k,W=x*x/P,D.alwayshide||(D.horizontal?(T.width(L),z.width(U)):(T.height(W),z.height(x)),D.horizontal?k<=L?z.hide():z.show():P<=W?z.hide():z.show()),g(p))}var b=t(p);if(parseInt(b.getData(e,0))>0)b.refreshScroll();else{b.setData(e,s++);var D=t.clone(t.moduleScrollbarOption),S=b.getData("inlineoption","");""==S&&(S=b.getAttr("data-option","")),t.isString(S)&&""!=S.trim()&&(D=t.extend(D,S.jsonDecode()),b.setData("inlineoption",S)),b.removeAttr("data-option"),void 0!==m&&(D=t.extend(D,m)),D.horizontal&&(D.shadow=!1),D.customUsedefaultCssClass=D.customUsedefaultCssClass||"",D.customUsedefaultCssClass=D.customUsedefaultCssClass.trim(),""!=D.customUsedefaultCssClass?D.customUsedefaultCssClass=d+" "+D.customUsedefaultCssClass:D.customUsedefaultCssClass=d,D.autoUseDefaultWhenWidthLessThan=parseInt(D.autoUseDefaultWhenWidthLessThan),D.autoUseDefaultWhenWidthLessThan<0&&(D.autoUseDefaultWhenWidthLessThan=0),D.useDefault=!!D.useDefault,b.setData(c,!1);var z=!D.alwayshide&&t(h),T=!D.alwayshide&&z.find(".zui-scrollbar"),C=b.width(),E=b.height();try{"border-box"==b.getStyle("box-sizing")&&(C-=b.getStyle("border-left",!0)+b.getStyle("border-right",!0),E-=b.getStyle("border-top",!0)+b.getStyle("border-bottom",!0))}catch(t){}var U=D.width||C,x=D.height||E,k=0,P=0,L=0,W=0,K=!1,M=!1,N=p==window.document.body,I=!1;if(!D.nonui&&N){b.setStyle("overflow","hidden"),b=t("<div></div>");var R=t(p),A=t.enablehook();t.enablehook(!1),R.child().eachElement(function(e){"SCRIPT"!=e.tagName&&"LINK"!=e.tagName&&(t(e).hasClass("zscrollnotinclude")||b.append(e))}),t.enablehook(A),M=t(window),U=M.width(),x=M.height(),window.scrollTo(0,0),R.setData(n,b),t(window).on("hashchange",function(t){t.preventDefault(),t.stopPropagation(),window.scrollTo(0,0)})}b.addClass("zui-scrollbar-content"),b.setData(r,!0);var H=D.usecss&&"webkitTransform"in document.createElement("div").style,Y=b.item(0,!0),B=!!T&&T.item(0,!0),O=0,j=0;D.usecss=H,g(p),!D.nonui&&H&&(Y.style.webkitTransform="translate3d(0, 0, 0)",B&&(B.style.webkitTransform="translate3d(0, 0, 0)")),D.nonui&&b.setData(u,0),b.setData(o,D),N?(t(window.document.body).setData(o,D),D.useDefault&&y(window.document.body,!0)):D.useDefault&&y(p,!0);var F=function(){return D.nonui?parseFloat(b.getData(u,0)):b.getData(c,!1)?N?D.horizontal?-t(window).scrollLeft():-t(window).scrollTop():D.horizontal?-b.scrollLeft():-b.scrollTop():H?O:D.horizontal?b.left():b.top()},_=D.nonui?b:t("<div></div>");D.nonui||(N?_.prependTo(p):_.insertBefore(p),_.addClass(D.customCssClass).setStyle({position:"relative",overflow:"hidden",width:U,height:x}),_.addClass(N?"body-scroll":"not-body-scroll").addClass(D.horizontal?"zui-scrollbar-horizontal":"zui-scrollbar-vertical"),_.append(b),b.setStyle({position:"absolute",left:0,top:0,overflow:"visible"}),D.horizontal?b.setStyle({width:"auto",height:x}):b.setStyle({height:"auto",width:U}),D.innerWidth&&!isNaN(D.innerWidth)&&b.width(D.innerWidth),D.innerHeight&&!isNaN(D.innerHeight)&&b.height(D.innerHeight),D.alwayshide||(_.append(z),z.setStyle({position:"absolute",opacity:D.autohide?0:1,display:D.alwayshide?"none":"block"}),D.horizontal?z.width(U):z.height(x),T.setStyle("position","absolute"))),v(),D.onResize(-F(),U,x),N?R.trigger("scrollbar:windowResize",{scrollTop:-F(),width:U,height:x}):b.trigger("scrollbar:windowResize",{scrollTop:-F(),width:U,height:x});var q=!!D.shadow&&t(f).appendTo(_).hide(),X=t.timer({time:D.scrolltime,transition:D.transition,onStart:function(){I=!0,v()},onProcess:function(t){Q(t)},onFinish:function(t,e){Q(e),V.run(),I=!1,rt=!1},onStop:function(){I=!1,rt=!1}}),V=t.timer({from:50,to:0,time:2e3,onProcess:function(t){D.nonui||!D.autohide||D.alwayshide||z.setStyle("opacity",t)},onFinish:function(t,e){D.nonui||!D.autohide||D.alwayshide||z.setStyle("opacity",e)}}),G=function(){if(D.nonui)return!0;v();var t=!0;return t=D.horizontal?k>U:P>x,t||Q(0),t},J=0,Q=function(t){if(D.useinteger){if(t=parseInt(t),t==J)return;J=t}N&&b.getData(c)?$(t):Z(t),!D.nonui&&D.shadow&&(t<-5?q.show():q.hide()),D.nonui||D.onScroll(-t,U,x),D.nonui?b.trigger("scrollbar:scroll",{scrollTop:-t}):N?R.trigger("scrollbar:scroll",{scrollTop:-t,scrollBottom:D.horizontal?k-U+t:P-x+t,width:U,height:x}):b.trigger("scrollbar:scroll",{scrollTop:-t,scrollBottom:D.horizontal?k-U+t:P-x+t,width:U,height:x})};if(D.nonui)var Z=function(t){O=t,b.setData(u,t)};else if(D.horizontal&&H)Z=function(t){O=t,Y.style.webkitTransform="translate3d("+t+"px, 0, 0)",D.alwayshide||(j=-t*U/k,B.style.webkitTransform="translate3d("+j+"px, 0, 0)")};else if(!D.horizontal&&H)Z=function(t){O=t,Y.style.webkitTransform="translate3d(0, "+t+"px, 0)",D.alwayshide||(j=-t*x/P,B.style.webkitTransform="translate3d(0, "+j+"px, 0)")};else if(D.horizontal)Z=function(t){Y.style.left=t+"px",D.alwayshide||(B.style.left=-t*U/k+"px")};else Z=function(t){Y.style.top=t+"px",D.alwayshide||(B.style.top=-t*x/P+"px")};var $=function(t){F();D.horizontal?document.body.scrollLeft=-t:document.body.scrollTop=-t},tt=function(t,e,o){if(v(),X.isRunning()&&X.stop(),!D.smooth||void 0!==e&&1==e)return void 0===o&&(D.nonui&&t<-D.nonuiMaxScroll&&(t=-D.nonuiMaxScroll),!D.nonui&&D.horizontal&&t<U-k&&(t=U-k),!D.nonui&&!D.horizontal&&t<x-P&&(t=x-P),t>0&&(t=0)),F()!=t&&(D.nonui||(V.stop(),D.alwayshide||z.setStyle("opacity",1),D.smooth||V.run()),Q(t),!0);var n=F();return X.set({from:n,to:t,transition:D.transition}),D.nonui&&t<-D.nonuiMaxScroll&&(t=-D.nonuiMaxScroll,X.set({from:n,to:t,transition:D.bounce?3:D.transition})),!D.nonui&&D.horizontal&&t<U-k&&(t=U-k,X.set({from:n,to:t,transition:D.bounce?3:D.transition})),!D.nonui&&!D.horizontal&&t<x-P&&(t=x-P,X.set({from:n,to:t,transition:D.bounce?3:D.transition})),t>0&&(t=0,X.set({from:n,to:t,transition:D.bounce?3:D.transition})),F()==t?(ot=!1,!1):(D.nonui||(V.stop(),D.alwayshide||z.setStyle("opacity",1)),K||X.run(),!0)},et=function(t,e){return!D.nonui&&(D.horizontal?tt(-t/U*k,e):void tt(-t/x*P,e))},ot=!1,nt=function(t,e,o,n){ot=!1;var r=t+e*(o?D.scrolllinetouchpad:D.scrollline);if(D.skipSnapWhenUseTouchpad&&o)return r;var i=t,l=!1;if(n){var s=N?R.getData(a):b.getData(a);if(s){if(e<0)for(var u=0;u<s.length;u++)if(-s[u]<t-10){i=-s[u],l=!0;break}if(e>0)for(u=s.length-1;u>=0;u--)if(-s[u]>t+10){i=-s[u],l=!0;break}if(l)return D.looseSnap&&Math.abs(t-i)>Math.abs(t-r+(o?D.scrolllinetouchpad:0))?r:(ot=!0,i)}}return r},rt=!1,it=t.isMobileDevice();D.usemouse&&_.on("mousewheel",function(t,e){if((!b.getData(c)||!it)&&G()){if(rt)return t.preventDefault(),void t.stopPropagation();var o=!1,n=F();n=nt(F(),t.getDeltaY(),t.isTouchpad(),t.getDeltaY()>0&&D.snapScrollUp||t.getDeltaY()<0&&D.snapScrollDown);var r=t.isTouchpad()&&!ot;o=tt(n,r),ot&&t.isTouchpad()&&(rt=!0),o&&(t.preventDefault(),t.stopPropagation())}},{passive:!1});var lt=!1;if(_.hover(function(){lt=!0},function(){lt=!1}),D.usekey){var at=!0;t("body").on("keydown",function(t){if(!b.getData(c)&&G()&&lt&&at){at=!1;var e=!1,o=0;if(e||40!=t.getKeyCode()&&38!=t.getKeyCode()&&37!=t.getKeyCode()&&39!=t.getKeyCode()||(o=nt(F(),40==t.getKeyCode()||39==t.getKeyCode()?-1:1,!1,40==t.getKeyCode()&&D.snapScrollDown||39==t.getKeyCode()&&D.snapScrollUp),e=tt(o)),e||!D.horizontal||37!=t.getKeyCode()&&39!=t.getKeyCode()||(o=nt(F(),39==t.getKeyCode()?-1:1,!1,!0),e=tt(o)),!e&&36==t.getKeyCode()){if(D.horizontal)return tt(k);e=tt(P)}if(!e&&35==t.getKeyCode()){if(D.horizontal)return tt(-k);e=tt(-P)}e||33!=t.getKeyCode()||(e=D.horizontal?tt(F()+U):tt(F()+x)),e||34!=t.getKeyCode()||(e=D.horizontal?tt(F()-U):tt(F()-x)),e&&(t.preventDefault(),t.stopPropagation())}}).on("keyup",function(t){at=!0})}D.alwayshide||z.on("mousedown",function(t){G()&&(D.horizontal?et(t.x()-L/2):et(t.y()-W/2),t.preventDefault(),t.stopPropagation())},{passive:!1}).hover(function(t){G()&&(V.stop(),z.setStyle("opacity",1),t.preventDefault())},function(t){G()&&(V.run(),t.preventDefault())});var st=0;D.alwayshide||T.drag({onStart:function(t){t.preventDefault(),t.stopPropagation(),st=j},onDrag:function(t,e,o,n){G()&&(V.stop(),z.setStyle("opacity",1),D.horizontal?et(st+n.left+o.x,!0):et(st+n.top+o.y,!0),t.preventDefault(),t.stopPropagation())},onDrop:function(t){t.preventDefault(),t.stopPropagation()}});var ut={x:-1,y:-1,h:-1,t:0},ct={x:-1,y:-1,h:-1,t:0};D.usetouch&&t.isTouchDevice()&&(_.on("touchstart",function(t,e){b.getData(c)||(V.stop(),ft(),ut={x:t.touchX(),y:t.touchY(),h:F(),t:t.timeStamp()})}),_.on("touchmove",function(t,e){if(!b.getData(c)&&!D.nonui){t.preventDefault(),ct={x:t.touchX(),y:t.touchY(),t:t.timeStamp()};var o=t.touchY()-ut.y+ut.h,n=4;(D.horizontal&&o<U-k||!D.horizontal&&o<x-P||o>0)&&(o=(t.touchY()-ut.y)/n+ut.h),tt(o,!0,!0)}}),_.on("touchend",function(t,e){b.getData(c)||(V.run(),ht(),ut={x:-1,y:-1},ct={x:-1,y:-1})}));var ht=function(t){if(!D.nonui){var e=(ct.y-ut.y)/(ct.t-ut.t);isNaN(e)&&(e=0);var o=e<0?5e-4:-5e-4,n=-e*e/(2*o),r=-e/o,i=O+n;!D.nonui&&D.horizontal&&i<U-k&&(e<0&&i>U-k-500&&(r=180),i=U-k),!D.nonui&&!D.horizontal&&i<x-P&&(e<0&&i>x-P-500&&(r=180),i=x-P),i>0&&(e>0&&i<500&&(r=180),i=0),O=i,Y.style.webkitTransition="-webkit-transform "+r+"ms cubic-bezier(0.33, 0.66, 0.66, 1)",Y.style.webkitTransform="translate3d(0, "+O+"px, 0)",D.alwayshide||(j=-i*x/P,B.style.webkitTransition="-webkit-transform "+r+"ms cubic-bezier(0.33, 0.66, 0.66, 1)",B.style.webkitTransform="translate3d(0, "+j+"px, 0)")}},ft=function(){if(!D.nonui){var t=document.defaultView.getComputedStyle(Y,null),e=new WebKitCSSMatrix(t.webkitTransform);Y.style.webkitTransition="",B&&(B.style.webkitTransition=""),Z(e.m42)}},dt={pauseScrollEvent:function(){K=!0},continueScrollEvent:function(){K=!1},refreshScroll:function(){if(!D.nonui)return w(),v(),tt(F(),!0)},scrollLineUp:function(){return tt(F()+D.scrollline)},scrollLineDown:function(){return tt(F()-D.scrollline)},scrollPageUp:function(){return D.horizontal?tt(F()+U):tt(F()+x)},scrollPageDown:function(){return D.horizontal?tt(F()-U):tt(F()-x)},scrollNextSnap:function(){return tt(nt(F(),-1,!1,!0))},scrollPrevSnap:function(){return tt(nt(F(),1,!1,!0))},scrollToTop:function(){return D.nonui?tt(0):D.horizontal?tt(k):tt(P)},scrollToEnd:function(){return D.nonui?tt(-D.nonuiMaxScroll):D.horizontal?tt(-k):tt(-P)},scrollTo:function(t,e){if(t=t||0,"number"==typeof e){var o=-F();return o<=t&&o>=t-e||o>=t&&o<=t+e?tt(-t):(tt(-t+e,!0),tt(-t))}return tt(-(t||0),e)},scrollToElement:function(e,o,n){if(t.isString(e))var r=b.find(e);else r=t(e);return tt(-r.getStyle(D.horizontal?"left":"top",!0)-(o||0),n)},scrollPosition:function(){return-F()}};if(N?(R.setData(i,_),R.setData(l,dt)):(_.setData(n,b),b.setData(i,_),b.setData(l,dt)),!D.nonui&&D.autorefresh&&window.setInterval(function(){I||tt(F(),!0)},D.autorefreshtime),N){var pt=D.autoUseDefaultWhenWidthLessThan,gt=M.width()<=pt,mt=function(){pt>0&&(M.width()<=pt&&!gt&&(gt=!0,R.scrollbarUseDefault(!0)),M.width()>pt&&gt&&(gt=!1,R.scrollbarUseDefault(!1)))};M.on("resize",function(){R.refreshScroll(),mt(),D.onResize(-F(),U,x),R.trigger("scrollbar:windowResize",{scrollTop:-F(),width:U,height:x})}),gt=!gt,mt()}D.autoUseDefaultWithMobile&&it&&(N?R.scrollbarUseDefault(!0):b.scrollbarUseDefault(!0)),N?R.trigger("scrollbar:ready"):b.trigger("scrollbar:ready"),N&&function(){""!=document.location.hash&&R.scrollToElement(document.location.hash)}.delay(500)}},g=function(e){var n=t(e),r=e==window.document.body,i=n.getData(o,!1);if(!i)return!1;var l=!1;if(i.snapPositions&&t.isArray(i.snapPositions)&&(l=t.clone(i.snapPositions)),i.snapElements){var s=n.find(i.snapElements);s.count()>0&&(t.isArray(l)||(l=[]),s.eachElement(function(e){e=t(e),l.push((r?i.horizontal?e.getAbsoluteLeft():e.getAbsoluteTop():i.horizontal?e.left():e.top())+parseInt(e.getAttr("data-snap-modify-px",0)))}))}t.isArray(l)&&(l=l.sort(function(t,e){return parseInt(t)-parseInt(e)})),n.setData(a,l)},m=function(e,n,r){r=r||!1;var l=t(e),a=l.getData(o,!1),s=l.getData(i,!1);if(!a)return!1;t(n).on("resize",function(){a.horizontal||(s.height(this.height()),r&&s.width(this.width()))})},y=function(e,r){r=r||!1;var l=t(e),a=l.getData(i),s=l.getData(o,!1);if(!s)return!1;if(e==window.document.body){var u=t(e);l=u.getData(n),r?u.addClass(s.customUsedefaultCssClass):u.removeClass(s.customUsedefaultCssClass),l.setData(c,r)}else r?a.addClass(s.customUsedefaultCssClass):a.removeClass(s.customUsedefaultCssClass),l.setData(c,r)};t.extendMethod({makeScrollbar:function(t){return this.eachElement(function(e){p(e,t)})},pauseScrollEvent:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.pauseScrollEvent&&o.pauseScrollEvent()})},continueScrollEvent:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.continueScrollEvent&&o.continueScrollEvent()})},refreshScroll:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.refreshScroll&&o.refreshScroll(),g(e)})},scrollbarRefreshSnapPositions:function(){return this.eachElement(function(t){g(t)})},scrollLineUp:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollLineUp&&o.scrollLineUp()})},scrollLineLeft:function(){return this.scrollLineUp()},scrollLineDown:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollLineDown&&o.scrollLineDown()})},scrollLineRight:function(){return this.scrollLineDown()},scrollPageUp:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollPageUp&&o.scrollPageUp()})},scrollPageDown:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollPageDown&&o.scrollPageDown()})},scrollNextSnap:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollNextSnap&&o.scrollNextSnap()})},scrollPrevSnap:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollPrevSnap&&o.scrollPrevSnap()})},scrollToTop:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollToTop&&o.scrollToTop()})},scrollToEnd:function(){return this.eachElement(function(e){var o=t(e).getData(l);"function"==typeof o.scrollToEnd&&o.scrollToEnd()})},scrollToBottom:function(){return this.scrollToEnd()},scrollTo:function(e,o){return this.eachElement(function(n){var r=t(n).getData(l);"function"==typeof r.scrollTo&&r.scrollTo(e,o)})},scrollToElement:function(e,o,n){return this.eachElement(function(r){var i=t(r).getData(l);"function"==typeof i.scrollToElement&&i.scrollToElement(e,o,n)})},scrollPosition:function(){var t=this.item(0).getData(l);return"function"==typeof t.scrollPosition?t.scrollPosition():0},scrollContainer:function(){return t(this.item(0).getData(i))},scrollHeight:function(t){var e=this.scrollContainer().height(t);return"number"==typeof e?e:this},scrollContainerHeight:function(t){var e=this.scrollContainer().height(t);return"number"==typeof e?e:this},iszScrollbar:function(){return"object"==typeof this.item(0).getData(o)},scrollbarUseDefault:function(t){return this.scrollToTop(),this.eachElement(function(e){y(e,t)})},scrollbarSetWrapperSizeElement:function(t){return this.eachElement(function(e){m(e,t)})}}),t.hook({after_setInnerHTML:function(e){t(e).find(".zscroll").makeScrollbar(),t(e).refreshScroll().parent().refreshScroll().parent().refreshScroll()},after_insertDOM:function(e){t(e).hasClass("zscroll")&&t(e).makeScrollbar(),t(e).find(".zscroll").makeScrollbar(),t(e).parent().refreshScroll().parent().refreshScroll().parent().refreshScroll()},before_removeDOM:function(o){parseInt(t(o).getData(e,0))<=0||t(o).scrollContainer().remove()}}),t.onready(function(){t(".zscroll").makeScrollbar()}),"required"in t&&t.required("scrollbar")})(zjs);