(function(e){var ha=1;e.extendCore({moduleScrollbar:!0,moduleScrollbarOption:{width:0,height:0,innerWidth:0,innerHeight:0,horizontal:!1,scrollline:300,scrolllinetouchpad:40,scrolltime:800,usecss:!0,smooth:!0,bounce:!0,usekey:!0,usemouse:!0,usetouch:!0,shadow:!0,autohide:!0,alwayshide:!1,transition:2,snapElements:"",snapPositions:[],skipSnapWhenUseTouchpad:!1,looseSnap:!1,snapScrollUp:!0,snapScrollDown:!0,useinteger:!1,autorefresh:!1,autorefreshtime:1E3,customCssClass:"",customUsedefaultCssClass:"",
customStyleContainer:"",autoUseDefaultWhenWidthLessThan:0,autoUseDefaultWithMobile:!1,useDefault:!1,onResize:function(b,e,m){},onScroll:function(b,e,m){},nonui:!1,nonuiMaxScroll:400,debug:!1}});var ia=function(b,h){function m(){a.nonui||(t||(f=p.width(),k=p.height()),n=d.width(),q=d.height(),K=f*f/n,L=k*k/q,a.alwayshide||(a.horizontal?(D.width(K),r.width(f)):(D.height(L),r.height(k)),a.horizontal?n<=K?r.hide():r.show():q<=L?r.hide():r.show()),M(b))}var d=e(b);if(0<parseInt(d.getData("zmodulescrollbarid",
0)))d.refreshScroll();else{d.setData("zmodulescrollbarid",ha++);var a=e.clone(e.moduleScrollbarOption),u=d.getData("inlineoption","");""==u&&(u=d.getAttr("data-option",""));e.isString(u)&&""!=u.trim()&&(a=e.extend(a,u.jsonDecode()),d.setData("inlineoption",u));d.removeAttr("data-option");"undefined"!=typeof h&&(a=e.extend(a,h));a.horizontal&&(a.shadow=!1);a.customUsedefaultCssClass=a.customUsedefaultCssClass||"";a.customUsedefaultCssClass=a.customUsedefaultCssClass.trim();a.customUsedefaultCssClass=
""!=a.customUsedefaultCssClass?"zui-scrollbar-usedefault "+a.customUsedefaultCssClass:"zui-scrollbar-usedefault";a.autoUseDefaultWhenWidthLessThan=parseInt(a.autoUseDefaultWhenWidthLessThan);0>a.autoUseDefaultWhenWidthLessThan&&(a.autoUseDefaultWhenWidthLessThan=0);a.useDefault=!!a.useDefault;d.setData("zmodulescrollbarusedefault",!1);var r=a.alwayshide?!1:e('<div class="zui-scrollbar-wrap"><div class="zui-scrollbar"></div></div>'),D=a.alwayshide?!1:r.find(".zui-scrollbar"),u=d.width(),ba=d.height();
try{"border-box"==d.style("box-sizing")&&(u-=d.style("border-left",!0)+d.style("border-right",!0),ba-=d.style("border-top",!0)+d.style("border-bottom",!0))}catch(c){}var f=a.width||u,k=a.height||ba,n=0,q=0,K=0,L=0,T=!1,x=!1,t=b==window.document.body,N=!1;if(!a.nonui&&t){d.style("overflow","hidden");var d=e("<div></div>"),v=e(b),u=e.enablehook();e.enablehook(!1);v.child().each(function(a){"SCRIPT"!=a.tagName&&"LINK"!=a.tagName&&(e(a).hasClass("zscrollnotinclude")||d.append(a))});e.enablehook(u);x=
e(window);f=x.width();k=x.height();window.scrollTo(0,0);v.setData("zmodulescrollbarcontentel",d);e(window).on("hashchange",function(a){a.preventDefault();a.stopPropagation();window.scrollTo(0,0)})}d.addClass("zui-scrollbar-content");d.setData("zmodulescrollbarthisiscontentel",!0);var G=a.usecss&&"webkitTransform"in document.createElement("div").style,y=d.item(0,!0),w=D?D.item(0,!0):!1,B=0,C=0;a.usecss=G;M(b);!a.nonui&&G&&(y.style.webkitTransform="translate3d(0, 0, 0)",w&&(w.style.webkitTransform=
"translate3d(0, 0, 0)"));a.nonui&&d.setData("zmodulescrollbarnonuipos",0);d.setData("zmodulescrollbaroption",a);t?(e(window.document.body).setData("zmodulescrollbaroption",a),a.useDefault&&U(window.document.body,!0)):a.useDefault&&U(b,!0);var l=function(){return a.nonui?parseFloat(d.getData("zmodulescrollbarnonuipos",0)):d.getData("zmodulescrollbarusedefault",!1)?t?a.horizontal?-e(window).scrollLeft():-e(window).scrollTop():a.horizontal?-d.scrollLeft():-d.scrollTop():G?B:a.horizontal?d.left():d.top()},
p=a.nonui?d:e("<div></div>");a.nonui||(t?p.prependTo(b):p.insertBefore(b),p.addClass(a.customCssClass).style({position:"relative",overflow:"hidden",width:f,height:k}),p.addClass(t?"body-scroll":"not-body-scroll").addClass(a.horizontal?"zui-scrollbar-horizontal":"zui-scrollbar-vertical"),p.append(d),d.style({position:"absolute",left:0,top:0,overflow:"visible"}),a.horizontal?d.style({width:"auto",height:k}):d.style({height:"auto",width:f}),a.innerWidth&&!isNaN(a.innerWidth)&&d.width(a.innerWidth),a.innerHeight&&
!isNaN(a.innerHeight)&&d.height(a.innerHeight),a.alwayshide||(p.append(r),r.style({position:"absolute",opacity:a.autohide?0:1,display:a.alwayshide?"none":"block"}),a.horizontal?r.width(f):r.height(k),D.style("position","absolute")));m();a.onResize(-l(),f,k);t?v.trigger("scrollbar.windowResize",{scrollTop:-l(),width:f,height:k}):d.trigger("scrollbar.windowResize",{scrollTop:-l(),width:f,height:k});var ca=a.shadow?e('<div class="zui-scrollbar-shadow"></div>').appendTo(p).hide():!1,A=e.timer({time:a.scrolltime,
transition:a.transition,onStart:function(){N=!0;m()},onProcess:function(a){O(a)},onFinish:function(a,b){O(b);z.run();P=N=!1},onStop:function(){P=N=!1}}),z=e.timer({from:50,to:0,time:2E3,onProcess:function(c){a.nonui||!a.autohide||a.alwayshide||r.style("opacity",c)},onFinish:function(c,b){a.nonui||!a.autohide||a.alwayshide||r.style("opacity",b)}}),E=function(){if(a.nonui)return!0;m();var c;(c=a.horizontal?n>f:q>k)||O(0);return c},da=0,O=function(c){if(a.useinteger){c=parseInt(c);if(c==da)return;da=
c}if(t&&d.getData("zmodulescrollbarusedefault")){var b=c;l();a.horizontal?document.body.scrollLeft=-b:document.body.scrollTop=-b}else ea(c);!a.nonui&&a.shadow&&(-5>c?ca.show():ca.hide());if(!a.nonui)a.onScroll(-c,f,k);a.nonui?d.trigger("scrollbar.scroll",{scrollTop:-c}):t?v.trigger("scrollbar.scroll",{scrollTop:-c,scrollBottom:n-f+c,width:f,height:k}):d.trigger("scrollbar.scroll",{scrollTop:-c,scrollBottom:n-f+c,width:f,height:k})},ea=a.nonui?function(a){B=a;d.setData("zmodulescrollbarnonuipos",a)}:
a.horizontal&&G?function(c){B=c;y.style.webkitTransform="translate3d("+c+"px, 0, 0)";a.alwayshide||(C=-c*f/n,w.style.webkitTransform="translate3d("+C+"px, 0, 0)")}:!a.horizontal&&G?function(c){B=c;y.style.webkitTransform="translate3d(0, "+c+"px, 0)";a.alwayshide||(C=-c*k/q,w.style.webkitTransform="translate3d(0, "+C+"px, 0)")}:a.horizontal?function(c){y.style.left=c+"px";a.alwayshide||(w.style.left=-c*f/n+"px")}:function(c){y.style.top=c+"px";a.alwayshide||(w.style.top=-c*k/q+"px")},g=function(c,
b,d){m();A.isRunning()&&A.stop();if(!a.smooth||"undefined"!=typeof b&&1==b){"undefined"==typeof d&&(a.nonui&&c<-a.nonuiMaxScroll&&(c=-a.nonuiMaxScroll),!a.nonui&&a.horizontal&&c<f-n&&(c=f-n),!a.nonui&&!a.horizontal&&c<k-q&&(c=k-q),0<c&&(c=0));if(l()==c)return!1;a.nonui||(z.stop(),a.alwayshide||r.style("opacity",1),a.smooth||z.run());O(c);return!0}b=l();A.set({from:b,to:c,transition:a.transition});a.nonui&&c<-a.nonuiMaxScroll&&(c=-a.nonuiMaxScroll,A.set({from:b,to:c,transition:a.bounce?3:a.transition}));
!a.nonui&&a.horizontal&&c<f-n&&(c=f-n,A.set({from:b,to:c,transition:a.bounce?3:a.transition}));!a.nonui&&!a.horizontal&&c<k-q&&(c=k-q,A.set({from:b,to:c,transition:a.bounce?3:a.transition}));0<c&&(c=0,A.set({from:b,to:c,transition:a.bounce?3:a.transition}));if(l()==c)return H=!1;a.nonui||(z.stop(),a.alwayshide||r.style("opacity",1));T||A.run();return!0},Q=function(c,b){if(a.nonui)return!1;if(a.horizontal)return g(-c/f*n,b);g(-c/k*q,b)},H=!1,I=function(c,b,e,f){H=!1;var k=c+b*(e?a.scrolllinetouchpad:
a.scrollline);if(a.skipSnapWhenUseTouchpad&&e)return k;var g=c,l=!1;if(f&&(f=t?v.getData("zmodulescrollbarsnappositions"):d.getData("zmodulescrollbarsnappositions"))){if(0>b)for(var h=0;h<f.length;h++)if(-f[h]<c-10){g=-f[h];l=!0;break}if(0<b)for(h=f.length-1;0<=h;h--)if(-f[h]>c+10){g=-f[h];l=!0;break}if(l){if(a.looseSnap&&Math.abs(c-g)>Math.abs(c-k+(e?a.scrolllinetouchpad:0)))return k;H=!0;return g}}return k},P=!1,fa=e.isMobileDevice();if(a.usemouse)p.on("mousewheel",function(c,b){if((!d.getData("zmodulescrollbarusedefault")||
!fa)&&E())if(P)c.preventDefault(),c.stopPropagation();else{var e;l();e=I(l(),c.deltaY(),c.isTouchpad(),0<c.deltaY()&&a.snapScrollUp||0>c.deltaY()&&a.snapScrollDown);var f=c.isTouchpad()&&!H;e=g(e,f);H&&c.isTouchpad()&&(P=!0);e&&(c.preventDefault(),c.stopPropagation())}});var V=!1;p.hover(function(){V=!0},function(){V=!1});if(a.usekey){var W=!0;e("body").on("keydown",function(c){if(!d.getData("zmodulescrollbarusedefault")&&E()&&V&&W){var b=W=!1;b||40!=c.keyCode()&&38!=c.keyCode()&&37!=c.keyCode()&&
39!=c.keyCode()||(b=I(l(),40==c.keyCode()||39==c.keyCode()?-1:1,!1,40==c.keyCode()&&a.snapScrollDown||39==c.keyCode()&&a.snapScrollUp),b=g(b));b||!a.horizontal||37!=c.keyCode()&&39!=c.keyCode()||(b=I(l(),39==c.keyCode()?-1:1,!1,!0),b=g(b));if(!b&&36==c.keyCode()){if(a.horizontal)return g(n);b=g(q)}if(!b&&35==c.keyCode()){if(a.horizontal)return g(-n);b=g(-q)}b||33!=c.keyCode()||(b=a.horizontal?g(l()+f):g(l()+k));b||34!=c.keyCode()||(b=a.horizontal?g(l()-f):g(l()-k));b&&(c.preventDefault(),c.stopPropagation())}}).on("keyup",
function(a){W=!0})}a.alwayshide||r.on("mousedown",function(b){E()&&(a.horizontal?Q(b.x()-K/2):Q(b.y()-L/2),b.preventDefault(),b.stopPropagation())}).hover(function(a){E()&&(z.stop(),r.setStyle("opacity",1),a.preventDefault())},function(a){E()&&(z.run(),a.preventDefault())});var X=0;a.alwayshide||D.drag({onStart:function(a){a.preventDefault();a.stopPropagation();X=C},onDrag:function(b,d,e,f){E()&&(z.stop(),r.setStyle("opacity",1),a.horizontal?Q(X+f.left+e.x,!0):Q(X+f.top+e.y,!0),b.preventDefault(),
b.stopPropagation())},onDrop:function(a){a.preventDefault();a.stopPropagation()}});var J=-1,R=-1,Y=0,Z=-1,aa=0;a.usetouch&&e.isTouchDevice()&&(p.on("touchstart",function(b,e){if(!d.getData("zmodulescrollbarusedefault")){z.stop();if(!a.nonui){var f=document.defaultView.getComputedStyle(y,null),f=new WebKitCSSMatrix(f.webkitTransform);y.style.webkitTransition="";w&&(w.style.webkitTransition="");ea(f.m42)}b.touchX();J=b.touchY();R=l();Y=b.timeStamp()}}),p.on("touchmove",function(b,e){if(!d.getData("zmodulescrollbarusedefault")&&
!a.nonui){b.preventDefault();b.touchX();Z=b.touchY();aa=b.timeStamp();var h=b.touchY()-J+R;if(a.horizontal&&h<f-n||!a.horizontal&&h<k-q||0<h)h=(b.touchY()-J)/4+R;g(h,!0,!0)}}),p.on("touchend",function(b,e){if(!d.getData("zmodulescrollbarusedefault")){z.run();if(!a.nonui){var h=(Z-J)/(aa-Y);isNaN(h)&&(h=0);var g=0>h?5E-4:-5E-4,l=-h/g,g=B+-(h*h)/(2*g);!a.nonui&&a.horizontal&&g<f-n&&(0>h&&g>f-n-500&&(l=180),g=f-n);!a.nonui&&!a.horizontal&&g<k-q&&(0>h&&g>k-q-500&&(l=180),g=k-q);0<g&&(0<h&&500>g&&(l=180),
g=0);B=g;y.style.webkitTransition="-webkit-transform "+l+"ms cubic-bezier(0.33, 0.66, 0.66, 1)";y.style.webkitTransform="translate3d(0, "+B+"px, 0)";a.alwayshide||(C=-g*k/q,w.style.webkitTransition="-webkit-transform "+l+"ms cubic-bezier(0.33, 0.66, 0.66, 1)",w.style.webkitTransform="translate3d(0, "+C+"px, 0)")}J=-1;Y=R=void 0;Z=-1;aa=void 0}}));u={pauseScrollEvent:function(){T=!0},continueScrollEvent:function(){T=!1},refreshScroll:function(){if(!a.nonui)return t?(p.height(k=x.height()).width(f=
x.width()),a.horizontal?d.height(k):d.width(f)):a.horizontal?p.height(k=d.height()):p.width(f=d.width()),m(),g(l(),!0)},scrollLineUp:function(){return g(l()+a.scrollline)},scrollLineDown:function(){return g(l()-a.scrollline)},scrollPageUp:function(){return a.horizontal?g(l()+f):g(l()+k)},scrollPageDown:function(){return a.horizontal?g(l()-f):g(l()-k)},scrollNextSnap:function(){return g(I(l(),-1,!1,!0))},scrollPrevSnap:function(){return g(I(l(),1,!1,!0))},scrollToTop:function(){return a.nonui?g(0):
a.horizontal?g(n):g(q)},scrollToEnd:function(){return a.nonui?g(-a.nonuiMaxScroll):a.horizontal?g(-n):g(-q)},scrollTo:function(a,b){a=a||0;if("number"==typeof b){var d=-l();if(d<=a&&d>=a-b||d>=a&&d<=a+b)return g(-a);g(-a+b,!0);return g(-a)}return g(-(a||0),b)},scrollToElement:function(b,f,h){b=e.isString(b)?d.find(b):e(b);return g(-b.getStyle(a.horizontal?"left":"top",!0)-(f||0),h)},scrollPosition:function(){return-l()}};t?(v.setData("zmodulescrollbarcontainerel",p),v.setData("zmodulescrollbarfunctions",
u)):(p.setData("zmodulescrollbarcontentel",d),d.setData("zmodulescrollbarcontainerel",p),d.setData("zmodulescrollbarfunctions",u));!a.nonui&&a.autorefresh&&window.setInterval(function(){N||g(l(),!0)},a.autorefreshtime);if(t){var S=a.autoUseDefaultWhenWidthLessThan,F=x.width()<=S,ga=function(){0<S&&(x.width()<=S&&!F&&(F=!0,v.scrollbarUseDefault(!0)),x.width()>S&&F&&(F=!1,v.scrollbarUseDefault(!1)))};x.on("resize",function(){v.refreshScroll();ga();a.onResize(-l(),f,k);v.trigger("scrollbar.windowResize",
{scrollTop:-l(),width:f,height:k})});F=!F;ga()}a.autoUseDefaultWithMobile&&fa&&(t?v.scrollbarUseDefault(!0):d.scrollbarUseDefault(!0));t?v.trigger("scrollbar.ready"):d.trigger("scrollbar.ready");t&&function(){""!=document.location.hash&&v.scrollToElement(document.location.hash)}.delay(500)}},M=function(b){var h=e(b),m=b==window.document.body,d=h.getData("zmodulescrollbaroption",!1);if(!d)return!1;var a=!1;d.snapPositions&&e.isArray(d.snapPositions)&&(a=e.clone(d.snapPositions));d.snapElements&&(b=
h.find(d.snapElements),0<b.count()&&(e.isArray(a)||(a=[]),b.each(function(b){b=e(b);a.push((m?d.horizontal?b.getAbsoluteLeft():b.getAbsoluteTop():d.horizontal?b.left():b.top())+parseInt(b.getAttr("data-snap-modify-px",0)))})));e.isArray(a)&&(a=a.sort(function(a,b){return parseInt(a)-parseInt(b)}));h.setData("zmodulescrollbarsnappositions",a)},ja=function(b,h,m){m=m||!1;b=e(b);var d=b.getData("zmodulescrollbaroption",!1),a=b.getData("zmodulescrollbarcontainerel",!1);if(!d)return!1;e(h).on("resize",
function(){d.horizontal||(a.height(this.height()),m&&a.width(this.width()))})},U=function(b,h){h=h||!1;var m=e(b),d=m.getData("zmodulescrollbarcontainerel"),a=m.getData("zmodulescrollbaroption",!1);if(!a)return!1;b==window.document.body&&(d=e(b),m=d.getData("zmodulescrollbarcontentel"));h?d.addClass(a.customUsedefaultCssClass):d.removeClass(a.customUsedefaultCssClass);m.setData("zmodulescrollbarusedefault",h)};e.extendMethod({makeScrollbar:function(b){return this.each(function(e){ia(e,b)})},pauseScrollEvent:function(){return this.each(function(b){b=
e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.pauseScrollEvent&&b.pauseScrollEvent()})},continueScrollEvent:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.continueScrollEvent&&b.continueScrollEvent()})},refreshScroll:function(){return this.each(function(b){var h=e(b).getData("zmodulescrollbarfunctions");"function"==typeof h.refreshScroll&&h.refreshScroll();M(b)})},scrollbarRefreshSnapPositions:function(){return this.each(function(b){M(b)})},
scrollLineUp:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollLineUp&&b.scrollLineUp()})},scrollLineLeft:function(){return this.scrollLineUp()},scrollLineDown:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollLineDown&&b.scrollLineDown()})},scrollLineRight:function(){return this.scrollLineDown()},scrollPageUp:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");
"function"==typeof b.scrollPageUp&&b.scrollPageUp()})},scrollPageDown:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollPageDown&&b.scrollPageDown()})},scrollNextSnap:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollNextSnap&&b.scrollNextSnap()})},scrollPrevSnap:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollPrevSnap&&
b.scrollPrevSnap()})},scrollToTop:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollToTop&&b.scrollToTop()})},scrollToEnd:function(){return this.each(function(b){b=e(b).getData("zmodulescrollbarfunctions");"function"==typeof b.scrollToEnd&&b.scrollToEnd()})},scrollToBottom:function(){return this.scrollToEnd()},scrollTo:function(b,h){return this.each(function(m){m=e(m).getData("zmodulescrollbarfunctions");"function"==typeof m.scrollTo&&m.scrollTo(b,
h)})},scrollToElement:function(b,h,m){return this.each(function(d){d=e(d).getData("zmodulescrollbarfunctions");"function"==typeof d.scrollToElement&&d.scrollToElement(b,h,m)})},scrollPosition:function(){var b=this.item(0).getData("zmodulescrollbarfunctions");return"function"==typeof b.scrollPosition?b.scrollPosition():0},scrollContainer:function(){return e(this.item(0).getData("zmodulescrollbarcontainerel"))},scrollHeight:function(b){b=this.scrollContainer().height(b);return"number"==typeof b?b:this},
scrollContainerHeight:function(b){b=this.scrollContainer().height(b);return"number"==typeof b?b:this},iszScrollbar:function(){return"object"==typeof this.item(0).getData("zmodulescrollbaroption")},scrollbarUseDefault:function(b){this.scrollToTop();return this.each(function(e){U(e,b)})},scrollbarSetWrapperSizeElement:function(b){return this.each(function(e){ja(e,b)})}});e.hook({after_setInnerHTML:function(b){e(b).find(".zscroll").makeScrollbar();e(b).refreshScroll().parent().refreshScroll().parent().refreshScroll()},
after_insertDOM:function(b){e(b).hasClass("zscroll")&&e(b).makeScrollbar();e(b).find(".zscroll").makeScrollbar();e(b).parent().refreshScroll().parent().refreshScroll().parent().refreshScroll()},before_removeDOM:function(b){0>=parseInt(e(b).getData("zmodulescrollbarid",0))||e(b).scrollContainer().remove()}});e.onready(function(){e(".zscroll").makeScrollbar()});"required"in e&&e.required("scrollbar")})(zjs);