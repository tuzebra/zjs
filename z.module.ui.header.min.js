zjs.require("ui.freezepanel",function(){zjs.extendCore({moduleUiHeaderOption:{freeze:!1,autoHideWhenReach:!1,autoHideSpeed:2E3,autoHideDelay:0,useHeightBuffer:!0,mobileMenuStyle:"offcanvas",offcanvasMenuItemEffect:"showdelay",offcanvasMenuItem:".main-nav ul li > a"}});var k=function(b,d){var a=zjs(b),c=a.getData("zmoduleuiheaderoption");if(c)a.setData("zmoduleuiheaderoption",zjs.extend(c,d));else{var c=zjs.clone(zjs.moduleUiHeaderOption),e=a.getAttr("data-option","");zjs.isString(e)&&""!=e.trim()&&
(c=zjs.extend(c,e.jsonDecode()));a.removeAttr("data-option");"undefined"!=typeof d&&(c=zjs.extend(c,d));a.setData("zmoduleuiheaderoption",c);a.addClass("zui-header");a.removeClass("zui-uiuninithide zui-uiuninithideh");a.makeFreezepanel(c);0===c.autoHideSpeed&&a.addClass("autohide-speed-0");var f=!1,g=a.find(".zhamburger");g.on(zjs.isMobileDevice()?"touchstart":"click",function(b){b.preventDefault();f?(f=!1,g.find(".icon-close").removeClass("icon-close").addClass("icon-menu"),"showdelay"==c.offcanvasMenuItemEffect&&
h(a,c,"hide"),a.removeClass("active-"+c.mobileMenuStyle),function(){a.freezepanelAlwayShow(!1);a.freezepanelDisableChangeHeightBuffer(!1)}.delay(100)):(f=!0,g.find(".icon-menu").removeClass("icon-menu").addClass("icon-close"),a.freezepanelAlwayShow(!0),a.freezepanelDisableChangeHeightBuffer(!0),function(){"showdelay"==c.offcanvasMenuItemEffect&&h(a,c,"init")}.delay(100),function(){a.addClass("active-"+c.mobileMenuStyle)}.delay(200),function(){"showdelay"==c.offcanvasMenuItemEffect&&h(a,c,"show")}.delay(300))})}},
h=function(b,d,a){b=b.find(d.offcanvasMenuItem);"init"==a&&b.eachElement(function(a,b){zjs(a).addClass("offcanvas-item-show-delay");(function(){zjs(a).setStyle("transition-delay",50*b+"ms")}).delay(50)});"show"==a&&b.addClass("effect-active");"hide"==a&&b.setStyle("transition-delay",null).removeClass("offcanvas-item-show-delay effect-active")};zjs.extendMethod({makeHeader:function(b){return this.eachElement(function(d){k(d,b)})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zheader").makeHeader()},
after_insertDOM:function(b){zjs(b).hasClass("zheader")&&zjs(b).makeHeader();zjs(b).find(".zheader").makeHeader()}});zjs.onready(function(){zjs(".zheader").makeHeader()});"required"in zjs&&zjs.required("ui.header")});