zjs.require("ui",function(){zjs.extendCore({moduleUiCheckboxOption:{text:"",customlabel:"<span>",image:"",imagechecked:""}});var k=function(c,d){var a=zjs(c),b=a.getData("zmoduleuicheckboxoption");if(b)a.setData("zmoduleuicheckboxoption",zjs.extend(b,d));else{var b=zjs.clone(zjs.moduleUiCheckboxOption),e=a.getAttr("data-option","");zjs.isString(e)&&""!=e.trim()&&(b=zjs.extend(b,e.jsonDecode()));"undefined"!=typeof d&&(b=zjs.extend(b,d));a.setData("zmoduleuicheckboxoption",b);a.addClass("zui-checkbox");
a.addClass("zui-uiuninithide zui-uiuninithideh");if(""!=a.getAttr("name","")){e=zjs("<label>").addClass("zui-checkbox-wrap");e.insertBefore(a);e.append(a);var f=a.getValue();""!=f&&e.addClass("zui-checkbox-value-"+f);a.setData("zmoduleuicheckboxwrapel",e);""!=b.text&&(f=zjs(b.customlabel),f.addClass("zui-checkbox-label"),f.html(b.text),e.append(f));b=zjs("<div>").addClass("zui-checkbox-image");e.prepend(b);a.setData("zmoduleuicheckboximageel",b);e.on("click, tap",function(){var b=zjs.getUniqueId();
a.setData("zmoduleuicheckboxclickid",b);a.getAttr("name","");a.isChecked()?g(a,-1):h(a,-1)});a.isChecked()?g(a,-1):h(a,-1)}}},h=function(c,d){d=d||0;var a=zjs(c),b=a.getData("zmoduleuicheckboxwrapel");if(!b||parseInt(a.getData("zmoduleuicheckboxclickid"))==d)return!1;b.removeClass("checked").addClass("uncheck");b=a.getData("zmoduleuicheckboximageel");(a=a.getData("zmoduleuicheckboxoption"))&&""!=a.imagechecked&&b.setStyle("background-image","none");a&&""!=a.image&&b.setStyle("background-image","url("+
a.image+")")},g=function(c,d){var a=zjs(c),b=a.getData("zmoduleuicheckboxwrapel");if(!b||parseInt(a.getData("zmoduleuicheckboxclickid"))==d)return!1;b.removeClass("uncheck").addClass("checked");b=a.getData("zmoduleuicheckboximageel");(a=a.getData("zmoduleuicheckboxoption"))&&""!=a.image&&b.setStyle("background-image","none");a&&""!=a.imagechecked&&b.setStyle("background-image","url("+a.imagechecked+")")};zjs.extendMethod({makeCheckbox:function(c){return this.each(function(d){k(d,c)})}});zjs.hook({after_setInnerHTML:function(c){zjs(c).find(".zcheckbox").makeCheckbox()},
after_insertDOM:function(c){zjs(c).hasClass("zcheckbox")&&zjs(c).makeCheckbox();zjs(c).find(".zcheckbox").makeCheckbox()}});zjs.onready(function(){zjs(".zcheckbox").makeCheckbox()});"required"in zjs&&zjs.required("ui.checkbox")});
