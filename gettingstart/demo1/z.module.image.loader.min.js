(function(c,d){var g=function(a){this.src=a};c.extend(g.prototype,{load:function(a,b){this.callback=a;this.errorCallback=b||!1;var c=this;this.img=new Image;this.img.src=this.src;if(this.img.complete){var f=this.img.naturalWidth;f===d&&(f=this.img.width);var e=this.img.naturalHeight;e===d&&(e=this.img.height);this.onLoad(f,e)}else this.img.onload=function(){c.onLoad(this.width,this.height)},this.img.onerror=function(){c.onError()}},onLoad:function(a,b){this.img=d;this.callback&&this.callback({src:this.src,
width:a,height:b})},onError:function(){this.img=d;this.errorCallback&&this.errorCallback({src:this.src})}});c.extendCore({loadImage:function(a){a=c.extend({image:"",onError:function(a){},onLoaded:function(a){}},a);(new g(a.image)).load(function(b){a.onLoaded(b)},function(b){a.onError(b)})},loadImages:function(a){a=c.extend({path:"",images:[],delay:800,onError:function(a){},onLoaded:function(a){},onLoading:function(a){},onFinish:function(){}},a);0>=a.delay&&(a.delay=1);for(var b=a.images.length,d=
0,f=0,e=!1,h=0;h<b;h++)(new g(a.path+a.images[h])).load(function(g){!1!==e&&e.stop();(e=c.timer({from:f,to:++d/b*100,time:a.delay,transition:"linear",onProcess:function(b){b=b.toInt();100<b&&(b=100);a.onLoading(f=b)},onStop:function(){a.onLoaded(g)},onFinish:function(){if(d>=b)a.onFinish()}})).run()},function(b){a.onError(b)})}});"required"in c&&c.required("image.loader")})(zjs);