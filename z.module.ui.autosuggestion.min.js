zjs.require("dictionary, scrollbar",function(){zjs.extendCore({moduleUiAutosuggestionOption:{minlength:1,minheight:18,customcss:!0,labelPlaceholder:!1,focusshowsuggestion:!1,autofocus:!1,panelmaxheight:200,multiline:!0,multichoice:!1,create:!1,delimiter:",",mentionmode:!1,usedproperty:"text",searchproperty:"text",usedSearchRegExp:null,searchMatchStartWith:!1,usedpropertytext:!1,limit:0,noneValue:"",source:[],sourceUrl:"",initSourceUrl:"",sourceDataStructure:"",cacheResponse:0,useSuggestedValueWhenEnter:!0,
itemtemplate:'<div class="item">${text}</div>',itemLinkFormat:"",itemhighlightclass:"highlight",defaultPanelHeight:0,selectLikeInput:!1,defaultSuggestionMoreText:"",suggestIconRightChoose:" <b>&rarr;</b> press Right to choose",suggestIconEnterChoose:" <sub><b>&crarr;</b></sub> press Return to choose",suggestIconEnterCreate:" <sub><b>&crarr;</b></sub> press Return to add this keyword"}});var P="oninput"in document.createElement("input"),O=function(b,f){var c=zjs(b),a=c.getData("zjsmoduleautosuggestionoption"),
E=!1;if(a)c.setData("zjsmoduleautosuggestionoption",zjs.extend(a,f)),E=!0;else{var G=!0,B=!1;a=zjs.clone(zjs.moduleUiAutosuggestionOption);var p=c.getAttr("data-option","");zjs.isString(p)&&""!=p.trim()&&(a=zjs.extend(a,p.jsonDecode()));c.removeAttr("data-option");a.sourceUrl||(p=c.getAttr("data-autocomplete-path",""),""!==p&&(a.sourceUrl=p));zjs.hook({after_setAttr:function(d,u,e){d===b&&"data-autocomplete-path"===u&&(d=c.getAttr("data-autocomplete-path",""),""==d?G=!1:(G=!0,a.sourceUrl=d,q.setDataSourceUrl(a.sourceUrl)))}});
"undefined"!=typeof f&&(a=zjs.extend(a,f));var H=c.getValue(""),r=!1;if(zjs.isString(a.source)||c.is("select"))r=zjs.isString(a.source)?zjs(a.source):c,0<r.count()?(B=c.is("select"),a.multichoice=!1,a.usedproperty="id.text",a.source={},r.find("option").eachElement(function(d,u){var e=zjs(d).getValue(),b=zjs(d).getInnerText();e!==a.noneValue&&(a.source[e]=b,0===u&&e!=a.noneValue&&c.setValue(e,!0),d.selected&&e!=a.noneValue&&(H=b,B?r.setValue(e,!0):c.setValue(b,!0)))}),r.hide(),B?a.selectLikeInput&&
r.addClass("select-like-input"):r.removeAttr("required").removeClass("required")):r=!1;B&&!a.selectLikeInput&&(a.focusshowsuggestion=!0);p=a.searchproperty;"id.text"==a.usedproperty&&(a.searchproperty="text",a.usedproperty="id",p="id.text");a.mentionmode&&(a.multichoice=!1);a.multichoice&&(a.multiline=!1);a.limit=parseInt(a.limit);isNaN(a.limit)&&(a.limit=0);a.defaultPanelHeight=parseInt(a.defaultPanelHeight);isNaN(a.defaultPanelHeight)&&(a.defaultPanelHeight=0);if(a.usedSearchRegExp&&zjs.isObject(a.usedSearchRegExp)){var v=
{used:/^(.+\(\d{1,}\))$/,search:/^(.+)\s\(\d{1,}\)$/};a.usedSearchRegExp.used&&(zjs.isString(a.usedSearchRegExp.used)&&(a.usedSearchRegExp.used=new RegExp(a.usedSearchRegExp.used)),zjs.isRegExp(a.usedSearchRegExp.used)&&(v.used=a.usedSearchRegExp.used));a.usedSearchRegExp.search&&(zjs.isString(a.usedSearchRegExp.search)&&(a.usedSearchRegExp.search=new RegExp(a.usedSearchRegExp.search)),zjs.isRegExp(a.usedSearchRegExp.search)&&(v.search=a.usedSearchRegExp.search));a.usedSearchRegExp=v}c.setData("zjsmoduleautosuggestionoption",
a);var h=zjs('<div class="zui-autosuggestion-wrap"><div class="zui-autosuggestion-inputwrap"><div class="zui-autosuggestion-placeholder"></div><input class="zui-autosuggestion-input" autocomplete="off" /><textarea class="zui-autosuggestion-input" autocomplete="off"></textarea><div class="zui-autosuggestion-input-test-wrap"><div class="zui-autosuggestion-input-test"></div></div><div class="zui-estimate-height-wrap"><div class="zui-autosuggestion-input zui-estimate-height"></div></div></div><div class="zui-autosuggestion-panel-wrap zui-panel-hide"><div class="zui-autosuggestion-panel-scroll"><div class="zui-autosuggestion-panel-content"></div></div></div></div>');
a.multiline?h.find("input.zui-autosuggestion-input").remove():h.find("textarea.zui-autosuggestion-input").remove();c.setData("zmoduleautosuggestionwrapel",h);h.insertAfter(c);var x=h.find(".zui-autosuggestion-inputwrap"),l=h.find(".zui-autosuggestion-placeholder"),e=h.find("input.zui-autosuggestion-input,textarea.zui-autosuggestion-input"),m=h.find(".zui-autosuggestion-panel-wrap"),I=h.find(".zui-autosuggestion-panel-scroll"),w=h.find(".zui-autosuggestion-panel-content"),J=!1;e.findUp("form").setAttr("autocomplete",
"off");c.setData("zmoduleautosuggestionwrapinputel",x);c.setData("zjsmoduleautosuggestionnewinput",e.item(0,!0));a.multiline?(J=h.find(".zui-estimate-height"),h.addClass("multiline")):h.find(".zui-estimate-height-wrap").remove();a.suggestIconRightChoose&&l.setData("suggestIconRightChoose",a.suggestIconRightChoose);a.suggestIconEnterChoose&&l.setData("suggestIconEnterChoose",a.suggestIconEnterChoose);a.suggestIconEnterCreate&&l.setData("suggestIconEnterCreate",a.suggestIconEnterCreate);if(!a.customcss){v=
c.width();var Q=c.height();c.getStyle("margin-left",!0);c.getStyle("margin-right",!0);c.getStyle("margin-top",!0);c.getStyle("margin-bottom",!0);var O=c.getStyle("padding-left",!0),ba=c.getStyle("padding-right",!0),ca=c.getStyle("padding-top",!0),da=c.getStyle("padding-bottom",!0),ea=c.getStyle("border-left-width",!0),fa=c.getStyle("border-right-width",!0),ha=c.getStyle("border-top-width",!0),ia=c.getStyle("border-bottom",!0),ja=c.getStyle("font");"content-box"==c.getStyle("box-sizing")&&(v-=O+ba+
ea+fa,Q-=ca+da+ha+ia);x.copyStyleFrom(c);x.setStyle({position:"relative",cursor:"text",width:v,height:Q,"-webkit-text-fill-color":"initial"});e.setStyle({top:l.top(),font:ja,width:v})}var K=!1;a.multichoice?(h.addClass("zui-autosuggestion-multi-wrap"),K=h.find(".zui-autosuggestion-input-test").setStyle({margin:e.getStyle("margin"),padding:e.getStyle("padding"),font:e.getStyle("font"),border:e.getStyle("border")})):h.find(".zui-autosuggestion-input-test-wrap").remove();m.height(a.panelmaxheight);I.makeScrollbar({bounce:!1,
usecss:!1,usekey:!1,customCssClass:"zui-autosuggestion-panel",autoUseDefaultWithMobile:!0});m.addClass("zui-panel-hide");var R=function(d){d=Math.min(d,a.panelmaxheight);m.height(d);I.scrollHeight(d).refreshScroll().scrollToTop();m.find(".zui-scrollbar").top(0)},S="",y=function(){return c.getAttr("data-placeholder",c.getAttr("placeholder",""))},n=0,F=0,g="",t="",C=0,T="";v=y();a.labelPlaceholder&&""!==v&&(zjs("<span>").addClass("placeholder").html(v).insertAfter(x),x.addClass("label-placeholder"));
k(l,y());c.hide();""!==H&&(e.setValue(g=H,!0),k(l,""),h.addClass("has-value"));var q=new zjs.dictionary(a.source,p);a.cacheResponse||q.setCacheResponse(!1);""!=a.sourceUrl&&q.setDataSourceUrl(a.sourceUrl);""!=a.initSourceUrl&&(q.setDataSourceUrl(a.initSourceUrl),""===a.sourceUrl&&q.useCacheDataSource(!0),q.getDataFromDataSource());""!=a.sourceDataStructure&&q.setDataSourceDataStructure(a.sourceDataStructure);0<a.limit&&q.setDefaultSearchResultLimit(a.limit);a.searchMatchStartWith&&q.setSearchMatchStartWith(!0);
c.setData("zjsmoduleautosuggestiondictionary",q);var U=function(d){var c=null,e=null,b=d.match(a.usedSearchRegExp.used);b&&2<=b.length&&b[1]&&(c=b[1]);(b=d.match(a.usedSearchRegExp.search))&&2<=b.length&&b[1]&&(e=b[1]);return c&&e?{used:c,search:e}:!1},V=function(){B&&(""===c.getValue()?(g="",k(l,""),e.setValue("",!0),h.removeClass("has-value")):h.addClass("has-value"));m.addClass("zui-panel-hide");c.trigger("ui:autosuggestion:blur")},D=function(d,u){E&&(a=c.getData("zjsmoduleautosuggestionoption"),
E=!1);var b=d.getKeyCode();38==b||40==b?"keydown"==u&&ka(d,b):37!=b&&(39==b||9==b?("keydown"==u&&la(),9==b&&(m.addClass("zui-panel-hide"),V())):13==b?a.multichoice?""!=e.getValue("")&&("keydown"==u&&W(),d.preventDefault()):(b=m.hasClass("zui-panel-hide"),"keydown"==u&&W(),a.multiline&&(d.preventDefault(),z(),b&&function(){c.findUp("form").submit()}.delay(1))):27==b?(m.hasClass("zui-panel-hide")||e.setValue(g,!0),"text"===a.usedproperty||a.usedpropertytext?(c.setValue(g,!0),""===g?k(l,y()):k(l,t="")):
c.setValue("",!0),m.addClass("zui-panel-hide"),w.find(".zui-autosuggestion-item").removeClass("highlight"),C=n=0,""!==g&&a.create&&a.suggestIconEnterCreate&&k(l,g,g,!0),a.multiline&&z()):8==b?ma():(P&&"input"==u?L(!0):"keyup"==u&&L(!0),c.trigger("input")))},ka=function(d,u){d.preventDefault();w.find(".zui-autosuggestion-item").removeClass(a.itemhighlightclass);40==u&&n++;38==u&&n--;n>F&&(n=0);0>n&&(n=F);if(0===n){var b=g;k(l,t,g)}else{var f=w.find('.zui-autosuggestion-item[data-highlight="'+n+'"]'),
h=f.getData("searchtempdata");f.addClass(a.itemhighlightclass);b=h.text;k(l,"")}e.setValue(b,!0);a.multichoice&&(e.width(K.setInnerHTML(e.getValue("")).width()+10),m.top(x.height()));h&&a.usedproperty in h?c.setValue(h[a.usedproperty],!0):("text"==a.usedproperty||a.usedpropertytext)&&c.setValue(g,!0);a.multiline&&z();I.scrollToElement(f);"object"==typeof h&&(c.trigger("ui:autosuggestion:highlight",h),""!=a.itemLinkFormat&&(S=f.getAttr("href")))},la=function(){if(""!=t&&(e.setValue(g=t,!0),k(l,t=""),
0>=n&&(n=C),m.addClass("zui-panel-hide"),!(0>=n))){var d=w.find('.zui-autosuggestion-item[data-highlight="'+n+'"]').getData("searchtempdata");"object"==typeof d&&(a.multichoice?(e.setValue("",!0).width(10),d&&a.usedproperty in d&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(d.text).setAttr("data-value",d[a.usedproperty]).insertBefore(e),h.addClass("zui-autosuggestion-with-token"),A())):(a.multiline&&z(),d&&a.usedproperty in d&&(T=d[a.usedproperty],g=d[a.searchproperty],e.setValue(g,
!0),c.setValue(T,!0))),r&&r.setValue(d.id,!0),c.trigger("ui:autosuggestion:choice",d))}},W=function(){g=e.getValue("");var d={text:g},b=!1;if((C||n||!m.hasClass("zui-panel-hide")||a.create)&&""!=g){if(0<n)b=w.find('.zui-autosuggestion-item[data-highlight="'+n+'"]');else if(0<C&&a.useSuggestedValueWhenEnter)b=w.find('.zui-autosuggestion-item[data-highlight="'+C+'"]');else if("id"==a.usedproperty){var f=w.find(".zui-autosuggestion-item");0<f.count()&&(b=f.item(0))}else a.create&&(d={},q.addIndex((d[a.usedproperty]=
g,d[a.searchproperty]=g,d),a.searchproperty),d={},d=(d.text=g,d[a.usedproperty]=g,d[a.searchproperty]=g,d));b&&(d=b.getData("searchtempdata"))}""!=g&&k(l,t="");m.addClass("zui-panel-hide");"object"==typeof d&&(a.multichoice?(e.setValue("",!0).width(10),g="",d&&a.usedproperty in d&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(d.text).setAttr("data-value",d[a.usedproperty]).insertBefore(e),h.addClass("zui-autosuggestion-with-token")),A()):d&&(k(l,t=""),m.addClass("zui-panel-hide"),
a.searchproperty in d&&e.setValue(g=d[a.searchproperty],!0),a.usedproperty in d&&c.setValue(d[a.usedproperty],!0)),r&&r.setValue(d.id,!0),c.trigger("ui:autosuggestion:choice",d),""!=a.itemLinkFormat&&b&&(b=b.getAttr("href"),b==S&&(window.location.href=b)))},ma=function(){a.multichoice&&""==e.getValue("")&&(h.find(".zui-autosuggestion-token").lastChild().remove(),A(),""==c.getValue()&&(h.removeClass("zui-autosuggestion-with-token"),t="",function(){l.top(e.top()).left(e.left()).show();k(l,y())}.delay(80)))},
L=function(d){var b=e.getValue("");g=b;k(l,"");""!==b?h.addClass("has-value"):h.removeClass("has-value");if(a.multichoice){e.width(K.setInnerHTML(b).width()+10);if(""==b){""==c.getValue()?k(l.show(),y()):l.hide();t="";k(l,y());m.addClass("zui-panel-hide");return}l.top(e.top()).left(e.left()).show()}else{a.multiline&&z();"text"==a.usedproperty||a.usedpropertytext?c.setValue(b,!0):c.setValue("",!0);if(""==b&&B){M();return}if(""==b||d&&b.length<a.minlength){t="";""!=b?k(l,"",b):k(l,y());m.addClass("zui-panel-hide");
return}}d&&G&&(n=0,t="",C=0,c.trigger("ui:autosuggestion:beforesearch",{value:b}),c.getData("zjsmoduleautosuggestiondictionary").asyncSearch(b,function(d){c.trigger("ui:autosuggestion:searchresult",{value:b,result:d});g=e.getValue();0!==d.length&&""!==g||m.addClass("zui-panel-hide");if(""===g)k(l,y());else if(0===d.length)g===b&&a.create&&a.suggestIconEnterCreate&&k(l,g,g,!0);else{F=d.length;m.removeClass("zui-panel-hide").top(x.height());w.setInnerHTML("");var f=0;zjs.eachItem(d,function(d,c){var e=
X(a,w,d,c);f+=e.height();e.hover(Y);e.on("mousedown",Z);if(""==t){e=d.text.toLowerCase();var u=b.toLowerCase();0===e.indexOf(u)&&(t=b+d.text.substr(b.length),C=c+1)}});k(l,t,b);R(f)}}))};c.setData("zjsmoduleautosuggestionkeytype",L);var Y=function(d){w.find(".zui-autosuggestion-item").removeClass(a.itemhighlightclass);d=zjs(this).addClass(a.itemhighlightclass).getData("searchtempdata");"object"==typeof d&&c.trigger("ui:autosuggestion:highlight",d)},aa=function(d,b){b=b||!1;"object"==typeof d&&(g=
d.text,e.setValue(g,!0),h.addClass("has-value"),a.multichoice?(e.setValue("",!0).width(10),d&&a.usedproperty in d&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(d.text).setAttr("data-value",d[a.usedproperty]).insertBefore(e),h.addClass("zui-autosuggestion-with-token"),A())):(d&&a.usedproperty in d&&c.setValue(d[a.usedproperty],!0),a.multiline&&z()),r&&r.setValue(d.id,!0),n=b?b.getAttr("data-highlight",0).toInt():0,k(l,t=""),m.addClass("zui-panel-hide"),b&&(e.focus(),c.trigger("ui:autosuggestion:choice",
d)))},Z=function(a){a=zjs(this);var d=a.getData("searchtempdata");aa(d,a)},A=function(){var d=[];h.find(".zui-autosuggestion-token").eachElement(function(a){d.push(zjs(a).getAttr("data-value",""))});c.setValue(d.join(a.delimiter),!0)},z=function(){J.setInnerHTML(e.getValue());var d=Math.max(J.height(),a.minheight);e.height(d);m.hasClass("zui-panel-hide")||m.top(x.height())};a.multiline&&(zjs(window).on("resize",z),z.delay(1));if(P)e.on("keydown",function(a,b){D(a,"keydown")}).on("input",function(a,
b){D(a,"input")});else e.on("keydown",function(a,b){D(a,"keydown")}).on("keypress",function(a,b){D(a,"keypress")}).on("keyup",function(a,b){D(a,"keyup")}).on("mouseup",function(a,b){D(a,"keyup")});e.on("blur",function(a){V.delay(100)});x.on("click",function(){e.focus()});c.on("_hardSelectValue",function(a){a=q.getItemById(this.getValue());aa(a,!1)});var N=!1;c.on("focus",function(){N||e.focus()});e.on("focus",function(){h.addClass("focus");N=!0;c.trigger("focus");N=!1}).on("blur",function(){h.removeClass("focus");
r&&""===e.getValue().trim()&&r.setValue(a.noneValue,!0);c.trigger("blur")}).on("keyup",function(){c.trigger("keyup")});a.autofocus&&e.focus();var M=function(){var d=c.getData("zjsmoduleautosuggestiondictionary").getItemsLimit();if(0!=d.length){F=d.length;m.removeClass("zui-panel-hide").top(x.height());w.setInnerHTML("");var b=0;zjs.eachItem(d,function(d,c){var e=X(a,w,d,c);b+=e.height();e.hover(Y);e.on("mousedown",Z)});""!==a.defaultSuggestionMoreText&&(b+=zjs("<div>").addClass("zui-autosuggestion-item").addClass("more-text").html(a.defaultSuggestionMoreText).appendTo(w).height());
R(0<a.defaultPanelHeight?a.defaultPanelHeight:b)}};if(a.focusshowsuggestion)e.on("focus",function(d){if(B||""==g){if(d&&d.getTarget&&(d=d.getTarget())&&(zjs(d).hasClass("zui-autosuggestion-token")||zjs(d).hasClass("zui-autosuggestion-item")))return;0<a.defaultPanelHeight?M(a.defaultPanelHeight):function(){M()}.delay(100)}});zjs(document).on("click",function(a){a=zjs(a.target()).findUp(".zui-autosuggestion-wrap");if(0<a.count()&&(a=a.find(".zui-autosuggestion-panel-wrap"),0<a.count()&&a.item(0,!0)===
m.item(0,!0)))return;(function(){m.addClass("zui-panel-hide")}).delay(1)});if(a.multichoice)x.on("click",".zui-autosuggestion-token",function(a){this.remove();A();""==c.getValue()&&(h.removeClass("zui-autosuggestion-with-token"),""==g&&(t="",k(l,y())));(function(){l.show().top(e.top()).left(e.left())}).delay(50)});a.multichoice&&""!=g&&(p=!0,a.usedSearchRegExp?(zjs.eachItem(g.split(new RegExp("\\s*"+a.delimiter+"\\s*")),function(b){if(b=U(b.trim())){var c={};q.addIndex((c[a.usedproperty]=b.used,c[a.searchproperty]=
b.search,c),a.searchproperty);zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(b.search).setAttr("data-value",b.used).insertBefore(e)}}),A()):"id"==a.usedproperty?zjs.eachItem(g.split(new RegExp("\\s*"+a.delimiter+"\\s*")),function(b){q.asyncGetItemById(b,function(b){b&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(b.text).setAttr("data-value",b[a.usedproperty]).insertBefore(e),A())})}):"text"==a.usedproperty?zjs.eachItem(g.split(new RegExp("\\s*"+a.delimiter+"\\s*")),
function(b){q.asyncSearch(b,function(b){0>=b.length||(b=b[0],zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(b.text).setAttr("data-value",b[a.usedproperty]).insertBefore(e),A())})}):p=!1,p&&(h.addClass("zui-autosuggestion-with-token"),e.setValue(g="",!0),l.hide()));!a.multichoice&&""!=g&&a.usedSearchRegExp&&(p=U(g.trim()))&&(v={},q.addIndex((v[a.usedproperty]=p.used,v[a.searchproperty]=p.search,v),a.searchproperty),c.setValue(p.used,!0),e.setValue(g=p.search,!0));c.setData("setValueCustomMethod",
"autosuggestionSetValue")}},X=function(b,f,c,a){if(""!=b.itemLinkFormat){var k=zjs.isFunction(b.itemLinkFormat)?b.itemLinkFormat(c):b.itemLinkFormat;k=zjs('<a class="zui-autosuggestion-item"></a>').setAttr("href",k.format(c))}else k=zjs('<div class="zui-autosuggestion-item"></div>');k.appendTo(f);k.setData("searchtempdata",c);k.setAttr("data-highlight",a+1);f="";"function"==typeof b.itemtemplate&&(f=b.itemtemplate(c));"string"==typeof b.itemtemplate&&(f=b.itemtemplate);"string"==typeof f&&(f=f.format(c));
zjs(f).appendTo(k);return k},k=function(b,f,c,a){f=f||"";c=c||"";a=a||!1;var k=f;c&&f&&(k='<span class="_hide">'+f.substr(0,c.length)+"</span>"+f.substr(c.length),f.length>c.length&&b.getData("suggestIconRightChoose")?k+='<i class="_suggest-msg _right-choose">'+b.getData("suggestIconRightChoose")+"</i>":a&&f.length===c.length&&b.getData("suggestIconEnterCreate")?k+='<i class="_suggest-msg _enter-create">'+b.getData("suggestIconEnterCreate")+"</i>":!a&&f.length===c.length&&b.getData("suggestIconEnterChoose")&&
(k+='<i class="_suggest-msg _enter-choose">'+b.getData("suggestIconEnterChoose")+"</i>"));b.setInnerHTML(k)};zjs.extendMethod({isAutosuggestion:function(){return!!zjs(this.item(0,1)).getData("zjsmoduleautosuggestiondictionary")},makeAutosuggestion:function(b){return this.eachElement(function(f){O(f,b)})},autosuggestionAddindex:function(b){return this.eachElement(function(f){var c=zjs(f);f=c.getData("zjsmoduleautosuggestiondictionary");c=c.getData("zjsmoduleautosuggestionoption");f&&f.addIndex(b,c.searchproperty)})},
autosuggestionRemoveindex:function(b,f){return this.eachElement(function(c){(c=zjs(c).getData("zjsmoduleautosuggestiondictionary"))&&c.removeIndex(b,f)})},autosuggestionResetIndex:function(){return this.eachElement(function(b){(b=zjs(b).getData("zjsmoduleautosuggestiondictionary"))&&b.resetIndex()})},autosuggestionFocus:function(){return this.eachElement(function(b){b=zjs(b);var f=b.getData("zmoduleautosuggestionwrapinputel");f?f.trigger("click"):b.focus()})},autosuggestionSetValue:function(b,f){b=
b||"";f=f||!1;return this.eachElement(function(c){var a=zjs(c).getData("zjsmoduleautosuggestionnewinput");if(a)try{zjs(c).setValue(b,!0),"SELECT"===zjs(c).tagName()?zjs(c).trigger("_hardSelectValue"):(a.value=b,zjs(c).getData("zjsmoduleautosuggestionkeytype")(f))}catch(E){}else zjs(c).setValue(b,!0)})},autosuggestionDisable:function(b){b=b||!1;return this.eachElement(function(f){var c=zjs(f).getData("zjsmoduleautosuggestionnewinput");f=zjs(f).getData("zmoduleautosuggestionwrapel");if(c)try{(c.disabled=
b)?f.addClass("disabled"):f.removeClass("disabled")}catch(a){}})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zautosuggestion").makeAutosuggestion()},after_insertDOM:function(b){zjs(b).is(".zautosuggestion")&&zjs(b).makeAutosuggestion();zjs(b).find(".zautosuggestion").makeAutosuggestion()}});zjs(function(){zjs(".zautosuggestion").makeAutosuggestion()});"required"in zjs&&zjs.required("ui.autosuggestion")});