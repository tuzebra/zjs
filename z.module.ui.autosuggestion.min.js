zjs.require("dictionary, scrollbar",function(){zjs.extendCore({moduleUiAutosuggestionOption:{minlength:1,minheight:18,customcss:!0,labelPlaceholder:!1,focusshowsuggestion:!1,autofocus:!1,panelmaxheight:200,multiline:!0,multichoice:!1,create:!1,delimiter:",",mentionmode:!1,usedproperty:"text",searchproperty:"text",usedSearchRegExp:null,searchMatchStartWith:!1,usedpropertytext:!1,limit:0,noneValue:"",source:[],sourceUrl:"",initSourceUrl:"",sourceDataStructure:"",cacheResponse:!0,useSuggestedValueWhenEnter:!0,
itemtemplate:'<div class="item">${text}</div>',itemLinkFormat:"",itemhighlightclass:"highlight",defaultPanelHeight:0,selectLikeInput:!1,defaultSuggestionMoreText:"",suggestIconRightChoose:" <b>&rarr;</b> press Right to choose",suggestIconEnterChoose:" <sub><b>&crarr;</b></sub> press Return to choose",suggestIconEnterCreate:" <sub><b>&crarr;</b></sub> press Return to add this keyword"}});var R="oninput"in document.createElement("input"),Q=function(b,f){var c=zjs(b),a=c.getData("zjsmoduleautosuggestionoption"),
G=!1;if(a)c.setData("zjsmoduleautosuggestionoption",zjs.extend(a,f)),G=!0;else{var I=!0,B=!1;a=zjs.clone(zjs.moduleUiAutosuggestionOption);var p=c.getAttr("data-option","");zjs.isString(p)&&""!=p.trim()&&(a=zjs.extend(a,p.jsonDecode()));c.removeAttr("data-option");a.sourceUrl||(p=c.getAttr("data-autocomplete-path",""),""!==p&&(a.sourceUrl=p));zjs.hook({after_setAttr:function(d,u,e){d===b&&"data-autocomplete-path"===u&&(d=c.getAttr("data-autocomplete-path",""),""==d?I=!1:(I=!0,a.sourceUrl=d,q.setDataSourceUrl(a.sourceUrl)))}});
"undefined"!=typeof f&&(a=zjs.extend(a,f));var J=c.getValue(""),r=!1;if(zjs.isString(a.source)||c.is("select"))r=zjs.isString(a.source)?zjs(a.source):c,0<r.count()?(B=c.is("select"),a.multichoice=!1,a.usedproperty="id.text",a.source={},r.find("option").eachElement(function(d,u){var b=zjs(d).getValue(),e=zjs(d).getInnerText();b!==a.noneValue&&(a.source[b]=e,0===u&&b!=a.noneValue&&c.setValue(b,!0),d.selected&&b!=a.noneValue&&(J=e,B?r.setValue(b,!0):c.setValue(e,!0)))}),r.hide(),B?a.selectLikeInput&&
r.addClass("select-like-input"):r.removeAttr("required").removeClass("required")):r=!1;B&&!a.selectLikeInput&&(a.focusshowsuggestion=!0);p=a.searchproperty;"id.text"==a.usedproperty&&(a.searchproperty="text",a.usedproperty="id",p="id.text");a.mentionmode&&(a.multichoice=!1);a.multichoice&&(a.multiline=!1);a.limit=parseInt(a.limit);isNaN(a.limit)&&(a.limit=0);a.defaultPanelHeight=parseInt(a.defaultPanelHeight);isNaN(a.defaultPanelHeight)&&(a.defaultPanelHeight=0);if(a.usedSearchRegExp&&zjs.isObject(a.usedSearchRegExp)){var v=
{used:/^(.+\(\d{1,}\))$/,search:/^(.+)\s\(\d{1,}\)$/};a.usedSearchRegExp.used&&(zjs.isString(a.usedSearchRegExp.used)&&(a.usedSearchRegExp.used=new RegExp(a.usedSearchRegExp.used)),zjs.isRegExp(a.usedSearchRegExp.used)&&(v.used=a.usedSearchRegExp.used));a.usedSearchRegExp.search&&(zjs.isString(a.usedSearchRegExp.search)&&(a.usedSearchRegExp.search=new RegExp(a.usedSearchRegExp.search)),zjs.isRegExp(a.usedSearchRegExp.search)&&(v.search=a.usedSearchRegExp.search));a.usedSearchRegExp=v}c.setData("zjsmoduleautosuggestionoption",
a);var h=zjs('<div class="zui-autosuggestion-wrap"><div class="zui-autosuggestion-inputwrap"><div class="zui-autosuggestion-placeholder"></div><input class="zui-autosuggestion-input" autocomplete="off" /><textarea class="zui-autosuggestion-input" autocomplete="off"></textarea><div class="zui-autosuggestion-input-test-wrap"><div class="zui-autosuggestion-input-test"></div></div><div class="zui-estimate-height-wrap"><div class="zui-autosuggestion-input zui-estimate-height"></div></div></div><div class="zui-autosuggestion-panel-wrap zui-panel-hide"><div class="zui-autosuggestion-panel-scroll"><div class="zui-autosuggestion-panel-content"></div></div></div></div>');
a.multiline?h.find("input.zui-autosuggestion-input").remove():h.find("textarea.zui-autosuggestion-input").remove();c.setData("zmoduleautosuggestionwrapel",h);h.insertAfter(c);var x=h.find(".zui-autosuggestion-inputwrap"),l=h.find(".zui-autosuggestion-placeholder"),e=h.find("input.zui-autosuggestion-input,textarea.zui-autosuggestion-input"),m=h.find(".zui-autosuggestion-panel-wrap"),K=h.find(".zui-autosuggestion-panel-scroll"),w=h.find(".zui-autosuggestion-panel-content"),L=!1;e.findUp("form").setAttr("autocomplete",
"off");c.setData("zmoduleautosuggestionwrapinputel",x);c.setData("zjsmoduleautosuggestionnewinput",e.item(0,!0));a.multiline?(L=h.find(".zui-estimate-height"),h.addClass("multiline")):h.find(".zui-estimate-height-wrap").remove();a.suggestIconRightChoose&&l.setData("suggestIconRightChoose",a.suggestIconRightChoose);a.suggestIconEnterChoose&&l.setData("suggestIconEnterChoose",a.suggestIconEnterChoose);a.suggestIconEnterCreate&&l.setData("suggestIconEnterCreate",a.suggestIconEnterCreate);if(!a.customcss){v=
c.width();var F=c.height();c.getStyle("margin-left",!0);c.getStyle("margin-right",!0);c.getStyle("margin-top",!0);c.getStyle("margin-bottom",!0);var Q=c.getStyle("padding-left",!0),ca=c.getStyle("padding-right",!0),da=c.getStyle("padding-top",!0),ea=c.getStyle("padding-bottom",!0),fa=c.getStyle("border-left-width",!0),ha=c.getStyle("border-right-width",!0),ia=c.getStyle("border-top-width",!0),ja=c.getStyle("border-bottom",!0),ka=c.getStyle("font");"content-box"==c.getStyle("box-sizing")&&(v-=Q+ca+
fa+ha,F-=da+ea+ia+ja);x.copyStyleFrom(c);x.setStyle({position:"relative",cursor:"text",width:v,height:F,"-webkit-text-fill-color":"initial"});e.setStyle({top:l.top(),font:ka,width:v})}var M=!1;a.multichoice?(h.addClass("zui-autosuggestion-multi-wrap"),M=h.find(".zui-autosuggestion-input-test").setStyle({margin:e.getStyle("margin"),padding:e.getStyle("padding"),font:e.getStyle("font"),border:e.getStyle("border")})):h.find(".zui-autosuggestion-input-test-wrap").remove();m.height(a.panelmaxheight);K.makeScrollbar({bounce:!1,
usecss:!1,usekey:!1,customCssClass:"zui-autosuggestion-panel",autoUseDefaultWithMobile:!0});m.addClass("zui-panel-hide");var S=function(d){d=Math.min(d,a.panelmaxheight);m.height(d);K.scrollHeight(d).refreshScroll().scrollToTop();m.find(".zui-scrollbar").top(0)},T="",y=function(){return c.getAttr("data-placeholder",c.getAttr("placeholder",""))},n=0,H=0,g="",t="",C=0,U="";v=y();a.labelPlaceholder&&""!==v&&(zjs("<span>").addClass("placeholder").html(v).insertAfter(x),x.addClass("label-placeholder"));
k(l,y());c.hide();""!==J&&(e.setValue(g=J,!0),k(l,""),h.addClass("has-value"));var q=new zjs.dictionary(a.source,p);a.cacheResponse||q.setCacheResponse(!1);""!=a.sourceUrl&&q.setDataSourceUrl(a.sourceUrl);""!=a.initSourceUrl&&(q.setDataSourceUrl(a.initSourceUrl),""===a.sourceUrl&&q.useCacheDataSource(!0),q.getDataFromDataSource());""!=a.sourceDataStructure&&q.setDataSourceDataStructure(a.sourceDataStructure);0<a.limit&&q.setDefaultSearchResultLimit(a.limit);a.searchMatchStartWith&&q.setSearchMatchStartWith(!0);
c.setData("zjsmoduleautosuggestiondictionary",q);var V=function(d){var c=null,b=null,e=d.match(a.usedSearchRegExp.used);e&&2<=e.length&&e[1]&&(c=e[1]);(e=d.match(a.usedSearchRegExp.search))&&2<=e.length&&e[1]&&(b=e[1]);return c&&b?{used:c,search:b}:!1},D=!0,W=function(){B&&(""===c.getValue()?(g="",k(l,""),e.setValue("",!0),h.removeClass("has-value")):h.addClass("has-value"));m.addClass("zui-panel-hide");c.trigger("ui:autosuggestion:blur")},E=function(d,u){G&&(a=c.getData("zjsmoduleautosuggestionoption"),
G=!1);var b=d.getKeyCode();38==b||40==b?"keydown"==u&&la(d,b):37!=b&&(39==b||9==b?("keydown"==u&&ma(),9==b&&(m.addClass("zui-panel-hide"),W())):13==b?a.multichoice?""!=e.getValue("")&&("keydown"==u&&X(),d.preventDefault()):(b=m.hasClass("zui-panel-hide"),"keydown"==u&&X(),a.multiline&&(d.preventDefault(),z(),b&&function(){c.findUp("form").submit()}.delay(1))):27==b?D&&(m.hasClass("zui-panel-hide")||e.setValue(g,!0),"text"===a.usedproperty||a.usedpropertytext?(c.setValue(g,!0),""===g?k(l,y()):k(l,
t="")):c.setValue("",!0),m.addClass("zui-panel-hide"),w.find(".zui-autosuggestion-item").removeClass("highlight"),C=n=0,""!==g&&a.create&&a.suggestIconEnterCreate&&k(l,g,g,!0),a.multiline&&z()):8==b?na():(R&&"input"==u?N(!0):"keyup"==u&&N(!0),c.trigger("input")))},la=function(d,b){d.preventDefault();if(D){w.find(".zui-autosuggestion-item").removeClass(a.itemhighlightclass);40==b&&n++;38==b&&n--;n>H&&(n=0);0>n&&(n=H);if(0===n){var u=g;k(l,t,g)}else{var f=w.find('.zui-autosuggestion-item[data-highlight="'+
n+'"]'),h=f.getData("searchtempdata");f.addClass(a.itemhighlightclass);u=h.text;k(l,"")}e.setValue(u,!0);a.multichoice&&(e.width(M.setInnerHTML(e.getValue("")).width()+10),m.top(x.height()));h&&a.usedproperty in h?c.setValue(h[a.usedproperty],!0):("text"==a.usedproperty||a.usedpropertytext)&&c.setValue(g,!0);a.multiline&&z();K.scrollToElement(f);"object"==typeof h&&(c.trigger("ui:autosuggestion:highlight",h),""!=a.itemLinkFormat&&(T=f.getAttr("href")))}},ma=function(){if(D&&""!=t&&(e.setValue(g=t,
!0),k(l,t=""),0>=n&&(n=C),m.addClass("zui-panel-hide"),!(0>=n))){var d=w.find('.zui-autosuggestion-item[data-highlight="'+n+'"]').getData("searchtempdata");"object"==typeof d&&(a.multichoice?(e.setValue("",!0).width(10),d&&a.usedproperty in d&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(d.text).setAttr("data-value",d[a.usedproperty]).insertBefore(e),h.addClass("zui-autosuggestion-with-token"),A())):(a.multiline&&z(),d&&a.usedproperty in d&&(U=d[a.usedproperty],g=d[a.searchproperty],
e.setValue(g,!0),c.setValue(U,!0))),r&&r.setValue(d.id,!0),c.trigger("ui:autosuggestion:choice",d))}},X=function(){g=e.getValue("");if(D){var d={text:g},b=!1;if((C||n||!m.hasClass("zui-panel-hide")||a.create)&&""!=g){if(0<n)b=w.find('.zui-autosuggestion-item[data-highlight="'+n+'"]');else if(0<C&&a.useSuggestedValueWhenEnter)b=w.find('.zui-autosuggestion-item[data-highlight="'+C+'"]');else if("id"==a.usedproperty){var f=w.find(".zui-autosuggestion-item");0<f.count()&&(b=f.item(0))}else a.create&&
(d={},q.addIndex((d[a.usedproperty]=g,d[a.searchproperty]=g,d),a.searchproperty),d={},d=(d.text=g,d[a.usedproperty]=g,d[a.searchproperty]=g,d));b&&(d=b.getData("searchtempdata"))}""!=g&&k(l,t="");m.addClass("zui-panel-hide");"object"==typeof d&&(a.multichoice?(e.setValue("",!0).width(10),g="",d&&a.usedproperty in d&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(d.text).setAttr("data-value",d[a.usedproperty]).insertBefore(e),h.addClass("zui-autosuggestion-with-token")),A()):d&&
(k(l,t=""),m.addClass("zui-panel-hide"),a.searchproperty in d&&e.setValue(g=d[a.searchproperty],!0),a.usedproperty in d&&c.setValue(d[a.usedproperty],!0)),r&&r.setValue(d.id,!0),c.trigger("ui:autosuggestion:choice",d),""!=a.itemLinkFormat&&b&&(b=b.getAttr("href"),b==T&&(window.location.href=b)))}},na=function(){a.multichoice&&D&&""==e.getValue("")&&(h.find(".zui-autosuggestion-token").lastChild().remove(),A(),""==c.getValue()&&(h.removeClass("zui-autosuggestion-with-token"),t="",function(){l.top(e.top()).left(e.left()).show();
k(l,y())}.delay(80)))},N=function(d){var b=e.getValue("");g=b;""!==b?h.addClass("has-value"):h.removeClass("has-value");if(D){k(l,"");if(a.multichoice){e.width(M.setInnerHTML(b).width()+10);if(""==b){""==c.getValue()?k(l.show(),y()):l.hide();t="";k(l,y());m.addClass("zui-panel-hide");return}l.top(e.top()).left(e.left()).show()}else{a.multiline&&z();"text"==a.usedproperty||a.usedpropertytext?c.setValue(b,!0):c.setValue("",!0);if(""==b&&B){O();return}if(""==b||d&&b.length<a.minlength){t="";""!=b?k(l,
"",b):k(l,y());m.addClass("zui-panel-hide");return}}d&&I&&(n=0,t="",C=0,c.trigger("ui:autosuggestion:beforesearch",{value:b}),c.getData("zjsmoduleautosuggestiondictionary").asyncSearch(b,function(d){c.trigger("ui:autosuggestion:searchresult",{value:b,result:d});g=e.getValue();0!==d.length&&""!==g||m.addClass("zui-panel-hide");if(""===g)k(l,y());else if(0===d.length)g===b&&a.create&&a.suggestIconEnterCreate&&k(l,g,g,!0);else{H=d.length;m.removeClass("zui-panel-hide").top(x.height());w.setInnerHTML("");
var f=0;zjs.eachItem(d,function(d,c){var e=Y(a,w,d,c);f+=e.height();e.hover(Z);e.on("mousedown",aa);if(""==t){e=d.text.toLowerCase();var u=b.toLowerCase();0===e.indexOf(u)&&(t=b+d.text.substr(b.length),C=c+1)}});k(l,t,b);S(f)}}))}else c.setValue(b,!0)};c.setData("zjsmoduleautosuggestionkeytype",N);var Z=function(d){w.find(".zui-autosuggestion-item").removeClass(a.itemhighlightclass);d=zjs(this).addClass(a.itemhighlightclass).getData("searchtempdata");"object"==typeof d&&c.trigger("ui:autosuggestion:highlight",
d)},ba=function(d,b){b=b||!1;"object"==typeof d&&(g=d.text,e.setValue(g,!0),h.addClass("has-value"),a.multichoice?(e.setValue("",!0).width(10),d&&a.usedproperty in d&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(d.text).setAttr("data-value",d[a.usedproperty]).insertBefore(e),h.addClass("zui-autosuggestion-with-token"),A())):(d&&a.usedproperty in d&&c.setValue(d[a.usedproperty],!0),a.multiline&&z()),r&&r.setValue(d.id,!0),n=b?b.getAttr("data-highlight",0).toInt():0,k(l,t=""),m.addClass("zui-panel-hide"),
b&&(e.focus(),c.trigger("ui:autosuggestion:choice",d)))},aa=function(a){a=zjs(this);var d=a.getData("searchtempdata");ba(d,a)};c.setData("zjsmoduleautosuggestionfuncturnonoffkey",function(a){(D=a||!1)||k(l,"")});var A=function(){var d=[];h.find(".zui-autosuggestion-token").eachElement(function(a){d.push(zjs(a).getAttr("data-value",""))});c.setValue(d.join(a.delimiter),!0)},z=function(){L.setInnerHTML(e.getValue());var d=Math.max(L.height(),a.minheight);e.height(d);m.hasClass("zui-panel-hide")||m.top(x.height())};
a.multiline&&(zjs(window).on("resize",z),z.delay(1));if(R)e.on("keydown",function(a,b){E(a,"keydown")}).on("input",function(a,b){E(a,"input")});else e.on("keydown",function(a,b){E(a,"keydown")}).on("keypress",function(a,b){E(a,"keypress")}).on("keyup",function(a,b){E(a,"keyup")}).on("mouseup",function(a,b){E(a,"keyup")});e.on("blur",function(a){W.delay(100)});x.on("click",function(){e.focus()});c.on("_hardSelectValue",function(a){a=q.getItemById(this.getValue());ba(a,!1)});var P=!1;c.on("focus",function(){P||
e.focus()});e.on("focus",function(){h.addClass("focus");P=!0;c.trigger("focus");P=!1}).on("blur",function(){h.removeClass("focus");r&&""===e.getValue().trim()&&r.setValue(a.noneValue,!0);c.trigger("blur")}).on("keyup",function(){c.trigger("keyup")});a.autofocus&&e.focus();var O=function(){var b=c.getData("zjsmoduleautosuggestiondictionary").getItemsLimit();if(0!=b.length){H=b.length;m.removeClass("zui-panel-hide").top(x.height());w.setInnerHTML("");var e=0;zjs.eachItem(b,function(b,d){var c=Y(a,w,
b,d);e+=c.height();c.hover(Z);c.on("mousedown",aa)});""!==a.defaultSuggestionMoreText&&(e+=zjs("<div>").addClass("zui-autosuggestion-item").addClass("more-text").html(a.defaultSuggestionMoreText).appendTo(w).height());S(0<a.defaultPanelHeight?a.defaultPanelHeight:e)}};if(a.focusshowsuggestion)e.on("focus",function(b){if(B||""==g){if(b&&b.getTarget&&(b=b.getTarget())&&(zjs(b).hasClass("zui-autosuggestion-token")||zjs(b).hasClass("zui-autosuggestion-item")))return;0<a.defaultPanelHeight?O(a.defaultPanelHeight):
function(){O()}.delay(100)}});zjs(document).on("click",function(a){a=zjs(a.target()).findUp(".zui-autosuggestion-wrap");if(0<a.count()&&(a=a.find(".zui-autosuggestion-panel-wrap"),0<a.count()&&a.item(0,!0)===m.item(0,!0)))return;(function(){m.addClass("zui-panel-hide")}).delay(1)});if(a.multichoice)x.on("click",".zui-autosuggestion-token",function(a){this.remove();A();""==c.getValue()&&(h.removeClass("zui-autosuggestion-with-token"),""==g&&(t="",k(l,y())));(function(){l.show().top(e.top()).left(e.left())}).delay(50)});
a.multichoice&&""!=g&&(p=!0,a.usedSearchRegExp?(zjs.eachItem(g.split(new RegExp("\\s*"+a.delimiter+"\\s*")),function(b){if(b=V(b.trim())){var c={};q.addIndex((c[a.usedproperty]=b.used,c[a.searchproperty]=b.search,c),a.searchproperty);zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(b.search).setAttr("data-value",b.used).insertBefore(e)}}),A()):"id"==a.usedproperty?zjs.eachItem(g.split(new RegExp("\\s*"+a.delimiter+"\\s*")),function(b){q.asyncGetItemById(b,function(b){b&&(zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(b.text).setAttr("data-value",
b[a.usedproperty]).insertBefore(e),A())})}):"text"==a.usedproperty?zjs.eachItem(g.split(new RegExp("\\s*"+a.delimiter+"\\s*")),function(b){q.asyncSearch(b,function(b){0>=b.length||(b=b[0],zjs('<div class="zui-autosuggestion-token"></div>').setInnerHTML(b.text).setAttr("data-value",b[a.usedproperty]).insertBefore(e),A())})}):p=!1,p&&(h.addClass("zui-autosuggestion-with-token"),e.setValue(g="",!0),l.hide()));!a.multichoice&&""!=g&&a.usedSearchRegExp&&(p=V(g.trim()))&&(v={},q.addIndex((v[a.usedproperty]=
p.used,v[a.searchproperty]=p.search,v),a.searchproperty),c.setValue(p.used,!0),e.setValue(g=p.search,!0));c.setData("setValueCustomMethod","autosuggestionSetValue")}},Y=function(b,f,c,a){if(""!=b.itemLinkFormat){var k=zjs.isFunction(b.itemLinkFormat)?b.itemLinkFormat(c):b.itemLinkFormat;k=zjs('<a class="zui-autosuggestion-item"></a>').setAttr("href",k.format(c))}else k=zjs('<div class="zui-autosuggestion-item"></div>');k.appendTo(f);k.setData("searchtempdata",c);k.setAttr("data-highlight",a+1);f=
"";"function"==typeof b.itemtemplate&&(f=b.itemtemplate(c));"string"==typeof b.itemtemplate&&(f=b.itemtemplate);"string"==typeof f&&(f=f.format(c));zjs(f).appendTo(k);return k},F=function(b,f){var c=zjs(b).getData("zjsmoduleautosuggestionfuncturnonoffkey",!1);c&&c(f)},k=function(b,f,c,a){f=f||"";c=c||"";a=a||!1;var k=f;c&&f&&(k='<span class="_hide">'+f.substr(0,c.length)+"</span>"+f.substr(c.length),f.length>c.length&&b.getData("suggestIconRightChoose")?k+='<i class="_suggest-msg _right-choose">'+
b.getData("suggestIconRightChoose")+"</i>":a&&f.length===c.length&&b.getData("suggestIconEnterCreate")?k+='<i class="_suggest-msg _enter-create">'+b.getData("suggestIconEnterCreate")+"</i>":!a&&f.length===c.length&&b.getData("suggestIconEnterChoose")&&(k+='<i class="_suggest-msg _enter-choose">'+b.getData("suggestIconEnterChoose")+"</i>"));b.setInnerHTML(k)};zjs.extendMethod({isAutosuggestion:function(){return!!zjs(this.item(0,1)).getData("zjsmoduleautosuggestiondictionary")},makeAutosuggestion:function(b){return this.eachElement(function(f){Q(f,
b)})},autosuggestionAddindex:function(b){return this.eachElement(function(f){var c=zjs(f);f=c.getData("zjsmoduleautosuggestiondictionary");c=c.getData("zjsmoduleautosuggestionoption");f&&f.addIndex(b,c.searchproperty)})},autosuggestionRemoveindex:function(b,f){return this.eachElement(function(c){(c=zjs(c).getData("zjsmoduleautosuggestiondictionary"))&&c.removeIndex(b,f)})},autosuggestionResetIndex:function(){return this.eachElement(function(b){(b=zjs(b).getData("zjsmoduleautosuggestiondictionary"))&&
b.resetIndex()})},autosuggestionFocus:function(){return this.eachElement(function(b){b=zjs(b);var f=b.getData("zmoduleautosuggestionwrapinputel");f?f.trigger("click"):b.focus()})},autosuggestionTurnOff:function(){return this.eachElement(function(b){F(b,!1)})},autosuggestionTurnOn:function(){return this.eachElement(function(b){F(b,!0)})},autosuggestionSetValue:function(b,f){b=b||"";f=f||!1;return this.eachElement(function(c){var a=zjs(c).getData("zjsmoduleautosuggestionnewinput");if(a)try{zjs(c).setValue(b,
!0),"SELECT"===zjs(c).tagName()?zjs(c).trigger("_hardSelectValue"):(a.value=b,zjs(c).getData("zjsmoduleautosuggestionkeytype")(f))}catch(G){}else zjs(c).setValue(b,!0)})},autosuggestionDisable:function(b){b=b||!1;return this.eachElement(function(f){var c=zjs(f).getData("zjsmoduleautosuggestionnewinput");f=zjs(f).getData("zmoduleautosuggestionwrapel");if(c)try{(c.disabled=b)?f.addClass("disabled"):f.removeClass("disabled")}catch(a){}})}});zjs.hook({after_setInnerHTML:function(b){zjs(b).find(".zautosuggestion").makeAutosuggestion()},
after_insertDOM:function(b){zjs(b).is(".zautosuggestion")&&zjs(b).makeAutosuggestion();zjs(b).find(".zautosuggestion").makeAutosuggestion()}});zjs(function(){zjs(".zautosuggestion").makeAutosuggestion()});"required"in zjs&&zjs.required("ui.autosuggestion")});